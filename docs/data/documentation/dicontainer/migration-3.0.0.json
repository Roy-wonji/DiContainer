{"variants":[{"paths":["\/documentation\/dicontainer\/migration-3.0.0"],"traits":[{"interfaceLanguage":"swift"}]}],"primaryContentSections":[{"content":[{"level":2,"anchor":"%EC%9A%94%EC%95%BD","text":"요약","type":"heading"},{"inlineContent":[{"text":"3.0.0의 핵심은 “읽기 경로 일원화”와 “핫패스 비차단화”입니다. 외부 읽기는 ","type":"text"},{"code":"UnifiedDI","type":"codeVoice"},{"text":"\/","type":"text"},{"code":"DIContainer","type":"codeVoice"},{"text":"의 동기 헬퍼(스냅샷 기반)로 통일되며, 내부 트래킹은 액터 격리하에 비차단(Task)으로 전송됩니다.","type":"text"}],"type":"paragraph"},{"level":3,"anchor":"%EC%A3%BC%EC%9A%94-%EB%B3%80%EA%B2%BD%EC%A0%90","type":"heading","text":"주요 변경점"},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"text":"(Breaking) AutoDIOptimizer의 다수 읽기용(nonisolated\/static) API를 내부화(internal) 또는 Deprecated 처리","type":"text"}],"type":"paragraph"},{"items":[{"content":[{"inlineContent":[{"text":"외부에서는 ","type":"text"},{"code":"UnifiedDI","type":"codeVoice"},{"type":"text","text":"\/"},{"code":"DIContainer","type":"codeVoice"},{"type":"text","text":"의 동기 헬퍼만 사용"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"내부에서만 ","type":"text"},{"type":"codeVoice","code":"readSnapshot()"},{"text":"을 사용해 스냅샷을 읽고 필요한 정보를 계산","type":"text"}],"type":"paragraph"}]}],"type":"unorderedList"}]},{"content":[{"inlineContent":[{"text":"AutoMonitor를 ","type":"text"},{"code":"@DIActor","type":"codeVoice"},{"type":"text","text":"로 정렬하여 내부 hop 제거"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"추적 호출(register\/resolve)은 fire-and-forget(Task)로 비차단 전송","type":"text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"스냅샷\/그래프 갱신 100ms 디바운스(기본값)","type":"text"}]}]}]},{"text":"영향도","level":2,"anchor":"%EC%98%81%ED%96%A5%EB%8F%84","type":"heading"},{"inlineContent":[{"text":"대부분의 프로젝트는 다음 항목만 확인하면 됩니다.","type":"text"}],"type":"paragraph"},{"items":[{"content":[{"inlineContent":[{"text":"AutoDIOptimizer의 읽기 API를 직접 호출하던 코드가 있다면 다음 표대로 교체","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"테스트에서 타이밍 민감한 검증은 스냅샷 반영 대기를 폴링(waitUntil\/waitAsyncUntil)으로 변경","type":"text"}],"type":"paragraph"}]}],"type":"orderedList"},{"anchor":"API-%EB%A7%A4%ED%95%91Deprecated-%E2%86%92-Replacement","level":2,"text":"API 매핑(Deprecated → Replacement)","type":"heading"},{"header":"row","rows":[[[{"inlineContent":[{"text":"Deprecated (AutoDIOptimizer)","type":"text"}],"type":"paragraph"}],[{"inlineContent":[{"text":"Replacement","type":"text"}],"type":"paragraph"}]],[[{"inlineContent":[{"code":"getCurrentStats()","type":"codeVoice"}],"type":"paragraph"}],[{"inlineContent":[{"code":"UnifiedDI.stats()","type":"codeVoice"},{"text":" \/ ","type":"text"},{"code":"DIContainer.getUsageStatistics()","type":"codeVoice"}],"type":"paragraph"}]],[[{"inlineContent":[{"code":"visualizeGraph()","type":"codeVoice"}],"type":"paragraph"}],[{"inlineContent":[{"code":"UnifiedDI.autoGraph()","type":"codeVoice"},{"text":" \/ ","type":"text"},{"code":"DIContainer.getAutoGeneratedGraph()","type":"codeVoice"}],"type":"paragraph"}]],[[{"inlineContent":[{"code":"getFrequentlyUsedTypes()","type":"codeVoice"}],"type":"paragraph"}],[{"inlineContent":[{"code":"UnifiedDI.optimizedTypes()","type":"codeVoice"},{"text":" \/ ","type":"text"},{"code":"DIContainer.getOptimizedTypes()","type":"codeVoice"}],"type":"paragraph"}]],[[{"inlineContent":[{"code":"getDetectedCircularDependencies()","type":"codeVoice"}],"type":"paragraph"}],[{"inlineContent":[{"code":"UnifiedDI.circularDependencies()","type":"codeVoice"},{"text":" \/ ","type":"text"},{"code":"DIContainer.getDetectedCircularDependencies()","type":"codeVoice"}],"type":"paragraph"}]],[[{"inlineContent":[{"code":"isOptimized(_:)","type":"codeVoice"}],"type":"paragraph"}],[{"inlineContent":[{"code":"UnifiedDI.isOptimized(_:)","type":"codeVoice"},{"text":" \/ ","type":"text"},{"code":"DIContainer.isAutoOptimized(_:)","type":"codeVoice"}],"type":"paragraph"}]],[[{"inlineContent":[{"code":"getActorOptimizationSuggestions()","type":"codeVoice"}],"type":"paragraph"}],[{"inlineContent":[{"code":"UnifiedDI.actorOptimizations","type":"codeVoice"}],"type":"paragraph"}]],[[{"inlineContent":[{"code":"getDetectedTypeSafetyIssues()","type":"codeVoice"}],"type":"paragraph"}],[{"inlineContent":[{"code":"UnifiedDI.typeSafetyIssues","type":"codeVoice"}],"type":"paragraph"}]],[[{"inlineContent":[{"code":"getDetectedAutoFixedTypes()","type":"codeVoice"}],"type":"paragraph"}],[{"inlineContent":[{"code":"UnifiedDI.autoFixedTypes","type":"codeVoice"}],"type":"paragraph"}]],[[{"inlineContent":[{"code":"getActorHopStats()","type":"codeVoice"}],"type":"paragraph"}],[{"inlineContent":[{"code":"UnifiedDI.actorHopStats","type":"codeVoice"}],"type":"paragraph"}]],[[{"inlineContent":[{"code":"getAsyncPerformanceStats()","type":"codeVoice"}],"type":"paragraph"}],[{"inlineContent":[{"code":"UnifiedDI.asyncPerformanceStats","type":"codeVoice"}],"type":"paragraph"}]],[[{"inlineContent":[{"code":"getRecentGraphChanges(...)","type":"codeVoice"}],"type":"paragraph"}],[{"inlineContent":[{"code":"UnifiedDI.getGraphChanges(...)","type":"codeVoice"}],"type":"paragraph"}]],[[{"inlineContent":[{"code":"getCurrentLogLevel()","type":"codeVoice"}],"type":"paragraph"}],[{"inlineContent":[{"code":"UnifiedDI.logLevel","type":"codeVoice"},{"text":" \/ ","type":"text"},{"code":"UnifiedDI.getLogLevel()","type":"codeVoice"}],"type":"paragraph"}]]],"type":"table"},{"style":"note","name":"내부 용도","content":[{"type":"paragraph","inlineContent":[{"text":"","type":"text"},{"code":"AutoDIOptimizer.readSnapshot()","type":"codeVoice"},{"text":"으로 스냅샷을 읽어 필요한 값을 계산하세요.","type":"text"}]}],"type":"aside"},{"anchor":"%EC%BD%94%EB%93%9C-%EB%B3%80%EA%B2%BD-%EC%98%88%EC%8B%9C","level":2,"text":"코드 변경 예시","type":"heading"},{"anchor":"%EA%B7%B8%EB%9E%98%ED%94%84%ED%86%B5%EA%B3%84-%EC%9D%BD%EA%B8%B0","level":3,"text":"그래프\/통계 읽기","type":"heading"},{"syntax":"diff","code":["- let graph = AutoDIOptimizer.shared.visualizeGraph()","+ let graph = UnifiedDI.autoGraph()","","- let stats = AutoDIOptimizer.shared.getCurrentStats()","+ let stats = UnifiedDI.stats()","","- let optimized = AutoDIOptimizer.shared.getFrequentlyUsedTypes()","+ let optimized = UnifiedDI.optimizedTypes()"],"type":"codeListing"},{"anchor":"%EB%A1%9C%EA%B7%B8-%EB%A0%88%EB%B2%A8","level":3,"text":"로그 레벨","type":"heading"},{"syntax":"diff","code":["- let level = AutoDIOptimizer.shared.getCurrentLogLevel()","+ let level = UnifiedDI.logLevel","","- AutoDIOptimizer.shared.setLogLevel(.errors)","+ UnifiedDI.setLogLevel(.errors)"],"type":"codeListing"},{"anchor":"%EC%88%9C%ED%99%98-%EC%9D%98%EC%A1%B4%EC%84%B1","level":3,"text":"순환 의존성","type":"heading"},{"syntax":"diff","code":["- let cycles = AutoDIOptimizer.shared.getDetectedCircularDependencies()","+ let cycles = UnifiedDI.circularDependencies()"],"type":"codeListing"},{"type":"heading","text":"테스트 마이그레이션 팁","level":2,"anchor":"%ED%85%8C%EC%8A%A4%ED%8A%B8-%EB%A7%88%EC%9D%B4%EA%B7%B8%EB%A0%88%EC%9D%B4%EC%85%98-%ED%8C%81"},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"text":"스냅샷은 비차단 전송 후 디바운스(기본 100ms)로 반영됩니다. 타이밍 민감한 테스트는 폴링 헬퍼를 사용하세요.","type":"text"}],"type":"paragraph"}]}]},{"code":["waitUntil(description: \"wait snapshot\") {","    UnifiedDI.autoGraph().contains(\"SomeType\")","}"],"syntax":"swift","type":"codeListing"},{"level":2,"text":"성능 관련","anchor":"%EC%84%B1%EB%8A%A5-%EA%B4%80%EB%A0%A8","type":"heading"},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"text":"디바운스 간격은 ","type":"text"},{"code":"UnifiedDI.configureOptimization(debounceMs:)","type":"codeVoice"},{"text":"에서 설정 가능합니다(권장: 50\/100\/200ms 실험).","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"핫패스에서 추적은 fire-and-forget(Task)로 비차단 전송되어 p95\/p99 지연 개선에 유리합니다.","type":"text"}]}]}]},{"type":"heading","text":"부트스트랩 관련(변경 없음)","level":2,"anchor":"%EB%B6%80%ED%8A%B8%EC%8A%A4%ED%8A%B8%EB%9E%A9-%EA%B4%80%EB%A0%A8%EB%B3%80%EA%B2%BD-%EC%97%86%EC%9D%8C"},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"text":"2.x.x의 부트스트랩 API 그대로 사용 가능합니다. 상세는 ","type":"text"},{"isActive":true,"identifier":"doc:\/\/DiContainer\/documentation\/DiContainer\/Bootstrap","type":"reference"},{"text":" 참고.","type":"text"}]}]}]},{"type":"heading","text":"FAQ","level":2,"anchor":"FAQ"},{"type":"heading","text":"AutoDIOptimizer.readSnapshot()을 외부에서 써도 되나요?","level":3,"anchor":"AutoDIOptimizerreadSnapshot%EC%9D%84-%EC%99%B8%EB%B6%80%EC%97%90%EC%84%9C-%EC%8D%A8%EB%8F%84-%EB%90%98%EB%82%98%EC%9A%94"},{"type":"paragraph","inlineContent":[{"text":"내부용을 권장합니다. 외부에서는 ","type":"text"},{"code":"UnifiedDI","type":"codeVoice"},{"text":"\/","type":"text"},{"code":"DIContainer","type":"codeVoice"},{"text":"의 동기 헬퍼(스냅샷 기반)를 사용하세요.","type":"text"}]},{"type":"heading","text":"Deprecated API는 언제 제거되나요?","level":3,"anchor":"Deprecated-API%EB%8A%94-%EC%96%B8%EC%A0%9C-%EC%A0%9C%EA%B1%B0%EB%90%98%EB%82%98%EC%9A%94"},{"type":"paragraph","inlineContent":[{"text":"3.x에서 Deprecated로 유지되며, 4.0에서 제거될 수 있습니다. 본 문서의 Replacement로 교체하세요.","type":"text"}]}],"kind":"content"}],"metadata":{"roleHeading":"Article","role":"article","title":"DiContainer 3.0.0 마이그레이션 가이드","modules":[{"name":"DiContainer"}]},"identifier":{"interfaceLanguage":"swift","url":"doc:\/\/DiContainer\/documentation\/DiContainer\/MIGRATION-3.0.0"},"kind":"article","hierarchy":{"paths":[["doc:\/\/DiContainer\/documentation\/DiContainer"]]},"sections":[],"schemaVersion":{"minor":3,"major":0,"patch":0},"abstract":[{"text":"이 문서는 2.x.x에서 3.0.0으로 업그레이드할 때 필요한 변경 사항과 권장 마이그레이션 경로를 정리합니다.","type":"text"}],"references":{"doc://DiContainer/documentation/DiContainer":{"identifier":"doc:\/\/DiContainer\/documentation\/DiContainer","title":"DiContainer","abstract":[],"kind":"symbol","role":"collection","type":"topic","url":"\/documentation\/dicontainer"},"doc://DiContainer/documentation/DiContainer/Bootstrap":{"type":"topic","title":"부트스트랩 가이드 (Bootstrap)","role":"article","url":"\/documentation\/dicontainer\/bootstrap","identifier":"doc:\/\/DiContainer\/documentation\/DiContainer\/Bootstrap","kind":"article","abstract":[{"type":"text","text":"앱 시작 시 의존성을 안전하고 일관되게 준비하는 방법을 소개합니다. DiContainer는 다양한 부트스트랩 패턴을 제공하여 동기\/비동기 초기화, 테스트 격리, 조건부 초기화 등을 유연하게 구성할 수 있습니다."}]}}}