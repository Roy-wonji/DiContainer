{"metadata":{"title":"자동 DI 최적화","role":"article","roleHeading":"Article","modules":[{"name":"DiContainer"}]},"variants":[{"traits":[{"interfaceLanguage":"swift"}],"paths":["\/documentation\/dicontainer\/autodioptimizer"]}],"primaryContentSections":[{"kind":"content","content":[{"text":"개요","level":2,"type":"heading","anchor":"%EA%B0%9C%EC%9A%94"},{"inlineContent":[{"type":"text","text":"DiContainer는 별도 설정 없이 자동으로 의존성 관계를 추적하고 성능을 최적화하는 시스템을 제공합니다. 개발자가 신경쓰지 않아도 백그라운드에서 자동으로 실행됩니다."}],"type":"paragraph"},{"anchor":"%EC%9E%90%EB%8F%99-%EA%B8%B0%EB%8A%A5%EB%93%A4","level":2,"type":"heading","text":"자동 기능들"},{"type":"heading","level":3,"text":"🔄 자동 의존성 그래프 생성","anchor":"%F0%9F%94%84-%EC%9E%90%EB%8F%99-%EC%9D%98%EC%A1%B4%EC%84%B1-%EA%B7%B8%EB%9E%98%ED%94%84-%EC%83%9D%EC%84%B1"},{"type":"paragraph","inlineContent":[{"text":"의존성을 등록하거나 해결할 때마다 자동으로 그래프가 업데이트됩니다.","type":"text"}]},{"type":"codeListing","code":["\/\/ 등록하기만 하면 자동으로 그래프에 추가","let service = UnifiedDI.register(UserService.self) {","    UserServiceImpl()","}","","\/\/ 자동 생성된 그래프는 LogMacro로 자동 출력됩니다","\/\/ 별도 호출 불필요 - 자동 로깅: 📊 Auto tracking registration: UserService"],"syntax":"swift"},{"text":"🎯 자동 Actor Hop 감지 및 최적화","anchor":"%F0%9F%8E%AF-%EC%9E%90%EB%8F%99-Actor-Hop-%EA%B0%90%EC%A7%80-%EB%B0%8F-%EC%B5%9C%EC%A0%81%ED%99%94","type":"heading","level":3},{"type":"paragraph","inlineContent":[{"type":"text","text":"의존성 해결 시 자동으로 Actor hop 패턴을 감지하고 최적화 제안을 제공합니다."}]},{"type":"codeListing","code":["\/\/ 해결하기만 하면 자동으로 Actor hop 감지","let service = UnifiedDI.resolve(UserService.self)","","\/\/ 자동 로그 (5회 이상 hop 발생 시):","\/\/ 🎯 Actor optimization suggestion for UserService: MainActor로 이동 권장 (hops: 12, avg: 85.3ms)"],"syntax":"swift"},{"type":"heading","anchor":"%F0%9F%94%92-%EC%9E%90%EB%8F%99-%ED%83%80%EC%9E%85-%EC%95%88%EC%A0%84%EC%84%B1-%EA%B2%80%EC%A6%9D","level":3,"text":"🔒 자동 타입 안전성 검증"},{"inlineContent":[{"type":"text","text":"런타임에서 타입 안전성 문제를 자동으로 감지하고 안전하게 처리합니다."}],"type":"paragraph"},{"type":"codeListing","syntax":"swift","code":["\/\/ 해결 시 자동으로 타입 안전성 검증","let service = UnifiedDI.resolve(UserService.self)","","\/\/ 자동 로그 (문제 감지 시):","\/\/ 🔒 Type safety issue: UserService is not Sendable","\/\/ 🚨 Auto safety check: UserService resolved to nil - dependency not registered"]},{"type":"heading","text":"⚡ 자동 성능 최적화","level":3,"anchor":"%E2%9A%A1-%EC%9E%90%EB%8F%99-%EC%84%B1%EB%8A%A5-%EC%B5%9C%EC%A0%81%ED%99%94"},{"type":"paragraph","inlineContent":[{"type":"text","text":"사용 패턴을 분석하여 자주 사용되는 타입을 자동으로 최적화합니다."}]},{"syntax":"swift","type":"codeListing","code":["\/\/ 여러 번 사용하면 자동으로 최적화됨","for _ in 1...15 {","    let service = UnifiedDI.resolve(UserService.self)","}","","\/\/ 최적화된 타입들은 자동으로 로깅됩니다","\/\/ 자동 로그: ⚡ Auto optimized: UserService (10 uses)"]},{"text":"📊 자동 사용 통계 수집","level":3,"anchor":"%F0%9F%93%8A-%EC%9E%90%EB%8F%99-%EC%82%AC%EC%9A%A9-%ED%86%B5%EA%B3%84-%EC%88%98%EC%A7%91","type":"heading"},{"type":"paragraph","inlineContent":[{"text":"각 타입의 사용 빈도가 자동으로 추적됩니다.","type":"text"}]},{"code":["\/\/ 사용 통계는 30초마다 자동으로 로깅됩니다","\/\/ 자동 로그: 📊 [AutoDI] Current stats: [\"UserService\": 15, \"DataRepository\": 8]"],"type":"codeListing","syntax":"swift"},{"type":"heading","text":"⚠️ 자동 순환 의존성 감지","level":3,"anchor":"%E2%9A%A0%EF%B8%8F-%EC%9E%90%EB%8F%99-%EC%88%9C%ED%99%98-%EC%9D%98%EC%A1%B4%EC%84%B1-%EA%B0%90%EC%A7%80"},{"type":"paragraph","inlineContent":[{"type":"text","text":"의존성 등록 시 순환 의존성을 자동으로 감지하고 경고합니다."}]},{"syntax":"swift","type":"codeListing","code":["\/\/ 순환 의존성이 있다면 자동으로 감지하고 에러 로깅","\/\/ 자동 로그: ⚠️ Auto detected circular dependencies: {ServiceA, ServiceB}"]},{"type":"heading","level":2,"text":"API 참조","anchor":"API-%EC%B0%B8%EC%A1%B0"},{"text":"자동 수집 정보 확인","type":"heading","level":3,"anchor":"%EC%9E%90%EB%8F%99-%EC%88%98%EC%A7%91-%EC%A0%95%EB%B3%B4-%ED%99%95%EC%9D%B8"},{"type":"codeListing","syntax":"swift","code":["\/\/ 🔄 자동 생성된 의존성 그래프","UnifiedDI.autoGraph","","\/\/ ⚡ 자동 최적화된 타입들","UnifiedDI.optimizedTypes","","\/\/ 📊 자동 수집된 사용 통계","UnifiedDI.stats","","\/\/ ⚠️ 자동 감지된 순환 의존성","UnifiedDI.circularDependencies","","\/\/ 🎯 Actor 최적화 제안 목록","UnifiedDI.actorOptimizations","","\/\/ 🔒 타입 안전성 이슈 목록","UnifiedDI.typeSafetyIssues","","\/\/ 🛠️ 자동 수정된 타입들","UnifiedDI.autoFixedTypes","","\/\/ ⚡ Actor hop 통계","UnifiedDI.actorHopStats","","\/\/ 📊 비동기 성능 통계 (밀리초)","UnifiedDI.asyncPerformanceStats"]},{"text":"최적화 제어","type":"heading","level":3,"anchor":"%EC%B5%9C%EC%A0%81%ED%99%94-%EC%A0%9C%EC%96%B4"},{"type":"codeListing","syntax":"swift","code":["\/\/ 자동 최적화 비활성화 (기본값: true)","UnifiedDI.setAutoOptimization(false)","","\/\/ 특정 타입의 최적화 상태 확인","UnifiedDI.isOptimized(UserService.self)","","\/\/ 통계 초기화","UnifiedDI.resetStats()"]},{"text":"로깅 레벨 제어","type":"heading","level":3,"anchor":"%EB%A1%9C%EA%B9%85-%EB%A0%88%EB%B2%A8-%EC%A0%9C%EC%96%B4"},{"inlineContent":[{"inlineContent":[{"type":"text","text":"기본값"}],"type":"strong"},{"text":": 모든 로그가 활성화되어 있습니다 (","type":"text"},{"type":"codeVoice","code":".all"},{"text":")","type":"text"}],"type":"paragraph"},{"level":4,"text":"사용 시나리오별 설정:","anchor":"%EC%82%AC%EC%9A%A9-%EC%8B%9C%EB%82%98%EB%A6%AC%EC%98%A4%EB%B3%84-%EC%84%A4%EC%A0%95","type":"heading"},{"code":["\/\/ ✅ 기본 상태: 모든 로그 출력 (권장)","\/\/ 📊 Auto tracking registration: UserService","\/\/ ⚡ Auto optimized: UserService (10 uses)","\/\/ 📊 [AutoDI] Current stats: {...}","","\/\/ 📝 등록된 의존성만 보고 싶은 경우","UnifiedDI.setLogLevel(.registration)","\/\/ 📊 Auto tracking registration: UserService (등록 로그만)","","\/\/ ⚡ 성능 최적화 정보만 보고 싶은 경우","UnifiedDI.setLogLevel(.optimization)","\/\/ ⚡ Auto optimized: UserService (10 uses) (최적화 로그만)","","\/\/ ⚠️ 순환 의존성 에러만 보고 싶은 경우","UnifiedDI.setLogLevel(.errors)","\/\/ ⚠️ Auto detected circular dependencies: {...} (에러만)","","\/\/ 🔇 모든 자동 로깅을 끄고 싶은 경우","UnifiedDI.setLogLevel(.off)","\/\/ (로그 없음)","","\/\/ 🔄 기본값으로 되돌리기","UnifiedDI.setLogLevel(.all)","","\/\/ 📋 현재 설정 확인","Log.debug(\"현재 로깅 레벨: \\(UnifiedDI.logLevel)\")"],"syntax":"swift","type":"codeListing"},{"level":2,"text":"주요 특징","anchor":"%EC%A3%BC%EC%9A%94-%ED%8A%B9%EC%A7%95","type":"heading"},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"inlineContent":[{"type":"text","text":"무설정"}],"type":"strong"},{"text":": 별도 설정 없이 자동으로 동작","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"inlineContent":[{"type":"text","text":"백그라운드 실행"}],"type":"strong"},{"text":": 성능에 영향 없이 백그라운드에서 실행","type":"text"}]}]},{"content":[{"inlineContent":[{"type":"strong","inlineContent":[{"text":"실시간 업데이트","type":"text"}]},{"type":"text","text":": 30초마다 자동으로 최적화 수행"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"strong","inlineContent":[{"type":"text","text":"메모리 효율적"}]},{"type":"text","text":": 상위 20개 타입만 캐시에 유지"}],"type":"paragraph"}]}],"type":"unorderedList"},{"level":2,"text":"성능 영향","anchor":"%EC%84%B1%EB%8A%A5-%EC%98%81%ED%96%A5","type":"heading"},{"inlineContent":[{"type":"text","text":"자동화 시스템은 성능에 최소한의 영향만 미치도록 설계되었습니다:"}],"type":"paragraph"},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"type":"text","text":"등록\/해결 시 마이크로초 단위의 오버헤드만 발생"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"백그라운드에서 비동기로 실행"}]}]},{"content":[{"inlineContent":[{"type":"text","text":"메모리 사용량 최적화"}],"type":"paragraph"}]}]},{"inlineContent":[{"text":"이 모든 기능은 개발자가 별도로 호출하거나 설정할 필요 없이 자동으로 실행됩니다.","type":"text"}],"type":"paragraph"},{"level":2,"type":"heading","text":"Deprecated 읽기 API 안내","anchor":"Deprecated-%EC%9D%BD%EA%B8%B0-API-%EC%95%88%EB%82%B4"},{"inlineContent":[{"text":"아래 ","type":"text"},{"type":"codeVoice","code":"AutoDIOptimizer"},{"type":"text","text":"의 읽기용 API는 내부 스냅샷 기반으로 재구성되었으며, 외부 사용은 비권장(Deprecated)입니다. 외부에서는 "},{"type":"codeVoice","code":"UnifiedDI"},{"type":"text","text":" 또는 "},{"type":"codeVoice","code":"DIContainer"},{"type":"text","text":"의 동기 헬퍼를 사용하세요."}],"type":"paragraph"},{"rows":[[[{"inlineContent":[{"text":"Deprecated (AutoDIOptimizer)","type":"text"}],"type":"paragraph"}],[{"inlineContent":[{"text":"Replacement","type":"text"}],"type":"paragraph"}]],[[{"inlineContent":[{"code":"getCurrentStats()","type":"codeVoice"}],"type":"paragraph"}],[{"inlineContent":[{"code":"UnifiedDI.stats()","type":"codeVoice"},{"text":" \/ ","type":"text"},{"code":"DIContainer.getUsageStatistics()","type":"codeVoice"}],"type":"paragraph"}]],[[{"inlineContent":[{"code":"visualizeGraph()","type":"codeVoice"}],"type":"paragraph"}],[{"inlineContent":[{"type":"codeVoice","code":"UnifiedDI.autoGraph()"},{"type":"text","text":" \/ "},{"type":"codeVoice","code":"DIContainer.getAutoGeneratedGraph()"}],"type":"paragraph"}]],[[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"getFrequentlyUsedTypes()"}]}],[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"UnifiedDI.optimizedTypes()"},{"text":" \/ ","type":"text"},{"type":"codeVoice","code":"DIContainer.getOptimizedTypes()"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"getDetectedCircularDependencies()"}]}],[{"inlineContent":[{"type":"codeVoice","code":"UnifiedDI.circularDependencies()"},{"text":" \/ ","type":"text"},{"type":"codeVoice","code":"DIContainer.getDetectedCircularDependencies()"}],"type":"paragraph"}]],[[{"inlineContent":[{"type":"codeVoice","code":"isOptimized(_:)"}],"type":"paragraph"}],[{"inlineContent":[{"type":"codeVoice","code":"UnifiedDI.isOptimized(_:)"},{"text":" \/ ","type":"text"},{"type":"codeVoice","code":"DIContainer.isAutoOptimized(_:)"}],"type":"paragraph"}]],[[{"inlineContent":[{"code":"getActorOptimizationSuggestions()","type":"codeVoice"}],"type":"paragraph"}],[{"inlineContent":[{"code":"UnifiedDI.actorOptimizations","type":"codeVoice"}],"type":"paragraph"}]],[[{"inlineContent":[{"code":"getDetectedTypeSafetyIssues()","type":"codeVoice"}],"type":"paragraph"}],[{"inlineContent":[{"type":"codeVoice","code":"UnifiedDI.typeSafetyIssues"}],"type":"paragraph"}]],[[{"inlineContent":[{"type":"codeVoice","code":"getDetectedAutoFixedTypes()"}],"type":"paragraph"}],[{"inlineContent":[{"type":"codeVoice","code":"UnifiedDI.autoFixedTypes"}],"type":"paragraph"}]],[[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"getActorHopStats()"}]}],[{"type":"paragraph","inlineContent":[{"code":"UnifiedDI.actorHopStats","type":"codeVoice"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"getAsyncPerformanceStats()"}]}],[{"inlineContent":[{"code":"UnifiedDI.asyncPerformanceStats","type":"codeVoice"}],"type":"paragraph"}]],[[{"inlineContent":[{"code":"getRecentGraphChanges(...)","type":"codeVoice"}],"type":"paragraph"}],[{"inlineContent":[{"type":"codeVoice","code":"UnifiedDI.getGraphChanges(...)"}],"type":"paragraph"}]],[[{"type":"paragraph","inlineContent":[{"code":"getCurrentLogLevel()","type":"codeVoice"}]}],[{"type":"paragraph","inlineContent":[{"code":"UnifiedDI.logLevel","type":"codeVoice"},{"text":" \/ ","type":"text"},{"code":"UnifiedDI.getLogLevel()","type":"codeVoice"}]}]]],"type":"table","header":"row"},{"type":"aside","name":"Note","style":"note","content":[{"type":"paragraph","inlineContent":[{"text":"내부 용도로는 ","type":"text"},{"type":"codeVoice","code":"AutoDIOptimizer.readSnapshot()"},{"type":"text","text":"을 사용해 스냅샷을 읽고 필요한 정보를 계산하세요."}]}]}]}],"identifier":{"interfaceLanguage":"swift","url":"doc:\/\/DiContainer\/documentation\/DiContainer\/AutoDIOptimizer"},"hierarchy":{"paths":[["doc:\/\/DiContainer\/documentation\/DiContainer"]]},"sections":[],"kind":"article","abstract":[{"type":"text","text":"자동으로 의존성 그래프를 생성하고 성능을 최적화하는 시스템"}],"seeAlsoSections":[{"anchor":"시작하기","generated":true,"identifiers":["doc:\/\/DiContainer\/tutorials\/DiContainer\/Tutorial-YourFirstDI","doc:\/\/DiContainer\/tutorials\/DiContainer\/Tutorial-MeetDiContainer","doc:\/\/DiContainer\/documentation\/DiContainer\/UnifiedDI","doc:\/\/DiContainer\/documentation\/DiContainer\/DI","doc:\/\/DiContainer\/documentation\/DiContainer\/DependencyContainer","doc:\/\/DiContainer\/documentation\/DiContainer\/Container","doc:\/\/DiContainer\/documentation\/DiContainer\/Module","doc:\/\/DiContainer\/documentation\/DiContainer\/AppDIContainer"],"title":"시작하기"}],"schemaVersion":{"patch":0,"major":0,"minor":3},"references":{"doc://DiContainer/documentation/DiContainer":{"url":"\/documentation\/dicontainer","role":"collection","type":"topic","identifier":"doc:\/\/DiContainer\/documentation\/DiContainer","abstract":[],"title":"DiContainer","kind":"symbol"},"doc://DiContainer/documentation/DiContainer/DI":{"role":"symbol","identifier":"doc:\/\/DiContainer\/documentation\/DiContainer\/DI","kind":"symbol","url":"\/documentation\/dicontainer\/di","abstract":[{"type":"text","text":"기존 DI API와의 호환성을 위한 별칭"}],"title":"DI","fragments":[{"text":"typealias","kind":"keyword"},{"text":" ","kind":"text"},{"text":"DI","kind":"identifier"}],"type":"topic","navigatorTitle":[{"text":"DI","kind":"identifier"}]},"doc://DiContainer/documentation/DiContainer/DependencyContainer":{"navigatorTitle":[{"kind":"identifier","text":"DependencyContainer"}],"type":"topic","fragments":[{"kind":"keyword","text":"typealias"},{"kind":"text","text":" "},{"kind":"identifier","text":"DependencyContainer"}],"title":"DependencyContainer","role":"symbol","identifier":"doc:\/\/DiContainer\/documentation\/DiContainer\/DependencyContainer","abstract":[{"type":"text","text":"기존 DependencyContainer와의 호환성을 위한 별칭"}],"kind":"symbol","url":"\/documentation\/dicontainer\/dependencycontainer"},"doc://DiContainer/tutorials/DiContainer/Tutorial-YourFirstDI":{"type":"topic","identifier":"doc:\/\/DiContainer\/tutorials\/DiContainer\/Tutorial-YourFirstDI","estimatedTime":"15min","role":"project","abstract":[{"type":"text","text":"이 튜토리얼에서는 DiContainer를 사용하여 첫 번째 의존성 주입을 구현해보겠습니다."},{"type":"text","text":" "},{"text":"UserService와 NetworkService를 만들고, Property Wrapper를 통해 주입받는 방법을 배워보겠습니다.","type":"text"}],"title":"첫 번째 의존성 주입 만들기","url":"\/tutorials\/dicontainer\/tutorial-yourfirstdi","kind":"project"},"doc://DiContainer/documentation/DiContainer/UnifiedDI":{"identifier":"doc:\/\/DiContainer\/documentation\/DiContainer\/UnifiedDI","kind":"article","role":"article","url":"\/documentation\/dicontainer\/unifieddi","type":"topic","title":"통합 DI 시스템 - UnifiedDI vs DI","abstract":[{"type":"text","text":"DiContainer 2.0은 두 가지 주요 API 진입점을 제공합니다: "},{"type":"codeVoice","code":"UnifiedDI"},{"type":"text","text":"와 "},{"type":"codeVoice","code":"DI"},{"text":". 각각의 역할과 사용 시나리오를 이해하여 프로젝트에 최적한 선택을 하세요.","type":"text"}]},"doc://DiContainer/documentation/DiContainer/AppDIContainer":{"navigatorTitle":[{"kind":"identifier","text":"AppDIContainer"}],"type":"topic","fragments":[{"kind":"keyword","text":"actor"},{"kind":"text","text":" "},{"kind":"identifier","text":"AppDIContainer"}],"title":"AppDIContainer","role":"symbol","identifier":"doc:\/\/DiContainer\/documentation\/DiContainer\/AppDIContainer","abstract":[],"kind":"symbol","url":"\/documentation\/dicontainer\/appdicontainer"},"doc://DiContainer/documentation/DiContainer/Module":{"type":"topic","abstract":[{"type":"codeVoice","code":"Module"},{"text":"은 DI(의존성 주입)를 위한 ","type":"text"},{"inlineContent":[{"text":"단일 모듈","type":"text"}],"type":"strong"},{"text":"을 나타내는 구조체입니다.","type":"text"}],"role":"symbol","fragments":[{"kind":"keyword","text":"struct"},{"kind":"text","text":" "},{"kind":"identifier","text":"Module"}],"title":"Module","url":"\/documentation\/dicontainer\/module","kind":"symbol","navigatorTitle":[{"text":"Module","kind":"identifier"}],"identifier":"doc:\/\/DiContainer\/documentation\/DiContainer\/Module"},"doc://DiContainer/tutorials/DiContainer/Tutorial-MeetDiContainer":{"abstract":[{"type":"text","text":"이 튜토리얼에서는 DiContainer의 모든 핵심 기능을 체계적으로 학습합니다."},{"type":"text","text":" "},{"type":"text","text":"Property Wrapper부터 AppDIContainer까지, 실무에서 바로 사용할 수 있는 완전한 앱을 만들어보겠습니다."}],"title":"DiContainer 완전정복","role":"project","identifier":"doc:\/\/DiContainer\/tutorials\/DiContainer\/Tutorial-MeetDiContainer","estimatedTime":"25min","kind":"project","type":"topic","url":"\/tutorials\/dicontainer\/tutorial-meetdicontainer"},"doc://DiContainer/documentation/DiContainer/Container":{"type":"topic","fragments":[{"text":"typealias","kind":"keyword"},{"text":" ","kind":"text"},{"text":"Container","kind":"identifier"}],"kind":"symbol","abstract":[{"type":"text","text":"기존 Container와의 호환성을 위한 별칭"}],"role":"symbol","identifier":"doc:\/\/DiContainer\/documentation\/DiContainer\/Container","title":"Container","navigatorTitle":[{"text":"Container","kind":"identifier"}],"url":"\/documentation\/dicontainer\/container"}}}