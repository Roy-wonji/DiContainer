{"kind":"symbol","relationshipsSections":[{"kind":"relationships","type":"conformsTo","title":"Conforms To","identifiers":["doc:\/\/DiContainer\/documentation\/DiContainer\/RepositoryModuleFactoryProtocol"]}],"variants":[{"traits":[{"interfaceLanguage":"swift"}],"paths":["\/documentation\/dicontainer\/repositorymodulefactory"]}],"topicSections":[{"anchor":"Initializers","title":"Initializers","generated":true,"identifiers":["doc:\/\/DiContainer\/documentation\/DiContainer\/RepositoryModuleFactory\/init(repositoryDefinitions:)"]},{"anchor":"Instance-Properties","title":"Instance Properties","generated":true,"identifiers":["doc:\/\/DiContainer\/documentation\/DiContainer\/RepositoryModuleFactory\/registerModule","doc:\/\/DiContainer\/documentation\/DiContainer\/RepositoryModuleFactory\/repositoryDefinitions"]},{"anchor":"Instance-Methods","title":"Instance Methods","generated":true,"identifiers":["doc:\/\/DiContainer\/documentation\/DiContainer\/RepositoryModuleFactory\/makeAllModules()"]}],"hierarchy":{"paths":[["doc:\/\/DiContainer\/documentation\/DiContainer"]]},"primaryContentSections":[{"kind":"declarations","declarations":[{"languages":["swift"],"tokens":[{"text":"struct","kind":"keyword"},{"text":" ","kind":"text"},{"text":"RepositoryModuleFactory","kind":"identifier"}],"platforms":["macOS"]}]},{"kind":"content","content":[{"anchor":"overview","type":"heading","text":"Overview","level":2},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"type":"codeVoice","code":"registerModule"},{"text":": 의존성 등록 헬퍼(","type":"text"},{"type":"codeVoice","code":"RegisterModule"},{"text":") 인스턴스를 통해","type":"text"},{"text":" ","type":"text"},{"text":"Repository 모듈을 구성할 때 필요한 다른 의존성을 DI 컨테이너에 등록할 수 있습니다.","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"codeVoice","code":"repositoryDefinitions"},{"type":"text","text":": Repository 모듈을 생성하는 클로저들의 배열."},{"type":"text","text":" "},{"type":"text","text":"각 클로저는 호출 시 "},{"type":"codeVoice","code":"Module"},{"type":"text","text":" 인스턴스를 반환합니다."}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"makeAllModules()"},{"type":"text","text":": 내부 "},{"type":"codeVoice","code":"repositoryDefinitions"},{"type":"text","text":"의 모든 클로저를 실행하여"},{"type":"text","text":" "},{"type":"text","text":"생성된 "},{"type":"codeVoice","code":"Module"},{"type":"text","text":" 인스턴스 배열을 반환합니다."}]}]}]},{"anchor":"%EC%82%AC%EC%9A%A9-%EC%98%88%EC%8B%9C","type":"heading","text":"사용 예시","level":2},{"anchor":"1-%ED%94%84%EB%A1%9C%ED%86%A0%EC%BD%9C-%EB%B0%8F-%EA%B8%B0%EB%B3%B8-%EA%B5%AC%ED%98%84%EC%B2%B4-%EC%A0%95%EC%9D%98","type":"heading","text":"1) 프로토콜 및 기본 구현체 정의","level":3},{"type":"codeListing","syntax":"swift","code":["protocol AuthRepositoryProtocol {","    func login(user: String, password: String) async -> Bool","}","","struct DefaultAuthRepository: AuthRepositoryProtocol {","    func login(user: String, password: String) async -> Bool {","        \/\/ 실제 로그인 로직 구현","        return true","    }","}"]},{"anchor":"2-%EA%B8%B0%EB%B3%B8-%EC%9D%98%EC%A1%B4%EC%84%B1-%EB%93%B1%EB%A1%9D","type":"heading","text":"2) 기본 의존성 등록","level":3},{"type":"codeListing","syntax":"swift","code":["extension RepositoryModuleFactory {","    public mutating func registerDefaultDefinitions() {","        let helper = registerModule","        repositoryDefinitions = [","            helper.makeDependency(AuthRepositoryProtocol.self) {","                DefaultAuthRepository()","            }","        ]","    }","}"]},{"anchor":"3-DI-%EC%BB%A8%ED%85%8C%EC%9D%B4%EB%84%88%EC%97%90-%EB%93%B1%EB%A1%9D","type":"heading","text":"3) DI 컨테이너에 등록","level":3},{"type":"codeListing","syntax":"swift","code":["extension AppDIContainer {","    public func registerAuthRepository() async {","        var factoryCopy = RepositoryModuleFactory()","        factoryCopy.registerDefaultDefinitions()","","        await registerDependencies { container in","            for module in factoryCopy.makeAllModules() {","                await container.register(module)","            }","        }","    }","}"]},{"anchor":"4-%EC%95%B1-%EC%B4%88%EA%B8%B0%ED%99%94-%EC%8B%9C%EC%A0%90%EC%97%90%EC%84%9C-%ED%98%B8%EC%B6%9C","type":"heading","text":"4) 앱 초기화 시점에서 호출","level":3},{"anchor":"SwiftUI","type":"heading","text":"SwiftUI","level":4},{"type":"codeListing","syntax":"swift","code":["@main","struct MyApp: App {","    init() {","        Task {","            await AppDIContainer.shared.registerAuthRepository()","        }","    }","","    var body: some Scene {","        WindowGroup {","            ContentView()","        }","    }","}"]},{"anchor":"UIKit","type":"heading","text":"UIKit","level":4},{"type":"codeListing","syntax":"swift","code":["@main","class AppDelegate: UIResponder, UIApplicationDelegate {","    func application(","        _ application: UIApplication,","        didFinishLaunchingWithOptions launchOptions: [UIApplication.LaunchOptionsKey: Any]?","    ) -> Bool {","        Task {","            await AppDIContainer.shared.registerAuthRepository()","        }","        return true","    }","}"]},{"type":"aside","content":[{"inlineContent":[{"text":"","type":"text"}],"type":"paragraph"},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"code":"RepositoryModuleFactory","type":"codeVoice"},{"text":"는 값 타입이므로, 클로저 캡처 문제를 피하려면 반드시","type":"text"},{"text":" ","type":"text"},{"code":"var factoryCopy","type":"codeVoice"},{"text":"로 복사하여 사용해야 합니다.","type":"text"}]}]},{"content":[{"inlineContent":[{"code":"makeAllModules()","type":"codeVoice"},{"type":"text","text":" 호출 시 모든 의존성이 생성되며, 이후 "},{"code":"container.register(_:)","type":"codeVoice"},{"type":"text","text":"로 주입됩니다."}],"type":"paragraph"}]}]}],"name":"Note","style":"note"}]}],"sections":[],"identifier":{"url":"doc:\/\/DiContainer\/documentation\/DiContainer\/RepositoryModuleFactory","interfaceLanguage":"swift"},"abstract":[{"type":"codeVoice","code":"RepositoryModuleFactory"},{"text":"는 ","type":"text"},{"type":"codeVoice","code":"RepositoryModuleFactoryProtocol"},{"text":"을 채택하여","type":"text"},{"text":" ","type":"text"},{"text":"Repository 계층의 모듈 생성 및 등록을 담당합니다.","type":"text"}],"metadata":{"symbolKind":"struct","modules":[{"name":"DiContainer"}],"fragments":[{"text":"struct","kind":"keyword"},{"text":" ","kind":"text"},{"text":"RepositoryModuleFactory","kind":"identifier"}],"role":"symbol","title":"RepositoryModuleFactory","roleHeading":"Structure","externalID":"s:11DiContainer23RepositoryModuleFactoryV","navigatorTitle":[{"text":"RepositoryModuleFactory","kind":"identifier"}]},"schemaVersion":{"major":0,"minor":3,"patch":0},"references":{"doc://DiContainer/documentation/DiContainer/RepositoryModuleFactory/makeAllModules()":{"identifier":"doc:\/\/DiContainer\/documentation\/DiContainer\/RepositoryModuleFactory\/makeAllModules()","title":"makeAllModules()","abstract":[{"text":"모든 Repository 모듈 생성","type":"text"}],"type":"topic","role":"symbol","url":"\/documentation\/dicontainer\/repositorymodulefactory\/makeallmodules()","kind":"symbol","fragments":[{"text":"func","kind":"keyword"},{"text":" ","kind":"text"},{"kind":"identifier","text":"makeAllModules"},{"kind":"text","text":"() -> ["},{"kind":"typeIdentifier","text":"Module","preciseIdentifier":"s:11DiContainer6ModuleC"},{"kind":"text","text":"]"}]},"doc://DiContainer/documentation/DiContainer/RepositoryModuleFactory/repositoryDefinitions":{"kind":"symbol","type":"topic","title":"repositoryDefinitions","url":"\/documentation\/dicontainer\/repositorymodulefactory\/repositorydefinitions","abstract":[{"text":"Repository 모듈을 생성하는 클로저 배열","type":"text"}],"role":"symbol","fragments":[{"text":"var","kind":"keyword"},{"text":" ","kind":"text"},{"text":"repositoryDefinitions","kind":"identifier"},{"text":": [() -> ","kind":"text"},{"text":"Module","kind":"typeIdentifier","preciseIdentifier":"s:11DiContainer6ModuleC"},{"text":"]","kind":"text"}],"identifier":"doc:\/\/DiContainer\/documentation\/DiContainer\/RepositoryModuleFactory\/repositoryDefinitions"},"doc://DiContainer/documentation/DiContainer":{"identifier":"doc:\/\/DiContainer\/documentation\/DiContainer","abstract":[],"type":"topic","kind":"symbol","title":"DiContainer","url":"\/documentation\/dicontainer","role":"collection"},"doc://DiContainer/documentation/DiContainer/RepositoryModuleFactory/registerModule":{"fragments":[{"kind":"keyword","text":"let"},{"kind":"text","text":" "},{"kind":"identifier","text":"registerModule"},{"kind":"text","text":": "},{"preciseIdentifier":"s:11DiContainer14RegisterModuleV","kind":"typeIdentifier","text":"RegisterModule"}],"title":"registerModule","url":"\/documentation\/dicontainer\/repositorymodulefactory\/registermodule","identifier":"doc:\/\/DiContainer\/documentation\/DiContainer\/RepositoryModuleFactory\/registerModule","kind":"symbol","role":"symbol","type":"topic","abstract":[{"text":"의존성 등록 헬퍼 객체","type":"text"}]},"doc://DiContainer/documentation/DiContainer/RepositoryModuleFactoryProtocol":{"navigatorTitle":[{"kind":"identifier","text":"RepositoryModuleFactoryProtocol"}],"role":"symbol","type":"topic","kind":"symbol","title":"RepositoryModuleFactoryProtocol","abstract":[{"type":"text","text":"Repository 계층의 모듈(의존성)을 "},{"inlineContent":[{"type":"text","text":"생성"}],"type":"strong"},{"type":"text","text":"하고 "},{"inlineContent":[{"text":"등록","type":"text"}],"type":"strong"},{"type":"text","text":"하기 위한 표준 인터페이스입니다."}],"identifier":"doc:\/\/DiContainer\/documentation\/DiContainer\/RepositoryModuleFactoryProtocol","url":"\/documentation\/dicontainer\/repositorymodulefactoryprotocol","fragments":[{"kind":"keyword","text":"protocol"},{"kind":"text","text":" "},{"kind":"identifier","text":"RepositoryModuleFactoryProtocol"}]},"doc://DiContainer/documentation/DiContainer/RepositoryModuleFactory/init(repositoryDefinitions:)":{"type":"topic","title":"init(repositoryDefinitions:)","abstract":[{"type":"text","text":"생성자"}],"kind":"symbol","identifier":"doc:\/\/DiContainer\/documentation\/DiContainer\/RepositoryModuleFactory\/init(repositoryDefinitions:)","url":"\/documentation\/dicontainer\/repositorymodulefactory\/init(repositorydefinitions:)","role":"symbol","fragments":[{"text":"init","kind":"identifier"},{"text":"(","kind":"text"},{"text":"repositoryDefinitions","kind":"externalParam"},{"text":": [() -> ","kind":"text"},{"text":"Module","preciseIdentifier":"s:11DiContainer6ModuleC","kind":"typeIdentifier"},{"text":"])","kind":"text"}]},"doc://DiContainer/documentation/DiContainer/RepositoryModuleFactory":{"navigatorTitle":[{"kind":"identifier","text":"RepositoryModuleFactory"}],"kind":"symbol","url":"\/documentation\/dicontainer\/repositorymodulefactory","type":"topic","abstract":[{"type":"codeVoice","code":"RepositoryModuleFactory"},{"type":"text","text":"는 "},{"type":"codeVoice","code":"RepositoryModuleFactoryProtocol"},{"type":"text","text":"을 채택하여"},{"type":"text","text":" "},{"type":"text","text":"Repository 계층의 모듈 생성 및 등록을 담당합니다."}],"fragments":[{"kind":"keyword","text":"struct"},{"kind":"text","text":" "},{"kind":"identifier","text":"RepositoryModuleFactory"}],"title":"RepositoryModuleFactory","identifier":"doc:\/\/DiContainer\/documentation\/DiContainer\/RepositoryModuleFactory","role":"symbol"}}}