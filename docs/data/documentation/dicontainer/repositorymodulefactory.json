{"relationshipsSections":[{"title":"Conforms To","kind":"relationships","type":"conformsTo","identifiers":["doc:\/\/DiContainer\/documentation\/DiContainer\/RepositoryModuleFactoryProtocol"]}],"primaryContentSections":[{"kind":"declarations","declarations":[{"platforms":["macOS"],"languages":["swift"],"tokens":[{"kind":"keyword","text":"struct"},{"kind":"text","text":" "},{"kind":"identifier","text":"RepositoryModuleFactory"}]}]},{"content":[{"text":"Overview","anchor":"overview","type":"heading","level":2},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"registerModule"},{"text":": 의존성 등록 헬퍼(","type":"text"},{"type":"codeVoice","code":"RegisterModule"},{"text":") 인스턴스를 통해","type":"text"},{"text":" ","type":"text"},{"text":"Repository 모듈을 구성할 때 필요한 다른 의존성을 DI 컨테이너에 등록할 수 있습니다.","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"repositoryDefinitions"},{"type":"text","text":": Repository 모듈을 생성하는 클로저들의 배열."},{"type":"text","text":" "},{"type":"text","text":"각 클로저는 호출 시 "},{"type":"codeVoice","code":"Module"},{"type":"text","text":" 인스턴스를 반환합니다."}]}]},{"content":[{"type":"paragraph","inlineContent":[{"code":"makeAllModules()","type":"codeVoice"},{"type":"text","text":": 내부 "},{"code":"repositoryDefinitions","type":"codeVoice"},{"type":"text","text":"의 모든 클로저를 실행하여"},{"type":"text","text":" "},{"type":"text","text":"생성된 "},{"code":"Module","type":"codeVoice"},{"type":"text","text":" 인스턴스 배열을 반환합니다."}]}]}],"type":"unorderedList"},{"text":"사용 예시","anchor":"%EC%82%AC%EC%9A%A9-%EC%98%88%EC%8B%9C","type":"heading","level":2},{"text":"1) 프로토콜 및 기본 구현체 정의","anchor":"1-%ED%94%84%EB%A1%9C%ED%86%A0%EC%BD%9C-%EB%B0%8F-%EA%B8%B0%EB%B3%B8-%EA%B5%AC%ED%98%84%EC%B2%B4-%EC%A0%95%EC%9D%98","type":"heading","level":3},{"syntax":"swift","type":"codeListing","code":["protocol AuthRepositoryProtocol {","    func login(user: String, password: String) async -> Bool","}","","struct DefaultAuthRepository: AuthRepositoryProtocol {","    func login(user: String, password: String) async -> Bool {","        \/\/ 실제 로그인 로직 구현","        return true","    }","}"]},{"text":"2) 기본 의존성 등록","anchor":"2-%EA%B8%B0%EB%B3%B8-%EC%9D%98%EC%A1%B4%EC%84%B1-%EB%93%B1%EB%A1%9D","type":"heading","level":3},{"syntax":"swift","type":"codeListing","code":["extension RepositoryModuleFactory {","    public mutating func registerDefaultDefinitions() {","        let helper = registerModule","        repositoryDefinitions = [","            helper.makeDependency(AuthRepositoryProtocol.self) {","                DefaultAuthRepository()","            }","        ]","    }","}"]},{"text":"3) DI 컨테이너에 등록","anchor":"3-DI-%EC%BB%A8%ED%85%8C%EC%9D%B4%EB%84%88%EC%97%90-%EB%93%B1%EB%A1%9D","type":"heading","level":3},{"syntax":"swift","type":"codeListing","code":["extension AppDIContainer {","    public func registerAuthRepository() async {","        var factoryCopy = RepositoryModuleFactory()","        factoryCopy.registerDefaultDefinitions()","","        await registerDependencies { container in","            for module in factoryCopy.makeAllModules() {","                await container.register(module)","            }","        }","    }","}"]},{"text":"4) 앱 초기화 시점에서 호출","anchor":"4-%EC%95%B1-%EC%B4%88%EA%B8%B0%ED%99%94-%EC%8B%9C%EC%A0%90%EC%97%90%EC%84%9C-%ED%98%B8%EC%B6%9C","type":"heading","level":3},{"text":"SwiftUI","anchor":"SwiftUI","type":"heading","level":4},{"syntax":"swift","type":"codeListing","code":["@main","struct MyApp: App {","    init() {","        Task {","            await AppDIContainer.shared.registerAuthRepository()","        }","    }","","    var body: some Scene {","        WindowGroup {","            ContentView()","        }","    }","}"]},{"text":"UIKit","anchor":"UIKit","type":"heading","level":4},{"syntax":"swift","type":"codeListing","code":["@main","class AppDelegate: UIResponder, UIApplicationDelegate {","    func application(","        _ application: UIApplication,","        didFinishLaunchingWithOptions launchOptions: [UIApplication.LaunchOptionsKey: Any]?","    ) -> Bool {","        Task {","            await AppDIContainer.shared.registerAuthRepository()","        }","        return true","    }","}"]},{"name":"Note","style":"note","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":""}]},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"code":"RepositoryModuleFactory","type":"codeVoice"},{"text":"는 값 타입이므로, 클로저 캡처 문제를 피하려면 반드시","type":"text"},{"text":" ","type":"text"},{"code":"var factoryCopy","type":"codeVoice"},{"text":"로 복사하여 사용해야 합니다.","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"code":"makeAllModules()","type":"codeVoice"},{"type":"text","text":" 호출 시 모든 의존성이 생성되며, 이후 "},{"code":"container.register(_:)","type":"codeVoice"},{"type":"text","text":"로 주입됩니다."}],"type":"paragraph"}]}]}],"type":"aside"}],"kind":"content"}],"variants":[{"traits":[{"interfaceLanguage":"swift"}],"paths":["\/documentation\/dicontainer\/repositorymodulefactory"]}],"metadata":{"navigatorTitle":[{"kind":"identifier","text":"RepositoryModuleFactory"}],"externalID":"s:11DiContainer23RepositoryModuleFactoryV","modules":[{"name":"DiContainer"}],"role":"symbol","fragments":[{"kind":"keyword","text":"struct"},{"kind":"text","text":" "},{"kind":"identifier","text":"RepositoryModuleFactory"}],"title":"RepositoryModuleFactory","symbolKind":"struct","roleHeading":"Structure"},"schemaVersion":{"major":0,"minor":3,"patch":0},"topicSections":[{"title":"Initializers","anchor":"Initializers","identifiers":["doc:\/\/DiContainer\/documentation\/DiContainer\/RepositoryModuleFactory\/init(repositoryDefinitions:)"],"generated":true},{"title":"Instance Properties","anchor":"Instance-Properties","identifiers":["doc:\/\/DiContainer\/documentation\/DiContainer\/RepositoryModuleFactory\/registerModule","doc:\/\/DiContainer\/documentation\/DiContainer\/RepositoryModuleFactory\/repositoryDefinitions"],"generated":true},{"title":"Instance Methods","anchor":"Instance-Methods","identifiers":["doc:\/\/DiContainer\/documentation\/DiContainer\/RepositoryModuleFactory\/makeAllModules()"],"generated":true}],"hierarchy":{"paths":[["doc:\/\/DiContainer\/documentation\/DiContainer"]]},"kind":"symbol","sections":[],"abstract":[{"type":"codeVoice","code":"RepositoryModuleFactory"},{"type":"text","text":"는 "},{"type":"codeVoice","code":"RepositoryModuleFactoryProtocol"},{"type":"text","text":"을 채택하여"},{"type":"text","text":" "},{"type":"text","text":"Repository 계층의 모듈 생성 및 등록을 담당합니다."}],"identifier":{"url":"doc:\/\/DiContainer\/documentation\/DiContainer\/RepositoryModuleFactory","interfaceLanguage":"swift"},"references":{"doc://DiContainer/documentation/DiContainer/RepositoryModuleFactory/makeAllModules()":{"url":"\/documentation\/dicontainer\/repositorymodulefactory\/makeallmodules()","identifier":"doc:\/\/DiContainer\/documentation\/DiContainer\/RepositoryModuleFactory\/makeAllModules()","abstract":[{"type":"text","text":"모든 Repository 모듈 생성"}],"title":"makeAllModules()","kind":"symbol","type":"topic","role":"symbol","fragments":[{"text":"func","kind":"keyword"},{"text":" ","kind":"text"},{"text":"makeAllModules","kind":"identifier"},{"text":"() -> [","kind":"text"},{"text":"Module","preciseIdentifier":"s:11DiContainer6ModuleC","kind":"typeIdentifier"},{"text":"]","kind":"text"}]},"doc://DiContainer/documentation/DiContainer/RepositoryModuleFactory/init(repositoryDefinitions:)":{"role":"symbol","fragments":[{"kind":"identifier","text":"init"},{"kind":"text","text":"("},{"kind":"externalParam","text":"repositoryDefinitions"},{"kind":"text","text":": [() -> "},{"kind":"typeIdentifier","text":"Module","preciseIdentifier":"s:11DiContainer6ModuleC"},{"kind":"text","text":"])"}],"url":"\/documentation\/dicontainer\/repositorymodulefactory\/init(repositorydefinitions:)","abstract":[{"type":"text","text":"생성자"}],"title":"init(repositoryDefinitions:)","kind":"symbol","identifier":"doc:\/\/DiContainer\/documentation\/DiContainer\/RepositoryModuleFactory\/init(repositoryDefinitions:)","type":"topic"},"doc://DiContainer/documentation/DiContainer":{"identifier":"doc:\/\/DiContainer\/documentation\/DiContainer","kind":"symbol","type":"topic","title":"DiContainer","abstract":[],"role":"collection","url":"\/documentation\/dicontainer"},"doc://DiContainer/documentation/DiContainer/RepositoryModuleFactory/repositoryDefinitions":{"type":"topic","abstract":[{"type":"text","text":"Repository 모듈을 생성하는 클로저 배열"}],"identifier":"doc:\/\/DiContainer\/documentation\/DiContainer\/RepositoryModuleFactory\/repositoryDefinitions","title":"repositoryDefinitions","fragments":[{"kind":"keyword","text":"var"},{"kind":"text","text":" "},{"kind":"identifier","text":"repositoryDefinitions"},{"kind":"text","text":": [() -> "},{"kind":"typeIdentifier","preciseIdentifier":"s:11DiContainer6ModuleC","text":"Module"},{"kind":"text","text":"]"}],"kind":"symbol","url":"\/documentation\/dicontainer\/repositorymodulefactory\/repositorydefinitions","role":"symbol"},"doc://DiContainer/documentation/DiContainer/RepositoryModuleFactory":{"abstract":[{"type":"codeVoice","code":"RepositoryModuleFactory"},{"type":"text","text":"는 "},{"type":"codeVoice","code":"RepositoryModuleFactoryProtocol"},{"type":"text","text":"을 채택하여"},{"type":"text","text":" "},{"type":"text","text":"Repository 계층의 모듈 생성 및 등록을 담당합니다."}],"type":"topic","identifier":"doc:\/\/DiContainer\/documentation\/DiContainer\/RepositoryModuleFactory","url":"\/documentation\/dicontainer\/repositorymodulefactory","title":"RepositoryModuleFactory","kind":"symbol","role":"symbol","fragments":[{"text":"struct","kind":"keyword"},{"text":" ","kind":"text"},{"text":"RepositoryModuleFactory","kind":"identifier"}],"navigatorTitle":[{"text":"RepositoryModuleFactory","kind":"identifier"}]},"doc://DiContainer/documentation/DiContainer/RepositoryModuleFactory/registerModule":{"url":"\/documentation\/dicontainer\/repositorymodulefactory\/registermodule","role":"symbol","fragments":[{"text":"let","kind":"keyword"},{"text":" ","kind":"text"},{"text":"registerModule","kind":"identifier"},{"text":": ","kind":"text"},{"text":"RegisterModule","kind":"typeIdentifier","preciseIdentifier":"s:11DiContainer14RegisterModuleV"}],"identifier":"doc:\/\/DiContainer\/documentation\/DiContainer\/RepositoryModuleFactory\/registerModule","title":"registerModule","type":"topic","abstract":[{"type":"text","text":"의존성 등록 헬퍼 객체"}],"kind":"symbol"},"doc://DiContainer/documentation/DiContainer/RepositoryModuleFactoryProtocol":{"abstract":[{"text":"Repository 계층의 모듈(의존성)을 ","type":"text"},{"inlineContent":[{"text":"생성","type":"text"}],"type":"strong"},{"text":"하고 ","type":"text"},{"inlineContent":[{"type":"text","text":"등록"}],"type":"strong"},{"text":"하기 위한 표준 인터페이스입니다.","type":"text"}],"title":"RepositoryModuleFactoryProtocol","type":"topic","fragments":[{"kind":"keyword","text":"protocol"},{"kind":"text","text":" "},{"kind":"identifier","text":"RepositoryModuleFactoryProtocol"}],"kind":"symbol","url":"\/documentation\/dicontainer\/repositorymodulefactoryprotocol","role":"symbol","navigatorTitle":[{"kind":"identifier","text":"RepositoryModuleFactoryProtocol"}],"identifier":"doc:\/\/DiContainer\/documentation\/DiContainer\/RepositoryModuleFactoryProtocol"}}}