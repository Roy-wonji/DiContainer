{"abstract":[{"type":"codeVoice","code":"RepositoryModuleFactory"},{"type":"text","text":"는 "},{"type":"codeVoice","code":"RepositoryModuleFactoryProtocol"},{"type":"text","text":"을 채택하여"},{"type":"text","text":" "},{"type":"text","text":"Repository 계층의 모듈 생성 및 등록을 담당합니다."}],"relationshipsSections":[{"identifiers":["doc:\/\/DiContainer\/documentation\/DiContainer\/RepositoryModuleFactoryProtocol"],"title":"Conforms To","kind":"relationships","type":"conformsTo"}],"primaryContentSections":[{"declarations":[{"languages":["swift"],"tokens":[{"text":"struct","kind":"keyword"},{"text":" ","kind":"text"},{"text":"RepositoryModuleFactory","kind":"identifier"}],"platforms":["macOS"]}],"kind":"declarations"},{"kind":"content","content":[{"anchor":"overview","type":"heading","text":"Overview","level":2},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"code":"registerModule","type":"codeVoice"},{"text":": 의존성 등록 헬퍼(","type":"text"},{"code":"RegisterModule","type":"codeVoice"},{"text":") 인스턴스를 통해","type":"text"},{"text":" ","type":"text"},{"text":"Repository 모듈을 구성할 때 필요한 다른 의존성을 DI 컨테이너에 등록할 수 있습니다.","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"code":"repositoryDefinitions","type":"codeVoice"},{"text":": Repository 모듈을 생성하는 클로저들의 배열.","type":"text"},{"text":" ","type":"text"},{"text":"각 클로저는 호출 시 ","type":"text"},{"type":"codeVoice","code":"Module"},{"type":"text","text":" 인스턴스를 반환합니다."}]}]},{"content":[{"type":"paragraph","inlineContent":[{"code":"makeAllModules()","type":"codeVoice"},{"type":"text","text":": 내부 "},{"code":"repositoryDefinitions","type":"codeVoice"},{"type":"text","text":"의 모든 클로저를 실행하여"},{"type":"text","text":" "},{"type":"text","text":"생성된 "},{"code":"Module","type":"codeVoice"},{"type":"text","text":" 인스턴스 배열을 반환합니다."}]}]}]},{"type":"heading","anchor":"%EC%82%AC%EC%9A%A9-%EC%98%88%EC%8B%9C","text":"사용 예시","level":2},{"type":"heading","anchor":"1-%ED%94%84%EB%A1%9C%ED%86%A0%EC%BD%9C-%EB%B0%8F-%EA%B8%B0%EB%B3%B8-%EA%B5%AC%ED%98%84%EC%B2%B4-%EC%A0%95%EC%9D%98","text":"1) 프로토콜 및 기본 구현체 정의","level":3},{"type":"codeListing","code":["protocol AuthRepositoryProtocol {","    func login(user: String, password: String) async -> Bool","}","","struct DefaultAuthRepository: AuthRepositoryProtocol {","    func login(user: String, password: String) async -> Bool {","        \/\/ 실제 로그인 로직 구현","        return true","    }","}"],"syntax":"swift"},{"type":"heading","anchor":"2-%EA%B8%B0%EB%B3%B8-%EC%9D%98%EC%A1%B4%EC%84%B1-%EB%93%B1%EB%A1%9D","text":"2) 기본 의존성 등록","level":3},{"type":"codeListing","code":["extension RepositoryModuleFactory {","    public mutating func registerDefaultDefinitions() {","        let helper = registerModule","        repositoryDefinitions = [","            helper.makeDependency(AuthRepositoryProtocol.self) {","                DefaultAuthRepository()","            }","        ]","    }","}"],"syntax":"swift"},{"type":"heading","anchor":"3-DI-%EC%BB%A8%ED%85%8C%EC%9D%B4%EB%84%88%EC%97%90-%EB%93%B1%EB%A1%9D","text":"3) DI 컨테이너에 등록","level":3},{"type":"codeListing","code":["extension AppDIContainer {","    public func registerAuthRepository() async {","        var factoryCopy = RepositoryModuleFactory()","        factoryCopy.registerDefaultDefinitions()","","        await registerDependencies { container in","            for module in factoryCopy.makeAllModules() {","                await container.register(module)","            }","        }","    }","}"],"syntax":"swift"},{"type":"heading","anchor":"4-%EC%95%B1-%EC%B4%88%EA%B8%B0%ED%99%94-%EC%8B%9C%EC%A0%90%EC%97%90%EC%84%9C-%ED%98%B8%EC%B6%9C","text":"4) 앱 초기화 시점에서 호출","level":3},{"type":"heading","anchor":"SwiftUI","text":"SwiftUI","level":4},{"type":"codeListing","code":["@main","struct MyApp: App {","    init() {","        Task {","            await AppDIContainer.shared.registerAuthRepository()","        }","    }","","    var body: some Scene {","        WindowGroup {","            ContentView()","        }","    }","}"],"syntax":"swift"},{"type":"heading","anchor":"UIKit","text":"UIKit","level":4},{"type":"codeListing","code":["@main","class AppDelegate: UIResponder, UIApplicationDelegate {","    func application(","        _ application: UIApplication,","        didFinishLaunchingWithOptions launchOptions: [UIApplication.LaunchOptionsKey: Any]?","    ) -> Bool {","        Task {","            await AppDIContainer.shared.registerAuthRepository()","        }","        return true","    }","}"],"syntax":"swift"},{"type":"aside","content":[{"type":"paragraph","inlineContent":[{"text":"","type":"text"}]},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"code":"RepositoryModuleFactory","type":"codeVoice"},{"type":"text","text":"는 값 타입이므로, 클로저 캡처 문제를 피하려면 반드시"},{"type":"text","text":" "},{"code":"var factoryCopy","type":"codeVoice"},{"type":"text","text":"로 복사하여 사용해야 합니다."}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"code":"makeAllModules()","type":"codeVoice"},{"text":" 호출 시 모든 의존성이 생성되며, 이후 ","type":"text"},{"code":"container.register(_:)","type":"codeVoice"},{"text":"로 주입됩니다.","type":"text"}]}]}]}],"name":"Note","style":"note"}]}],"hierarchy":{"paths":[["doc:\/\/DiContainer\/documentation\/DiContainer"]]},"topicSections":[{"generated":true,"anchor":"Initializers","identifiers":["doc:\/\/DiContainer\/documentation\/DiContainer\/RepositoryModuleFactory\/init(repositoryDefinitions:)"],"title":"Initializers"},{"generated":true,"anchor":"Instance-Properties","identifiers":["doc:\/\/DiContainer\/documentation\/DiContainer\/RepositoryModuleFactory\/registerModule","doc:\/\/DiContainer\/documentation\/DiContainer\/RepositoryModuleFactory\/repositoryDefinitions"],"title":"Instance Properties"},{"generated":true,"anchor":"Instance-Methods","identifiers":["doc:\/\/DiContainer\/documentation\/DiContainer\/RepositoryModuleFactory\/makeAllModules()"],"title":"Instance Methods"}],"identifier":{"interfaceLanguage":"swift","url":"doc:\/\/DiContainer\/documentation\/DiContainer\/RepositoryModuleFactory"},"metadata":{"role":"symbol","title":"RepositoryModuleFactory","modules":[{"name":"DiContainer"}],"symbolKind":"struct","navigatorTitle":[{"kind":"identifier","text":"RepositoryModuleFactory"}],"roleHeading":"Structure","externalID":"s:11DiContainer23RepositoryModuleFactoryV","fragments":[{"kind":"keyword","text":"struct"},{"kind":"text","text":" "},{"kind":"identifier","text":"RepositoryModuleFactory"}]},"kind":"symbol","variants":[{"paths":["\/documentation\/dicontainer\/repositorymodulefactory"],"traits":[{"interfaceLanguage":"swift"}]}],"schemaVersion":{"patch":0,"minor":3,"major":0},"sections":[],"references":{"doc://DiContainer/documentation/DiContainer/RepositoryModuleFactory/init(repositoryDefinitions:)":{"abstract":[{"text":"생성자","type":"text"}],"identifier":"doc:\/\/DiContainer\/documentation\/DiContainer\/RepositoryModuleFactory\/init(repositoryDefinitions:)","url":"\/documentation\/dicontainer\/repositorymodulefactory\/init(repositorydefinitions:)","type":"topic","fragments":[{"kind":"identifier","text":"init"},{"kind":"text","text":"("},{"kind":"externalParam","text":"repositoryDefinitions"},{"kind":"text","text":": [() -> "},{"kind":"typeIdentifier","text":"Module","preciseIdentifier":"s:11DiContainer6ModuleC"},{"kind":"text","text":"])"}],"role":"symbol","title":"init(repositoryDefinitions:)","kind":"symbol"},"doc://DiContainer/documentation/DiContainer/RepositoryModuleFactory/makeAllModules()":{"kind":"symbol","identifier":"doc:\/\/DiContainer\/documentation\/DiContainer\/RepositoryModuleFactory\/makeAllModules()","abstract":[{"type":"text","text":"모든 Repository 모듈 생성"}],"url":"\/documentation\/dicontainer\/repositorymodulefactory\/makeallmodules()","type":"topic","role":"symbol","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"makeAllModules"},{"kind":"text","text":"() -> ["},{"kind":"typeIdentifier","text":"Module","preciseIdentifier":"s:11DiContainer6ModuleC"},{"kind":"text","text":"]"}],"title":"makeAllModules()"},"doc://DiContainer/documentation/DiContainer/RepositoryModuleFactoryProtocol":{"abstract":[{"text":"Repository 계층의 모듈(의존성)을 ","type":"text"},{"type":"strong","inlineContent":[{"type":"text","text":"생성"}]},{"text":"하고 ","type":"text"},{"type":"strong","inlineContent":[{"type":"text","text":"등록"}]},{"text":"하기 위한 표준 인터페이스입니다.","type":"text"}],"type":"topic","fragments":[{"text":"protocol","kind":"keyword"},{"text":" ","kind":"text"},{"text":"RepositoryModuleFactoryProtocol","kind":"identifier"}],"navigatorTitle":[{"text":"RepositoryModuleFactoryProtocol","kind":"identifier"}],"kind":"symbol","role":"symbol","url":"\/documentation\/dicontainer\/repositorymodulefactoryprotocol","title":"RepositoryModuleFactoryProtocol","identifier":"doc:\/\/DiContainer\/documentation\/DiContainer\/RepositoryModuleFactoryProtocol"},"doc://DiContainer/documentation/DiContainer/RepositoryModuleFactory/repositoryDefinitions":{"fragments":[{"text":"var","kind":"keyword"},{"text":" ","kind":"text"},{"text":"repositoryDefinitions","kind":"identifier"},{"text":": [() -> ","kind":"text"},{"text":"Module","kind":"typeIdentifier","preciseIdentifier":"s:11DiContainer6ModuleC"},{"text":"]","kind":"text"}],"title":"repositoryDefinitions","type":"topic","abstract":[{"text":"Repository 모듈을 생성하는 클로저 배열","type":"text"}],"kind":"symbol","identifier":"doc:\/\/DiContainer\/documentation\/DiContainer\/RepositoryModuleFactory\/repositoryDefinitions","url":"\/documentation\/dicontainer\/repositorymodulefactory\/repositorydefinitions","role":"symbol"},"doc://DiContainer/documentation/DiContainer/RepositoryModuleFactory/registerModule":{"url":"\/documentation\/dicontainer\/repositorymodulefactory\/registermodule","type":"topic","role":"symbol","title":"registerModule","abstract":[{"text":"의존성 등록 헬퍼 객체","type":"text"}],"kind":"symbol","identifier":"doc:\/\/DiContainer\/documentation\/DiContainer\/RepositoryModuleFactory\/registerModule","fragments":[{"text":"let","kind":"keyword"},{"text":" ","kind":"text"},{"text":"registerModule","kind":"identifier"},{"text":": ","kind":"text"},{"preciseIdentifier":"s:11DiContainer14RegisterModuleV","text":"RegisterModule","kind":"typeIdentifier"}]},"doc://DiContainer/documentation/DiContainer":{"title":"DiContainer","type":"topic","abstract":[],"role":"collection","identifier":"doc:\/\/DiContainer\/documentation\/DiContainer","url":"\/documentation\/dicontainer","kind":"symbol"},"doc://DiContainer/documentation/DiContainer/RepositoryModuleFactory":{"identifier":"doc:\/\/DiContainer\/documentation\/DiContainer\/RepositoryModuleFactory","title":"RepositoryModuleFactory","role":"symbol","kind":"symbol","url":"\/documentation\/dicontainer\/repositorymodulefactory","navigatorTitle":[{"text":"RepositoryModuleFactory","kind":"identifier"}],"fragments":[{"text":"struct","kind":"keyword"},{"text":" ","kind":"text"},{"text":"RepositoryModuleFactory","kind":"identifier"}],"type":"topic","abstract":[{"type":"codeVoice","code":"RepositoryModuleFactory"},{"type":"text","text":"는 "},{"type":"codeVoice","code":"RepositoryModuleFactoryProtocol"},{"type":"text","text":"을 채택하여"},{"type":"text","text":" "},{"type":"text","text":"Repository 계층의 모듈 생성 및 등록을 담당합니다."}]}}}