{"sections":[],"variants":[{"traits":[{"interfaceLanguage":"swift"}],"paths":["\/documentation\/dicontainer\/appdicontainer"]}],"metadata":{"title":"AppDIContainer","symbolKind":"class","roleHeading":"Class","role":"symbol","modules":[{"name":"DiContainer"}],"externalID":"s:11DiContainer14AppDIContainerC","fragments":[{"kind":"keyword","text":"actor"},{"kind":"text","text":" "},{"kind":"identifier","text":"AppDIContainer"}],"navigatorTitle":[{"kind":"identifier","text":"AppDIContainer"}]},"identifier":{"url":"doc:\/\/DiContainer\/documentation\/DiContainer\/AppDIContainer","interfaceLanguage":"swift"},"topicSections":[{"identifiers":["doc:\/\/DiContainer\/documentation\/DiContainer\/AppDIContainer\/repositoryFactory","doc:\/\/DiContainer\/documentation\/DiContainer\/AppDIContainer\/useCaseFactory"],"title":"Instance Properties","generated":true,"anchor":"Instance-Properties"},{"identifiers":["doc:\/\/DiContainer\/documentation\/DiContainer\/AppDIContainer\/registerDependencies(registerModules:)"],"title":"Instance Methods","generated":true,"anchor":"Instance-Methods"},{"identifiers":["doc:\/\/DiContainer\/documentation\/DiContainer\/AppDIContainer\/shared"],"title":"Type Properties","generated":true,"anchor":"Type-Properties"},{"identifiers":["doc:\/\/DiContainer\/documentation\/DiContainer\/AppDIContainer\/Actor-Implementations"],"title":"Default Implementations","generated":true,"anchor":"Default-Implementations"}],"primaryContentSections":[{"kind":"declarations","declarations":[{"languages":["swift"],"platforms":["macOS"],"tokens":[{"kind":"keyword","text":"final"},{"kind":"text","text":" "},{"kind":"keyword","text":"actor"},{"kind":"text","text":" "},{"kind":"identifier","text":"AppDIContainer"}]}]},{"content":[{"anchor":"Overview","type":"heading","text":"Overview","level":1},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"앱 전역에서 사용되는 "},{"type":"strong","inlineContent":[{"type":"text","text":"싱글턴(Singleton)"}]},{"type":"text","text":" 인스턴스로 제공됩니다."}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"내부적으로 "},{"isActive":true,"identifier":"doc:\/\/DiContainer\/documentation\/DiContainer\/Container","type":"reference"},{"type":"text","text":" 를 통해 "},{"code":"BatchModule","type":"codeVoice"},{"type":"text","text":" 기반 모듈들을 등록 및 초기화합니다."}]}]},{"content":[{"type":"paragraph","inlineContent":[{"code":"build()","type":"codeVoice"},{"text":" 호출 시 등록된 모듈들의 ","type":"text"},{"code":"BatchModule\/register()","type":"codeVoice"},{"text":" 를 ","type":"text"},{"inlineContent":[{"type":"text","text":"병렬 실행"}],"type":"strong"},{"text":"하여","type":"text"},{"text":" ","type":"text"},{"text":"런타임 시점에 의존성 그래프를 완성합니다.","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"등록된 의존성은 "},{"identifier":"doc:\/\/DiContainer\/documentation\/DiContainer\/DependencyContainer\/live","type":"reference","isActive":true},{"type":"text","text":" 를 통해 앱 전역에서 조회할 수 있습니다."}]}]}],"type":"unorderedList"},{"anchor":"%ED%8A%B9%EC%A7%95","type":"heading","text":"특징","level":2},{"items":[{"content":[{"inlineContent":[{"inlineContent":[{"text":"중앙 관리","type":"text"}],"type":"strong"},{"text":": 모든 모듈 의존성은 ","type":"text"},{"type":"codeVoice","code":"AppDIContainer.shared"},{"text":"를 통해 등록·관리됩니다.","type":"text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"inlineContent":[{"type":"text","text":"자동 주입"}],"type":"strong"},{"type":"text","text":": "},{"type":"reference","identifier":"doc:\/\/DiContainer\/documentation\/DiContainer\/Factory","isActive":true},{"type":"text","text":" 프로퍼티 래퍼를 활용하여 "},{"type":"codeVoice","code":"FactoryValues"},{"type":"text","text":" 내 정의된"},{"type":"text","text":" "},{"type":"codeVoice","code":"repositoryFactory"},{"type":"text","text":", "},{"type":"codeVoice","code":"useCaseFactory"},{"type":"text","text":" 등을 자동으로 주입받습니다."}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"strong","inlineContent":[{"text":"유연성","type":"text"}]},{"type":"text","text":": 커스텀 모듈 또는 Factory 확장을 통해 언제든지 새로운 의존성을 추가할 수 있습니다."}]}]}],"type":"unorderedList"},{"anchor":"%EC%A7%80%EC%9B%90-%ED%99%98%EA%B2%BD","type":"heading","text":"지원 환경","level":2},{"items":[{"content":[{"inlineContent":[{"inlineContent":[{"text":"Swift 5.9 이상, iOS 17.0 이상","type":"text"}],"type":"strong"},{"type":"text","text":":"}],"type":"paragraph"},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"actor"},{"type":"text","text":" 기반으로 구현되어, "},{"type":"codeVoice","code":"Container"},{"type":"text","text":" 상태("},{"type":"codeVoice","code":"modules"},{"type":"text","text":")가 "},{"type":"strong","inlineContent":[{"text":"thread-safe","type":"text"}]},{"type":"text","text":" 하게 관리됩니다."}]}]}],"type":"unorderedList"}]},{"content":[{"type":"paragraph","inlineContent":[{"inlineContent":[{"text":"그 외 환경","type":"text"}],"type":"strong"},{"text":":","type":"text"}]},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"code":"final actor","type":"codeVoice"},{"type":"text","text":" 기반 구현으로 동일한 로직을 제공합니다."}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"text","text":"Swift 5.9 미만, iOS 17.0 미만 환경에서도 동일하게 동작합니다."}],"type":"paragraph"}]}]}]}],"type":"unorderedList"},{"anchor":"Example","type":"heading","text":"Example","level":2},{"anchor":"%EA%B8%B0%EB%B3%B8-%EC%82%AC%EC%9A%A9","type":"heading","text":"기본 사용","level":3},{"syntax":"swift","type":"codeListing","code":["@main","struct MyApp {","    static func main() async {","        await AppDIContainer.shared.registerDependencies { container in","            \/\/ Repository 모듈 등록","            container.register(UserRepositoryModule())","","            \/\/ UseCase 모듈 등록","            container.register(UserUseCaseModule())","        }","","        \/\/ 등록된 UseCase 사용","        let useCase: UserUseCaseProtocol = DependencyContainer.live.resolveOrDefault(","            UserUseCaseProtocol.self,","            default: UserUseCase(userRepo: UserRepository())","        )","        print(\"Loaded user profile: \\(await useCase.loadUserProfile().displayName)\")","    }","}"]},{"anchor":"RepositoryModuleFactory--UseCaseModuleFactory-%ED%99%95%EC%9E%A5","type":"heading","text":"RepositoryModuleFactory & UseCaseModuleFactory 확장","level":3},{"syntax":"swift","type":"codeListing","code":["extension RepositoryModuleFactory {","    public mutating func registerDefaultDefinitions() {","        let registerModuleCopy = registerModule","        repositoryDefinitions = [","            registerModuleCopy.makeDependency(AuthRepositoryProtocol.self) {","                DefaultAuthRepository()","            }","        ]","    }","}","","extension UseCaseModuleFactory {","    public var useCaseDefinitions: [() -> Module] {","        [","            registerModule.makeUseCaseWithRepository(","                AuthUseCaseProtocol.self,","                repositoryProtocol: AuthRepositoryProtocol.self,","                repositoryFallback: DefaultAuthRepository()","            ) { repo in","                AuthUseCase(repository: repo)","            }","        ]","    }","}"]},{"anchor":"ContainerResgister-%EC%82%AC%EC%9A%A9","type":"heading","text":"ContainerResgister 사용","level":3},{"syntax":"swift","type":"codeListing","code":["extension DependencyContainer {","    var authUseCase: AuthUseCaseProtocol? {","        ContainerResgister(\\.authUseCase).wrappedValue","    }","}","","\/\/ 사용 예시","let authUC: AuthUseCaseProtocol = ContainerResgister(\\.authUseCase).wrappedValue"]},{"anchor":"SwiftUI-%EA%B8%B0%EB%B0%98-%EC%95%B1%EC%97%90%EC%84%9C-DI-%EC%A0%81%EC%9A%A9","type":"heading","text":"SwiftUI 기반 앱에서 DI 적용","level":3},{"syntax":"swift","type":"codeListing","code":["@main","struct TestApp: App {","    @UIApplicationDelegateAdaptor(AppDelegate.self) var appDelegate","","    init() {","        registerDependencies()","    }","","    var body: some Scene {","        WindowGroup {","            let store = Store(initialState: AppReducer.State()) {","                AppReducer()._printChanges()","            }","            AppView(store: store)","        }","    }","","    private func registerDependencies() {","        Task {","            await AppDIContainer.shared.registerDependencies { container in","                var repoFactory = AppDIContainer.shared.repositoryFactory","                repoFactory.registerDefaultDefinitions()","                await repoFactory.makeAllModules().asyncForEach { module in","                    await container.register(module)","                }","","                let useCaseFactory = AppDIContainer.shared.useCaseFactory","                await useCaseFactory.makeAllModules().asyncForEach { module in","                    await container.register(module)","                }","            }","        }","    }","}"]},{"anchor":"Discussion","type":"heading","text":"Discussion","level":2},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"code":"AppDIContainer","type":"codeVoice"},{"type":"text","text":"는 단일 진입점(single entry point) 역할을 합니다."}]}]},{"content":[{"inlineContent":[{"type":"text","text":"앱 초기화 시점에 모듈을 한꺼번에 등록해두면, 런타임에서 빠르고 안정적으로"},{"type":"text","text":" "},{"type":"text","text":"의존성 객체를 생성·조회할 수 있습니다."}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"모듈 등록 순서가 중요한 경우에는 "},{"type":"codeVoice","code":"BatchModule\/batch"},{"type":"text","text":" 값을 활용하여"},{"type":"text","text":" "},{"type":"strong","inlineContent":[{"text":"우선순위 기반 순차 실행","type":"text"}]},{"type":"text","text":"을 보장할 수 있습니다."}]}]}],"type":"unorderedList"}],"kind":"content"}],"schemaVersion":{"patch":0,"major":0,"minor":3},"kind":"symbol","abstract":[{"type":"codeVoice","code":"AppDIContainer"},{"type":"text","text":"는 애플리케이션 전반에서 "},{"type":"strong","inlineContent":[{"text":"의존성 주입(Dependency Injection)","type":"text"}]},{"type":"text","text":" 을 담당하는"},{"type":"text","text":" "},{"type":"text","text":"중앙 컨테이너 클래스입니다."}],"relationshipsSections":[{"identifiers":["doc:\/\/DiContainer\/s8SendableP","doc:\/\/DiContainer\/ScA"],"title":"Conforms To","kind":"relationships","type":"conformsTo"}],"hierarchy":{"paths":[["doc:\/\/DiContainer\/documentation\/DiContainer"]]},"seeAlsoSections":[{"identifiers":["doc:\/\/DiContainer\/documentation\/DiContainer\/Container","doc:\/\/DiContainer\/documentation\/DiContainer\/Factory"],"title":"Related Documentation","anchor":"Related-Documentation"}],"references":{"doc://DiContainer/documentation/DiContainer/AppDIContainer":{"role":"symbol","kind":"symbol","type":"topic","identifier":"doc:\/\/DiContainer\/documentation\/DiContainer\/AppDIContainer","navigatorTitle":[{"kind":"identifier","text":"AppDIContainer"}],"title":"AppDIContainer","url":"\/documentation\/dicontainer\/appdicontainer","abstract":[{"type":"codeVoice","code":"AppDIContainer"},{"type":"text","text":"는 애플리케이션 전반에서 "},{"type":"strong","inlineContent":[{"text":"의존성 주입(Dependency Injection)","type":"text"}]},{"type":"text","text":" 을 담당하는"},{"type":"text","text":" "},{"type":"text","text":"중앙 컨테이너 클래스입니다."}],"fragments":[{"kind":"keyword","text":"actor"},{"kind":"text","text":" "},{"kind":"identifier","text":"AppDIContainer"}]},"doc://DiContainer/s8SendableP":{"identifier":"doc:\/\/DiContainer\/s8SendableP","title":"Swift.Sendable","type":"unresolvable"},"doc://DiContainer/documentation/DiContainer/AppDIContainer/repositoryFactory":{"type":"topic","kind":"symbol","identifier":"doc:\/\/DiContainer\/documentation\/DiContainer\/AppDIContainer\/repositoryFactory","fragments":[{"text":"var","kind":"keyword"},{"text":" ","kind":"text"},{"text":"repositoryFactory","kind":"identifier"},{"text":": ","kind":"text"},{"text":"RepositoryModuleFactory","preciseIdentifier":"s:11DiContainer23RepositoryModuleFactoryV","kind":"typeIdentifier"}],"url":"\/documentation\/dicontainer\/appdicontainer\/repositoryfactory","title":"repositoryFactory","role":"symbol","abstract":[{"text":"Repository 계층에서 사용할 모듈(팩토리) 인스턴스를","type":"text"},{"text":" ","type":"text"},{"type":"reference","identifier":"doc:\/\/DiContainer\/documentation\/DiContainer\/FactoryValues","isActive":true},{"text":" 내 정의된 경로에서 자동으로 주입받습니다.","type":"text"}]},"doc://DiContainer/ScA":{"title":"_Concurrency.Actor","type":"unresolvable","identifier":"doc:\/\/DiContainer\/ScA"},"doc://DiContainer/documentation/DiContainer/Container":{"abstract":[{"code":"Container","type":"codeVoice"},{"type":"text","text":" 는 여러 개의 "},{"identifier":"doc:\/\/DiContainer\/documentation\/DiContainer\/Module","isActive":true,"type":"reference"},{"type":"text","text":" 을 수집하고,"},{"type":"text","text":" "},{"code":"build()","type":"codeVoice"},{"type":"text","text":" 호출 시 "},{"type":"strong","inlineContent":[{"text":"모든 모듈의 ","type":"text"},{"code":"register()","type":"codeVoice"},{"text":"를 병렬","type":"text"}]},{"type":"text","text":"로 실행하는 "},{"code":"actor","type":"codeVoice"},{"type":"text","text":"입니다."}],"url":"\/documentation\/dicontainer\/container","kind":"symbol","navigatorTitle":[{"kind":"identifier","text":"Container"}],"identifier":"doc:\/\/DiContainer\/documentation\/DiContainer\/Container","fragments":[{"kind":"keyword","text":"actor"},{"kind":"text","text":" "},{"kind":"identifier","text":"Container"}],"title":"Container","type":"topic","role":"symbol"},"doc://DiContainer/documentation/DiContainer/FactoryValues":{"abstract":[{"type":"text","text":"A global container of factories used across the application."}],"type":"topic","fragments":[{"text":"struct","kind":"keyword"},{"text":" ","kind":"text"},{"text":"FactoryValues","kind":"identifier"}],"title":"FactoryValues","kind":"symbol","url":"\/documentation\/dicontainer\/factoryvalues","navigatorTitle":[{"text":"FactoryValues","kind":"identifier"}],"role":"symbol","identifier":"doc:\/\/DiContainer\/documentation\/DiContainer\/FactoryValues"},"doc://DiContainer/documentation/DiContainer/DependencyContainer/live":{"abstract":[{"type":"text","text":"애플리케이션 전역에서 사용하는 "},{"type":"strong","inlineContent":[{"type":"text","text":"라이브 컨테이너"}]},{"type":"text","text":"입니다."}],"type":"topic","identifier":"doc:\/\/DiContainer\/documentation\/DiContainer\/DependencyContainer\/live","role":"symbol","kind":"symbol","fragments":[{"kind":"keyword","text":"static"},{"kind":"text","text":" "},{"kind":"keyword","text":"var"},{"kind":"text","text":" "},{"kind":"identifier","text":"live"},{"kind":"text","text":": "},{"preciseIdentifier":"s:11DiContainer010DependencyB0C","kind":"typeIdentifier","text":"DependencyContainer"}],"title":"live","url":"\/documentation\/dicontainer\/dependencycontainer\/live"},"doc://DiContainer/documentation/DiContainer/AppDIContainer/Actor-Implementations":{"title":"Actor Implementations","url":"\/documentation\/dicontainer\/appdicontainer\/actor-implementations","abstract":[],"identifier":"doc:\/\/DiContainer\/documentation\/DiContainer\/AppDIContainer\/Actor-Implementations","type":"topic","kind":"article","role":"collectionGroup"},"doc://DiContainer/documentation/DiContainer/AppDIContainer/shared":{"abstract":[{"text":"앱 전역에서 사용할 수 있는 싱글턴 인스턴스입니다.","type":"text"}],"url":"\/documentation\/dicontainer\/appdicontainer\/shared","title":"shared","identifier":"doc:\/\/DiContainer\/documentation\/DiContainer\/AppDIContainer\/shared","type":"topic","kind":"symbol","role":"symbol","fragments":[{"kind":"keyword","text":"static"},{"kind":"text","text":" "},{"kind":"keyword","text":"let"},{"kind":"text","text":" "},{"kind":"identifier","text":"shared"},{"kind":"text","text":": "},{"kind":"typeIdentifier","preciseIdentifier":"s:11DiContainer14AppDIContainerC","text":"AppDIContainer"}]},"doc://DiContainer/documentation/DiContainer/Module":{"type":"topic","role":"symbol","navigatorTitle":[{"text":"Module","kind":"identifier"}],"identifier":"doc:\/\/DiContainer\/documentation\/DiContainer\/Module","kind":"symbol","abstract":[{"code":"Module","type":"codeVoice"},{"text":"은 DI(의존성 주입)를 위한 ","type":"text"},{"inlineContent":[{"text":"단일 모듈","type":"text"}],"type":"strong"},{"type":"text","text":"을 나타내는 구조체입니다."}],"url":"\/documentation\/dicontainer\/module","title":"Module","fragments":[{"text":"actor","kind":"keyword"},{"text":" ","kind":"text"},{"text":"Module","kind":"identifier"}]},"doc://DiContainer/documentation/DiContainer":{"identifier":"doc:\/\/DiContainer\/documentation\/DiContainer","kind":"symbol","type":"topic","title":"DiContainer","abstract":[],"role":"collection","url":"\/documentation\/dicontainer"},"doc://DiContainer/documentation/DiContainer/AppDIContainer/useCaseFactory":{"type":"topic","abstract":[{"type":"text","text":"UseCase 계층에서 사용할 모듈(팩토리) 인스턴스를"},{"type":"text","text":" "},{"type":"reference","identifier":"doc:\/\/DiContainer\/documentation\/DiContainer\/FactoryValues","isActive":true},{"type":"text","text":" 내 정의된 경로에서 자동으로 주입받습니다."}],"identifier":"doc:\/\/DiContainer\/documentation\/DiContainer\/AppDIContainer\/useCaseFactory","kind":"symbol","fragments":[{"text":"var","kind":"keyword"},{"text":" ","kind":"text"},{"text":"useCaseFactory","kind":"identifier"},{"text":": ","kind":"text"},{"text":"UseCaseModuleFactory","kind":"typeIdentifier","preciseIdentifier":"s:11DiContainer20UseCaseModuleFactoryV"}],"role":"symbol","title":"useCaseFactory","url":"\/documentation\/dicontainer\/appdicontainer\/usecasefactory"},"doc://DiContainer/documentation/DiContainer/AppDIContainer/registerDependencies(registerModules:)":{"title":"registerDependencies(registerModules:)","identifier":"doc:\/\/DiContainer\/documentation\/DiContainer\/AppDIContainer\/registerDependencies(registerModules:)","abstract":[{"text":"의존성 모듈들을 등록하고, 등록된 모듈을 병렬 실행하여 빌드합니다.","type":"text"}],"kind":"symbol","role":"symbol","fragments":[{"text":"func","kind":"keyword"},{"text":" ","kind":"text"},{"text":"registerDependencies","kind":"identifier"},{"text":"(","kind":"text"},{"text":"registerModules","kind":"externalParam"},{"text":": (","kind":"text"},{"preciseIdentifier":"s:11DiContainer0B0C","text":"Container","kind":"typeIdentifier"},{"text":") ","kind":"text"},{"text":"async","kind":"keyword"},{"text":" -> ","kind":"text"},{"preciseIdentifier":"s:s4Voida","text":"Void","kind":"typeIdentifier"},{"text":") ","kind":"text"},{"text":"async","kind":"keyword"}],"url":"\/documentation\/dicontainer\/appdicontainer\/registerdependencies(registermodules:)","type":"topic"},"doc://DiContainer/documentation/DiContainer/Factory":{"type":"topic","abstract":[{"isActive":true,"type":"reference","identifier":"doc:\/\/DiContainer\/documentation\/DiContainer\/FactoryValues"},{"type":"text","text":" 로부터 특정 팩토리 인스턴스를 주입받는 프로퍼티 래퍼입니다."}],"url":"\/documentation\/dicontainer\/factory","kind":"symbol","fragments":[{"text":"struct","kind":"keyword"},{"text":" ","kind":"text"},{"text":"Factory","kind":"identifier"}],"role":"symbol","title":"Factory","identifier":"doc:\/\/DiContainer\/documentation\/DiContainer\/Factory","navigatorTitle":[{"text":"Factory","kind":"identifier"}]}}}