{"variants":[{"traits":[{"interfaceLanguage":"swift"}],"paths":["\/documentation\/dicontainer\/registermodule\/makemodule(_:factory:)"]}],"abstract":[{"type":"text","text":"타입과 팩토리 클로저로부터 Module 인스턴스를 생성하는 기본 메서드입니다."}],"sections":[],"kind":"symbol","primaryContentSections":[{"kind":"declarations","declarations":[{"languages":["swift"],"tokens":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"makeModule"},{"kind":"text","text":"<"},{"kind":"genericParameter","text":"T"},{"kind":"text","text":">("},{"kind":"externalParam","text":"_"},{"kind":"text","text":" "},{"kind":"internalParam","text":"type"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"T"},{"text":".Type, ","kind":"text"},{"text":"factory","kind":"externalParam"},{"text":": ","kind":"text"},{"text":"@escaping","kind":"keyword"},{"text":" () -> ","kind":"text"},{"text":"T","kind":"typeIdentifier"},{"text":") -> ","kind":"text"},{"text":"Module","identifier":"doc:\/\/DiContainer\/documentation\/DiContainer\/Module","preciseIdentifier":"s:11DiContainer6ModuleC","kind":"typeIdentifier"}],"platforms":["macOS"]}]},{"parameters":[{"name":"type","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"등록할 의존성의 타입 메타정보 (예: "},{"type":"codeVoice","code":"UserServiceProtocol.self"},{"type":"text","text":")"}]}]},{"name":"factory","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"해당 타입의 인스턴스를 생성하는 "},{"code":"@Sendable","type":"codeVoice"},{"type":"text","text":" 클로저"}]}]}],"kind":"parameters"},{"content":[{"text":"Return Value","type":"heading","level":2,"anchor":"return-value"},{"type":"paragraph","inlineContent":[{"text":"DI 컨테이너에 등록 가능한 ","type":"text"},{"code":"Module","type":"codeVoice"},{"text":" 인스턴스","type":"text"}]}],"kind":"content"},{"content":[{"text":"Discussion","type":"heading","level":2,"anchor":"discussion"},{"inlineContent":[{"text":"이 메서드는 가장 단순하고 직접적인 모듈 생성 방법을 제공합니다.","type":"text"},{"text":" ","type":"text"},{"text":"주어진 타입에 대한 인스턴스 생성 로직을 캡슐화하여 재사용 가능한 Module로 변환합니다.","type":"text"}],"type":"paragraph"},{"type":"heading","text":"사용 방법","anchor":"%EC%82%AC%EC%9A%A9-%EB%B0%A9%EB%B2%95","level":2},{"type":"heading","text":"기본 서비스 등록","anchor":"%EA%B8%B0%EB%B3%B8-%EC%84%9C%EB%B9%84%EC%8A%A4-%EB%93%B1%EB%A1%9D","level":3},{"type":"codeListing","syntax":"swift","code":["let loggerModule = registerModule.makeModule(LoggerProtocol.self) {","    ConsoleLogger(level: .info)","}","","\/\/ 컨테이너에 등록","await container.register(loggerModule)"]},{"type":"heading","text":"설정이 필요한 서비스","anchor":"%EC%84%A4%EC%A0%95%EC%9D%B4-%ED%95%84%EC%9A%94%ED%95%9C-%EC%84%9C%EB%B9%84%EC%8A%A4","level":3},{"type":"codeListing","syntax":"swift","code":["let networkModule = registerModule.makeModule(NetworkServiceProtocol.self) {","    let config = NetworkConfig(","        baseURL: URL(string: \"https:\/\/api.example.com\")!,","        timeout: 30.0,","        retryCount: 3","    )","    return NetworkService(config: config)","}"]},{"type":"heading","text":"복잡한 초기화 로직","anchor":"%EB%B3%B5%EC%9E%A1%ED%95%9C-%EC%B4%88%EA%B8%B0%ED%99%94-%EB%A1%9C%EC%A7%81","level":3},{"type":"codeListing","syntax":"swift","code":["let databaseModule = registerModule.makeModule(DatabaseProtocol.self) {","    let connectionString = ProcessInfo.processInfo.environment[\"DB_CONNECTION\"] ","                        ?? \"sqlite:\/\/\/default.db\"","    ","    let database = SQLiteDatabase(connectionString: connectionString)","    database.configure(poolSize: 10, maxConnections: 20)","    ","    return database","}"]},{"type":"heading","text":"동작 원리","anchor":"%EB%8F%99%EC%9E%91-%EC%9B%90%EB%A6%AC","level":2},{"type":"orderedList","items":[{"content":[{"inlineContent":[{"type":"strong","inlineContent":[{"type":"text","text":"타입 등록"}]},{"type":"text","text":": 주어진 메타타입 "},{"type":"codeVoice","code":"T.Type"},{"type":"text","text":"을 Module의 키로 사용"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"strong","inlineContent":[{"type":"text","text":"팩토리 캡슐화"}]},{"text":": 전달받은 클로저를 Module 내부에 저장","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"inlineContent":[{"text":"지연 실행","type":"text"}],"type":"strong"},{"text":": Module이 실제로 등록될 때 팩토리 클로저 실행","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"strong","inlineContent":[{"type":"text","text":"인스턴스 반환"}]},{"text":": 생성된 인스턴스를 DI 컨테이너에 제공","type":"text"}]}]}]},{"type":"aside","style":"note","content":[{"inlineContent":[{"text":"팩토리 클로저는 Module 등록 시점이 아닌 실제 인스턴스 요청 시점에 실행됩니다.","type":"text"}],"type":"paragraph"}],"name":"Note"},{"name":"Important","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"팩토리 클로저는 "},{"type":"codeVoice","code":"@Sendable"},{"type":"text","text":"이므로 동시성 안전해야 합니다."}]}],"style":"important","type":"aside"},{"name":"Warning","content":[{"inlineContent":[{"text":"팩토리 내부에서 동일한 타입을 resolve하면 순환 참조가 발생할 수 있습니다.","type":"text"}],"type":"paragraph"}],"type":"aside","style":"warning"}],"kind":"content"}],"schemaVersion":{"major":0,"minor":3,"patch":0},"hierarchy":{"paths":[["doc:\/\/DiContainer\/documentation\/DiContainer","doc:\/\/DiContainer\/documentation\/DiContainer\/RegisterModule"]]},"identifier":{"interfaceLanguage":"swift","url":"doc:\/\/DiContainer\/documentation\/DiContainer\/RegisterModule\/makeModule(_:factory:)"},"metadata":{"roleHeading":"Instance Method","symbolKind":"method","role":"symbol","title":"makeModule(_:factory:)","externalID":"s:11DiContainer14RegisterModuleV04makeD0_7factoryAA0D0Cxm_xyYbctlF","modules":[{"name":"DiContainer"}],"fragments":[{"text":"func","kind":"keyword"},{"text":" ","kind":"text"},{"text":"makeModule","kind":"identifier"},{"text":"<","kind":"text"},{"text":"T","kind":"genericParameter"},{"text":">(","kind":"text"},{"text":"T","kind":"typeIdentifier"},{"text":".Type, ","kind":"text"},{"text":"factory","kind":"externalParam"},{"text":": () -> ","kind":"text"},{"text":"T","kind":"typeIdentifier"},{"text":") -> ","kind":"text"},{"text":"Module","kind":"typeIdentifier","preciseIdentifier":"s:11DiContainer6ModuleC"}]},"references":{"doc://DiContainer/documentation/DiContainer/RegisterModule":{"kind":"symbol","identifier":"doc:\/\/DiContainer\/documentation\/DiContainer\/RegisterModule","abstract":[],"role":"symbol","type":"topic","fragments":[{"kind":"keyword","text":"struct"},{"kind":"text","text":" "},{"kind":"identifier","text":"RegisterModule"}],"navigatorTitle":[{"kind":"identifier","text":"RegisterModule"}],"url":"\/documentation\/dicontainer\/registermodule","title":"RegisterModule"},"doc://DiContainer/documentation/DiContainer/Module":{"navigatorTitle":[{"text":"Module","kind":"identifier"}],"url":"\/documentation\/dicontainer\/module","identifier":"doc:\/\/DiContainer\/documentation\/DiContainer\/Module","fragments":[{"text":"actor","kind":"keyword"},{"text":" ","kind":"text"},{"text":"Module","kind":"identifier"}],"type":"topic","role":"symbol","kind":"symbol","title":"Module","abstract":[{"type":"codeVoice","code":"Module"},{"type":"text","text":"은 DI(의존성 주입)를 위한 "},{"type":"strong","inlineContent":[{"type":"text","text":"단일 모듈"}]},{"type":"text","text":"을 나타내는 구조체입니다."}]},"doc://DiContainer/documentation/DiContainer/RegisterModule/makeModule(_:factory:)":{"title":"makeModule(_:factory:)","fragments":[{"text":"func","kind":"keyword"},{"text":" ","kind":"text"},{"text":"makeModule","kind":"identifier"},{"text":"<","kind":"text"},{"text":"T","kind":"genericParameter"},{"text":">(","kind":"text"},{"text":"T","kind":"typeIdentifier"},{"text":".Type, ","kind":"text"},{"text":"factory","kind":"externalParam"},{"text":": () -> ","kind":"text"},{"text":"T","kind":"typeIdentifier"},{"text":") -> ","kind":"text"},{"text":"Module","preciseIdentifier":"s:11DiContainer6ModuleC","kind":"typeIdentifier"}],"abstract":[{"text":"타입과 팩토리 클로저로부터 Module 인스턴스를 생성하는 기본 메서드입니다.","type":"text"}],"identifier":"doc:\/\/DiContainer\/documentation\/DiContainer\/RegisterModule\/makeModule(_:factory:)","role":"symbol","kind":"symbol","type":"topic","url":"\/documentation\/dicontainer\/registermodule\/makemodule(_:factory:)"},"doc://DiContainer/documentation/DiContainer":{"abstract":[],"url":"\/documentation\/dicontainer","kind":"symbol","type":"topic","title":"DiContainer","identifier":"doc:\/\/DiContainer\/documentation\/DiContainer","role":"collection"}}}