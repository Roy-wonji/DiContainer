{"sections":[],"abstract":[{"text":"Repository 계층의 모듈(의존성)을 ","type":"text"},{"inlineContent":[{"text":"생성","type":"text"}],"type":"strong"},{"type":"text","text":"하고 "},{"type":"strong","inlineContent":[{"type":"text","text":"등록"}]},{"type":"text","text":"하기 위한 표준 인터페이스입니다."}],"kind":"symbol","variants":[{"traits":[{"interfaceLanguage":"swift"}],"paths":["\/documentation\/dicontainer\/repositorymodulefactoryprotocol"]}],"relationshipsSections":[{"type":"conformingTypes","kind":"relationships","title":"Conforming Types","identifiers":["doc:\/\/DiContainer\/documentation\/DiContainer\/RepositoryModuleFactory"]}],"metadata":{"title":"RepositoryModuleFactoryProtocol","modules":[{"name":"DiContainer"}],"symbolKind":"protocol","fragments":[{"kind":"keyword","text":"protocol"},{"kind":"text","text":" "},{"kind":"identifier","text":"RepositoryModuleFactoryProtocol"}],"externalID":"s:11DiContainer31RepositoryModuleFactoryProtocolP","navigatorTitle":[{"kind":"identifier","text":"RepositoryModuleFactoryProtocol"}],"roleHeading":"Protocol","role":"symbol"},"seeAlsoSections":[{"identifiers":["doc:\/\/DiContainer\/documentation\/DiContainer\/RegisterModule","doc:\/\/DiContainer\/documentation\/DiContainer\/Module","doc:\/\/DiContainer\/documentation\/DiContainer\/UseCaseModuleFactoryProtocol"],"title":"Related Documentation","anchor":"Related-Documentation"}],"topicSections":[{"generated":true,"identifiers":["doc:\/\/DiContainer\/documentation\/DiContainer\/RepositoryModuleFactoryProtocol\/registerModule","doc:\/\/DiContainer\/documentation\/DiContainer\/RepositoryModuleFactoryProtocol\/repositoryDefinitions"],"title":"Instance Properties","anchor":"Instance-Properties"},{"generated":true,"identifiers":["doc:\/\/DiContainer\/documentation\/DiContainer\/RepositoryModuleFactoryProtocol\/makeAllModules()"],"title":"Instance Methods","anchor":"Instance-Methods"}],"identifier":{"interfaceLanguage":"swift","url":"doc:\/\/DiContainer\/documentation\/DiContainer\/RepositoryModuleFactoryProtocol"},"schemaVersion":{"major":0,"minor":3,"patch":0},"hierarchy":{"paths":[["doc:\/\/DiContainer\/documentation\/DiContainer"]]},"primaryContentSections":[{"declarations":[{"languages":["swift"],"platforms":["macOS"],"tokens":[{"kind":"keyword","text":"protocol"},{"kind":"text","text":" "},{"kind":"identifier","text":"RepositoryModuleFactoryProtocol"}]}],"kind":"declarations"},{"kind":"content","content":[{"level":2,"anchor":"Overview","type":"heading","text":"Overview"},{"type":"paragraph","inlineContent":[{"text":"구현 타입은 다음을 제공합니다:","type":"text"}]},{"type":"orderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"isActive":true,"type":"reference","identifier":"doc:\/\/DiContainer\/documentation\/DiContainer\/RepositoryModuleFactoryProtocol\/registerModule"},{"type":"text","text":" — Repository 모듈 생성 시 필요한 의존성 등록 헬퍼("},{"type":"codeVoice","code":"RegisterModule"},{"type":"text","text":")"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"isActive":true,"type":"reference","identifier":"doc:\/\/DiContainer\/documentation\/DiContainer\/RepositoryModuleFactoryProtocol\/repositoryDefinitions"},{"text":" — ","type":"text"},{"code":"Module","type":"codeVoice"},{"text":"을 생성하는 ","type":"text"},{"inlineContent":[{"type":"text","text":"클로저 배열"}],"type":"strong"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"reference","identifier":"doc:\/\/DiContainer\/documentation\/DiContainer\/RepositoryModuleFactoryProtocol\/makeAllModules()","isActive":true},{"type":"text","text":" — 위 클로저들을 실행해 "},{"inlineContent":[{"type":"codeVoice","code":"Module"},{"type":"text","text":" 인스턴스 배열"}],"type":"strong"},{"type":"text","text":"을 반환"}]}]}]},{"level":3,"anchor":"%EC%97%AD%ED%95%A0","type":"heading","text":"역할"},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"isActive":true,"type":"reference","identifier":"doc:\/\/DiContainer\/documentation\/DiContainer\/RepositoryModuleFactoryProtocol\/registerModule"},{"text":"를 활용해, Repository가 의존하는 다른 구성 요소를 ","type":"text"},{"type":"strong","inlineContent":[{"text":"선언적으로 등록","type":"text"}]},{"text":"합니다.","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"reference","identifier":"doc:\/\/DiContainer\/documentation\/DiContainer\/RepositoryModuleFactoryProtocol\/repositoryDefinitions","isActive":true},{"type":"text","text":"에 "},{"type":"codeVoice","code":"Module"},{"type":"text","text":" 생성 클로저를 "},{"type":"strong","inlineContent":[{"text":"나열","type":"text"}]},{"type":"text","text":"하면, 등록 대상이 명확해지고 테스트가 쉬워집니다."}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"isActive":true,"type":"reference","identifier":"doc:\/\/DiContainer\/documentation\/DiContainer\/RepositoryModuleFactoryProtocol\/makeAllModules()"},{"type":"text","text":"는 정의한 모든 클로저를 실행해 실제 "},{"type":"codeVoice","code":"Module"},{"type":"text","text":" 인스턴스를 생성합니다."}],"type":"paragraph"}]}]},{"level":2,"anchor":"Usage","type":"heading","text":"Usage"},{"level":3,"anchor":"1-%ED%94%84%EB%A1%9C%ED%86%A0%EC%BD%9C-%EB%B0%8F-%EA%B5%AC%ED%98%84%EC%B2%B4-%EC%A0%95%EC%9D%98","type":"heading","text":"1) 프로토콜 및 구현체 정의"},{"type":"codeListing","syntax":"swift","code":["protocol AuthRepositoryProtocol {","  func login(user: String, password: String) async -> Bool","}","","struct DefaultAuthRepository: AuthRepositoryProtocol {","  func login(user: String, password: String) async -> Bool {","    \/\/ 실제 로그인 로직","    return true","  }","}"]},{"level":3,"anchor":"2-%ED%8C%A9%ED%86%A0%EB%A6%AC-%EA%B5%AC%ED%98%84","type":"heading","text":"2) 팩토리 구현"},{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"makeDependency(_:factory:)"},{"type":"text","text":"로 "},{"type":"codeVoice","code":"AuthRepositoryProtocol"},{"type":"text","text":" → "},{"type":"codeVoice","code":"DefaultAuthRepository"},{"type":"text","text":" 매핑을 선언합니다."}]},{"type":"codeListing","syntax":"swift","code":["struct AuthRepositoryModuleFactory: RepositoryModuleFactoryProtocol {","  let registerModule = RegisterModule() \/\/ 값 복사로 캡처 이슈 방지","","  var repositoryDefinitions: [() -> Module] {","    [","      registerModule.makeDependency(AuthRepositoryProtocol.self) {","        DefaultAuthRepository()","      }","    ]","  }","}"]},{"level":3,"anchor":"3-%EC%BB%A8%ED%85%8C%EC%9D%B4%EB%84%88%EC%97%90-%EC%9D%BC%EA%B4%84-%EB%93%B1%EB%A1%9D","type":"heading","text":"3) 컨테이너에 일괄 등록"},{"type":"codeListing","syntax":"swift","code":["extension AppDIContainer {","  public func registerAuthRepository() async {","    var factoryCopy = AuthRepositoryModuleFactory() \/\/ 값 복사 권장","    await registerDependencies { container in","      for module in factoryCopy.makeAllModules() {","        await container.register(module)","      }","    }","  }","}"]},{"level":3,"anchor":"4-%EC%95%B1-%EC%B4%88%EA%B8%B0%ED%99%94-SwiftUI--UIKit","type":"heading","text":"4) 앱 초기화 (SwiftUI \/ UIKit)"},{"type":"codeListing","syntax":"swift","code":["\/\/ SwiftUI","@main","struct MyApp: App {","  @UIApplicationDelegateAdaptor(AppDelegate.self) var appDelegate","","  init() {","    Task { await AppDIContainer.shared.registerAuthRepository() }","  }","","  var body: some Scene { WindowGroup { ContentView() } }","}"]},{"type":"codeListing","syntax":"swift","code":["\/\/ UIKit AppDelegate","@main","class AppDelegate: UIResponder, UIApplicationDelegate {","  func application(_ application: UIApplication,","                  didFinishLaunchingWithOptions launchOptions: [UIApplication.LaunchOptionsKey: Any]?) -> Bool {","    Task { await AppDIContainer.shared.registerAuthRepository() }","    return true","  }","}"]},{"level":2,"anchor":"Best-Practices","type":"heading","text":"Best Practices"},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"inlineContent":[{"text":"정의\/등록 분리:","type":"text"}],"type":"strong"},{"text":" 팩토리는 “정의”, 컨테이너는 “등록”에 집중하세요.","type":"text"}]}]},{"content":[{"inlineContent":[{"type":"strong","inlineContent":[{"type":"text","text":"캡처 최소화:"}]},{"text":" ","type":"text"},{"code":"let helper = registerModule","type":"codeVoice"},{"text":"처럼 값 복사를 활용하면 클로저 캡처 문제를 줄일 수 있습니다.","type":"text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"inlineContent":[{"text":"병렬 등록 고려:","type":"text"}],"type":"strong"},{"text":" 컨테이너가 스레드 세이프\/actor라면, 여러 ","type":"text"},{"code":"Module","type":"codeVoice"},{"text":"을 병렬 등록하여 부트 시간 단축.","type":"text"}]}]},{"content":[{"inlineContent":[{"inlineContent":[{"type":"text","text":"레거시\/테스트:"}],"type":"strong"},{"type":"text","text":" 동일한 팩토리에서 구현체만 바꿔 Mock\/Live를 손쉽게 스위칭하십시오."}],"type":"paragraph"}]}]}]}],"references":{"doc://DiContainer/documentation/DiContainer/RepositoryModuleFactoryProtocol":{"navigatorTitle":[{"kind":"identifier","text":"RepositoryModuleFactoryProtocol"}],"role":"symbol","type":"topic","kind":"symbol","title":"RepositoryModuleFactoryProtocol","abstract":[{"type":"text","text":"Repository 계층의 모듈(의존성)을 "},{"inlineContent":[{"type":"text","text":"생성"}],"type":"strong"},{"type":"text","text":"하고 "},{"inlineContent":[{"text":"등록","type":"text"}],"type":"strong"},{"type":"text","text":"하기 위한 표준 인터페이스입니다."}],"identifier":"doc:\/\/DiContainer\/documentation\/DiContainer\/RepositoryModuleFactoryProtocol","url":"\/documentation\/dicontainer\/repositorymodulefactoryprotocol","fragments":[{"kind":"keyword","text":"protocol"},{"kind":"text","text":" "},{"kind":"identifier","text":"RepositoryModuleFactoryProtocol"}]},"doc://DiContainer/documentation/DiContainer/RepositoryModuleFactoryProtocol/registerModule":{"title":"registerModule","role":"symbol","kind":"symbol","type":"topic","identifier":"doc:\/\/DiContainer\/documentation\/DiContainer\/RepositoryModuleFactoryProtocol\/registerModule","url":"\/documentation\/dicontainer\/repositorymodulefactoryprotocol\/registermodule","abstract":[{"text":"Repository 모듈 생성 시 사용하는 의존성 등록 헬퍼(","type":"text"},{"code":"RegisterModule","type":"codeVoice"},{"text":").","type":"text"}],"required":true,"fragments":[{"kind":"keyword","text":"var"},{"kind":"text","text":" "},{"kind":"identifier","text":"registerModule"},{"kind":"text","text":": "},{"kind":"typeIdentifier","preciseIdentifier":"s:11DiContainer14RegisterModuleV","text":"RegisterModule"}]},"doc://DiContainer/documentation/DiContainer/RegisterModule":{"abstract":[{"type":"codeVoice","code":"RegisterModule"},{"text":"은 Repository 및 UseCase 모듈을 생성하고,","type":"text"},{"text":" ","type":"text"},{"text":"의존성을 DI 컨테이너에 등록하는 공통 로직을 제공합니다.","type":"text"}],"url":"\/documentation\/dicontainer\/registermodule","title":"RegisterModule","type":"topic","navigatorTitle":[{"kind":"identifier","text":"RegisterModule"}],"fragments":[{"kind":"keyword","text":"struct"},{"kind":"text","text":" "},{"kind":"identifier","text":"RegisterModule"}],"kind":"symbol","identifier":"doc:\/\/DiContainer\/documentation\/DiContainer\/RegisterModule","role":"symbol"},"doc://DiContainer/documentation/DiContainer/UseCaseModuleFactoryProtocol":{"navigatorTitle":[{"text":"UseCaseModuleFactoryProtocol","kind":"identifier"}],"url":"\/documentation\/dicontainer\/usecasemodulefactoryprotocol","identifier":"doc:\/\/DiContainer\/documentation\/DiContainer\/UseCaseModuleFactoryProtocol","role":"symbol","fragments":[{"text":"protocol","kind":"keyword"},{"text":" ","kind":"text"},{"text":"UseCaseModuleFactoryProtocol","kind":"identifier"}],"kind":"symbol","abstract":[{"type":"text","text":"Use Case 계층의 모듈을 "},{"type":"strong","inlineContent":[{"text":"생성","type":"text"}]},{"type":"text","text":"하고 "},{"type":"strong","inlineContent":[{"text":"등록","type":"text"}]},{"type":"text","text":"하기 위한 표준 인터페이스입니다."},{"type":"text","text":" "},{"type":"text","text":"구현 타입은 다음을 제공합니다:"}],"type":"topic","title":"UseCaseModuleFactoryProtocol"},"doc://DiContainer/documentation/DiContainer":{"identifier":"doc:\/\/DiContainer\/documentation\/DiContainer","abstract":[],"type":"topic","kind":"symbol","title":"DiContainer","url":"\/documentation\/dicontainer","role":"collection"},"doc://DiContainer/documentation/DiContainer/RepositoryModuleFactory":{"navigatorTitle":[{"kind":"identifier","text":"RepositoryModuleFactory"}],"kind":"symbol","url":"\/documentation\/dicontainer\/repositorymodulefactory","type":"topic","abstract":[{"type":"codeVoice","code":"RepositoryModuleFactory"},{"type":"text","text":"는 "},{"type":"codeVoice","code":"RepositoryModuleFactoryProtocol"},{"type":"text","text":"을 채택하여"},{"type":"text","text":" "},{"type":"text","text":"Repository 계층의 모듈 생성 및 등록을 담당합니다."}],"fragments":[{"kind":"keyword","text":"struct"},{"kind":"text","text":" "},{"kind":"identifier","text":"RepositoryModuleFactory"}],"title":"RepositoryModuleFactory","identifier":"doc:\/\/DiContainer\/documentation\/DiContainer\/RepositoryModuleFactory","role":"symbol"},"doc://DiContainer/documentation/DiContainer/RepositoryModuleFactoryProtocol/makeAllModules()":{"type":"topic","required":true,"abstract":[{"identifier":"doc:\/\/DiContainer\/documentation\/DiContainer\/RepositoryModuleFactoryProtocol\/repositoryDefinitions","isActive":true,"type":"reference"},{"text":" 배열의 모든 클로저를 실행하여,","type":"text"},{"text":" ","type":"text"},{"text":"생성된 ","type":"text"},{"code":"Module","type":"codeVoice"},{"type":"text","text":" 인스턴스들의 배열을 반환합니다."}],"fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"makeAllModules"},{"kind":"text","text":"() -> ["},{"kind":"typeIdentifier","text":"Module","preciseIdentifier":"s:11DiContainer6ModuleC"},{"kind":"text","text":"]"}],"role":"symbol","defaultImplementations":1,"url":"\/documentation\/dicontainer\/repositorymodulefactoryprotocol\/makeallmodules()","kind":"symbol","identifier":"doc:\/\/DiContainer\/documentation\/DiContainer\/RepositoryModuleFactoryProtocol\/makeAllModules()","title":"makeAllModules()"},"doc://DiContainer/documentation/DiContainer/RepositoryModuleFactoryProtocol/repositoryDefinitions":{"identifier":"doc:\/\/DiContainer\/documentation\/DiContainer\/RepositoryModuleFactoryProtocol\/repositoryDefinitions","type":"topic","fragments":[{"kind":"keyword","text":"var"},{"kind":"text","text":" "},{"kind":"identifier","text":"repositoryDefinitions"},{"kind":"text","text":": [() -> "},{"kind":"typeIdentifier","preciseIdentifier":"s:11DiContainer6ModuleC","text":"Module"},{"kind":"text","text":"]"}],"url":"\/documentation\/dicontainer\/repositorymodulefactoryprotocol\/repositorydefinitions","kind":"symbol","abstract":[{"type":"text","text":"Repository 모듈을 생성하는 "},{"type":"strong","inlineContent":[{"type":"text","text":"클로저"}]},{"type":"text","text":"들의 배열."},{"type":"text","text":" "},{"type":"text","text":"각 클로저는 호출 시 "},{"type":"codeVoice","code":"Module"},{"type":"text","text":" 인스턴스를 반환합니다."}],"title":"repositoryDefinitions","required":true,"role":"symbol"},"doc://DiContainer/documentation/DiContainer/Module":{"url":"\/documentation\/dicontainer\/module","role":"symbol","fragments":[{"text":"actor","kind":"keyword"},{"text":" ","kind":"text"},{"text":"Module","kind":"identifier"}],"type":"topic","kind":"symbol","identifier":"doc:\/\/DiContainer\/documentation\/DiContainer\/Module","navigatorTitle":[{"text":"Module","kind":"identifier"}],"abstract":[{"code":"Module","type":"codeVoice"},{"text":"은 DI(의존성 주입)를 위한 ","type":"text"},{"inlineContent":[{"text":"단일 모듈","type":"text"}],"type":"strong"},{"text":"을 나타내는 구조체입니다.","type":"text"}],"title":"Module"}}}