{"primaryContentSections":[{"declarations":[{"languages":["swift"],"tokens":[{"kind":"keyword","text":"protocol"},{"kind":"text","text":" "},{"kind":"identifier","text":"RepositoryModuleFactoryProtocol"}],"platforms":["macOS"]}],"kind":"declarations"},{"content":[{"text":"Overview","level":2,"anchor":"Overview","type":"heading"},{"inlineContent":[{"text":"구현 타입은 다음을 제공합니다:","type":"text"}],"type":"paragraph"},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"identifier":"doc:\/\/DiContainer\/documentation\/DiContainer\/RepositoryModuleFactoryProtocol\/registerModule","type":"reference","isActive":true},{"text":" — Repository 모듈 생성 시 필요한 의존성 등록 헬퍼(","type":"text"},{"type":"codeVoice","code":"RegisterModule"},{"type":"text","text":")"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"reference","identifier":"doc:\/\/DiContainer\/documentation\/DiContainer\/RepositoryModuleFactoryProtocol\/repositoryDefinitions","isActive":true},{"type":"text","text":" — "},{"code":"Module","type":"codeVoice"},{"type":"text","text":"을 생성하는 "},{"type":"strong","inlineContent":[{"text":"클로저 배열","type":"text"}]}]}]},{"content":[{"inlineContent":[{"isActive":true,"type":"reference","identifier":"doc:\/\/DiContainer\/documentation\/DiContainer\/RepositoryModuleFactoryProtocol\/makeAllModules()"},{"type":"text","text":" — 위 클로저들을 실행해 "},{"type":"strong","inlineContent":[{"code":"Module","type":"codeVoice"},{"text":" 인스턴스 배열","type":"text"}]},{"type":"text","text":"을 반환"}],"type":"paragraph"}]}],"type":"orderedList"},{"text":"역할","anchor":"%EC%97%AD%ED%95%A0","type":"heading","level":3},{"items":[{"content":[{"inlineContent":[{"type":"reference","isActive":true,"identifier":"doc:\/\/DiContainer\/documentation\/DiContainer\/RepositoryModuleFactoryProtocol\/registerModule"},{"type":"text","text":"를 활용해, Repository가 의존하는 다른 구성 요소를 "},{"type":"strong","inlineContent":[{"text":"선언적으로 등록","type":"text"}]},{"type":"text","text":"합니다."}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"reference","identifier":"doc:\/\/DiContainer\/documentation\/DiContainer\/RepositoryModuleFactoryProtocol\/repositoryDefinitions","isActive":true},{"type":"text","text":"에 "},{"type":"codeVoice","code":"Module"},{"type":"text","text":" 생성 클로저를 "},{"type":"strong","inlineContent":[{"text":"나열","type":"text"}]},{"type":"text","text":"하면, 등록 대상이 명확해지고 테스트가 쉬워집니다."}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"identifier":"doc:\/\/DiContainer\/documentation\/DiContainer\/RepositoryModuleFactoryProtocol\/makeAllModules()","isActive":true,"type":"reference"},{"text":"는 정의한 모든 클로저를 실행해 실제 ","type":"text"},{"code":"Module","type":"codeVoice"},{"text":" 인스턴스를 생성합니다.","type":"text"}]}]}],"type":"unorderedList"},{"text":"Usage","anchor":"Usage","type":"heading","level":2},{"text":"1) 프로토콜 및 구현체 정의","anchor":"1-%ED%94%84%EB%A1%9C%ED%86%A0%EC%BD%9C-%EB%B0%8F-%EA%B5%AC%ED%98%84%EC%B2%B4-%EC%A0%95%EC%9D%98","type":"heading","level":3},{"type":"codeListing","syntax":"swift","code":["protocol AuthRepositoryProtocol {","  func login(user: String, password: String) async -> Bool","}","","struct DefaultAuthRepository: AuthRepositoryProtocol {","  func login(user: String, password: String) async -> Bool {","    \/\/ 실제 로그인 로직","    return true","  }","}"]},{"text":"2) 팩토리 구현","anchor":"2-%ED%8C%A9%ED%86%A0%EB%A6%AC-%EA%B5%AC%ED%98%84","type":"heading","level":3},{"inlineContent":[{"type":"codeVoice","code":"makeDependency(_:factory:)"},{"type":"text","text":"로 "},{"type":"codeVoice","code":"AuthRepositoryProtocol"},{"type":"text","text":" → "},{"type":"codeVoice","code":"DefaultAuthRepository"},{"type":"text","text":" 매핑을 선언합니다."}],"type":"paragraph"},{"type":"codeListing","syntax":"swift","code":["struct AuthRepositoryModuleFactory: RepositoryModuleFactoryProtocol {","  let registerModule = RegisterModule() \/\/ 값 복사로 캡처 이슈 방지","","  var repositoryDefinitions: [() -> Module] {","    [","      registerModule.makeDependency(AuthRepositoryProtocol.self) {","        DefaultAuthRepository()","      }","    ]","  }","}"]},{"text":"3) 컨테이너에 일괄 등록","anchor":"3-%EC%BB%A8%ED%85%8C%EC%9D%B4%EB%84%88%EC%97%90-%EC%9D%BC%EA%B4%84-%EB%93%B1%EB%A1%9D","type":"heading","level":3},{"type":"codeListing","syntax":"swift","code":["extension AppDIContainer {","  public func registerAuthRepository() async {","    var factoryCopy = AuthRepositoryModuleFactory() \/\/ 값 복사 권장","    await registerDependencies { container in","      for module in factoryCopy.makeAllModules() {","        await container.register(module)","      }","    }","  }","}"]},{"text":"4) 앱 초기화 (SwiftUI \/ UIKit)","anchor":"4-%EC%95%B1-%EC%B4%88%EA%B8%B0%ED%99%94-SwiftUI--UIKit","type":"heading","level":3},{"type":"codeListing","syntax":"swift","code":["\/\/ SwiftUI","@main","struct MyApp: App {","  @UIApplicationDelegateAdaptor(AppDelegate.self) var appDelegate","","  init() {","    Task { await AppDIContainer.shared.registerAuthRepository() }","  }","","  var body: some Scene { WindowGroup { ContentView() } }","}"]},{"type":"codeListing","syntax":"swift","code":["\/\/ UIKit AppDelegate","@main","class AppDelegate: UIResponder, UIApplicationDelegate {","  func application(_ application: UIApplication,","                  didFinishLaunchingWithOptions launchOptions: [UIApplication.LaunchOptionsKey: Any]?) -> Bool {","    Task { await AppDIContainer.shared.registerAuthRepository() }","    return true","  }","}"]},{"text":"Best Practices","anchor":"Best-Practices","type":"heading","level":2},{"items":[{"content":[{"inlineContent":[{"inlineContent":[{"type":"text","text":"정의\/등록 분리:"}],"type":"strong"},{"text":" 팩토리는 “정의”, 컨테이너는 “등록”에 집중하세요.","type":"text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"strong","inlineContent":[{"text":"캡처 최소화:","type":"text"}]},{"text":" ","type":"text"},{"type":"codeVoice","code":"let helper = registerModule"},{"text":"처럼 값 복사를 활용하면 클로저 캡처 문제를 줄일 수 있습니다.","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"inlineContent":[{"type":"text","text":"병렬 등록 고려:"}],"type":"strong"},{"text":" 컨테이너가 스레드 세이프\/actor라면, 여러 ","type":"text"},{"code":"Module","type":"codeVoice"},{"text":"을 병렬 등록하여 부트 시간 단축.","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"strong","inlineContent":[{"text":"레거시\/테스트:","type":"text"}]},{"type":"text","text":" 동일한 팩토리에서 구현체만 바꿔 Mock\/Live를 손쉽게 스위칭하십시오."}]}]}],"type":"unorderedList"}],"kind":"content"}],"hierarchy":{"paths":[["doc:\/\/DiContainer\/documentation\/DiContainer"]]},"variants":[{"paths":["\/documentation\/dicontainer\/repositorymodulefactoryprotocol"],"traits":[{"interfaceLanguage":"swift"}]}],"topicSections":[{"anchor":"Instance-Properties","title":"Instance Properties","generated":true,"identifiers":["doc:\/\/DiContainer\/documentation\/DiContainer\/RepositoryModuleFactoryProtocol\/registerModule","doc:\/\/DiContainer\/documentation\/DiContainer\/RepositoryModuleFactoryProtocol\/repositoryDefinitions"]},{"anchor":"Instance-Methods","title":"Instance Methods","generated":true,"identifiers":["doc:\/\/DiContainer\/documentation\/DiContainer\/RepositoryModuleFactoryProtocol\/makeAllModules()"]}],"identifier":{"interfaceLanguage":"swift","url":"doc:\/\/DiContainer\/documentation\/DiContainer\/RepositoryModuleFactoryProtocol"},"sections":[],"schemaVersion":{"major":0,"minor":3,"patch":0},"metadata":{"symbolKind":"protocol","title":"RepositoryModuleFactoryProtocol","role":"symbol","modules":[{"name":"DiContainer"}],"roleHeading":"Protocol","navigatorTitle":[{"text":"RepositoryModuleFactoryProtocol","kind":"identifier"}],"externalID":"s:11DiContainer31RepositoryModuleFactoryProtocolP","fragments":[{"text":"protocol","kind":"keyword"},{"text":" ","kind":"text"},{"text":"RepositoryModuleFactoryProtocol","kind":"identifier"}]},"abstract":[{"type":"text","text":"Repository 계층의 모듈(의존성)을 "},{"type":"strong","inlineContent":[{"type":"text","text":"생성"}]},{"type":"text","text":"하고 "},{"type":"strong","inlineContent":[{"type":"text","text":"등록"}]},{"type":"text","text":"하기 위한 표준 인터페이스입니다."}],"relationshipsSections":[{"type":"conformingTypes","title":"Conforming Types","kind":"relationships","identifiers":["doc:\/\/DiContainer\/documentation\/DiContainer\/RepositoryModuleFactory"]}],"seeAlsoSections":[{"anchor":"Related-Documentation","title":"Related Documentation","identifiers":["doc:\/\/DiContainer\/documentation\/DiContainer\/RegisterModule","doc:\/\/DiContainer\/documentation\/DiContainer\/Module","doc:\/\/DiContainer\/documentation\/DiContainer\/UseCaseModuleFactoryProtocol"]}],"kind":"symbol","references":{"doc://DiContainer/documentation/DiContainer/RepositoryModuleFactoryProtocol/registerModule":{"title":"registerModule","abstract":[{"type":"text","text":"Repository 모듈 생성 시 사용하는 의존성 등록 헬퍼("},{"type":"codeVoice","code":"RegisterModule"},{"type":"text","text":")."}],"identifier":"doc:\/\/DiContainer\/documentation\/DiContainer\/RepositoryModuleFactoryProtocol\/registerModule","url":"\/documentation\/dicontainer\/repositorymodulefactoryprotocol\/registermodule","fragments":[{"kind":"keyword","text":"var"},{"kind":"text","text":" "},{"kind":"identifier","text":"registerModule"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"RegisterModule","preciseIdentifier":"s:11DiContainer14RegisterModuleV"}],"role":"symbol","type":"topic","kind":"symbol","required":true},"doc://DiContainer/documentation/DiContainer/RepositoryModuleFactoryProtocol":{"abstract":[{"text":"Repository 계층의 모듈(의존성)을 ","type":"text"},{"inlineContent":[{"text":"생성","type":"text"}],"type":"strong"},{"text":"하고 ","type":"text"},{"inlineContent":[{"type":"text","text":"등록"}],"type":"strong"},{"text":"하기 위한 표준 인터페이스입니다.","type":"text"}],"title":"RepositoryModuleFactoryProtocol","type":"topic","fragments":[{"kind":"keyword","text":"protocol"},{"kind":"text","text":" "},{"kind":"identifier","text":"RepositoryModuleFactoryProtocol"}],"kind":"symbol","url":"\/documentation\/dicontainer\/repositorymodulefactoryprotocol","role":"symbol","navigatorTitle":[{"kind":"identifier","text":"RepositoryModuleFactoryProtocol"}],"identifier":"doc:\/\/DiContainer\/documentation\/DiContainer\/RepositoryModuleFactoryProtocol"},"doc://DiContainer/documentation/DiContainer/RegisterModule":{"role":"symbol","identifier":"doc:\/\/DiContainer\/documentation\/DiContainer\/RegisterModule","kind":"symbol","fragments":[{"kind":"keyword","text":"struct"},{"kind":"text","text":" "},{"kind":"identifier","text":"RegisterModule"}],"title":"RegisterModule","abstract":[{"code":"RegisterModule","type":"codeVoice"},{"text":"은 Repository 및 UseCase 모듈을 생성하고,","type":"text"},{"text":" ","type":"text"},{"text":"의존성을 DI 컨테이너에 등록하는 공통 로직을 제공합니다.","type":"text"}],"type":"topic","url":"\/documentation\/dicontainer\/registermodule","navigatorTitle":[{"kind":"identifier","text":"RegisterModule"}]},"doc://DiContainer/documentation/DiContainer/Module":{"type":"topic","role":"symbol","navigatorTitle":[{"text":"Module","kind":"identifier"}],"identifier":"doc:\/\/DiContainer\/documentation\/DiContainer\/Module","kind":"symbol","abstract":[{"code":"Module","type":"codeVoice"},{"text":"은 DI(의존성 주입)를 위한 ","type":"text"},{"inlineContent":[{"text":"단일 모듈","type":"text"}],"type":"strong"},{"type":"text","text":"을 나타내는 구조체입니다."}],"url":"\/documentation\/dicontainer\/module","title":"Module","fragments":[{"text":"actor","kind":"keyword"},{"text":" ","kind":"text"},{"text":"Module","kind":"identifier"}]},"doc://DiContainer/documentation/DiContainer":{"identifier":"doc:\/\/DiContainer\/documentation\/DiContainer","kind":"symbol","type":"topic","title":"DiContainer","abstract":[],"role":"collection","url":"\/documentation\/dicontainer"},"doc://DiContainer/documentation/DiContainer/RepositoryModuleFactoryProtocol/repositoryDefinitions":{"type":"topic","role":"symbol","fragments":[{"kind":"keyword","text":"var"},{"kind":"text","text":" "},{"kind":"identifier","text":"repositoryDefinitions"},{"kind":"text","text":": [() -> "},{"preciseIdentifier":"s:11DiContainer6ModuleC","kind":"typeIdentifier","text":"Module"},{"kind":"text","text":"]"}],"url":"\/documentation\/dicontainer\/repositorymodulefactoryprotocol\/repositorydefinitions","abstract":[{"text":"Repository 모듈을 생성하는 ","type":"text"},{"inlineContent":[{"type":"text","text":"클로저"}],"type":"strong"},{"text":"들의 배열.","type":"text"},{"text":" ","type":"text"},{"text":"각 클로저는 호출 시 ","type":"text"},{"type":"codeVoice","code":"Module"},{"text":" 인스턴스를 반환합니다.","type":"text"}],"title":"repositoryDefinitions","identifier":"doc:\/\/DiContainer\/documentation\/DiContainer\/RepositoryModuleFactoryProtocol\/repositoryDefinitions","required":true,"kind":"symbol"},"doc://DiContainer/documentation/DiContainer/UseCaseModuleFactoryProtocol":{"abstract":[{"text":"Use Case 계층의 모듈을 ","type":"text"},{"inlineContent":[{"type":"text","text":"생성"}],"type":"strong"},{"text":"하고 ","type":"text"},{"inlineContent":[{"text":"등록","type":"text"}],"type":"strong"},{"text":"하기 위한 표준 인터페이스입니다.","type":"text"},{"text":" ","type":"text"},{"text":"구현 타입은 다음을 제공합니다:","type":"text"}],"identifier":"doc:\/\/DiContainer\/documentation\/DiContainer\/UseCaseModuleFactoryProtocol","kind":"symbol","title":"UseCaseModuleFactoryProtocol","type":"topic","fragments":[{"kind":"keyword","text":"protocol"},{"kind":"text","text":" "},{"kind":"identifier","text":"UseCaseModuleFactoryProtocol"}],"url":"\/documentation\/dicontainer\/usecasemodulefactoryprotocol","navigatorTitle":[{"kind":"identifier","text":"UseCaseModuleFactoryProtocol"}],"role":"symbol"},"doc://DiContainer/documentation/DiContainer/RepositoryModuleFactoryProtocol/makeAllModules()":{"abstract":[{"identifier":"doc:\/\/DiContainer\/documentation\/DiContainer\/RepositoryModuleFactoryProtocol\/repositoryDefinitions","type":"reference","isActive":true},{"type":"text","text":" 배열의 모든 클로저를 실행하여,"},{"type":"text","text":" "},{"type":"text","text":"생성된 "},{"type":"codeVoice","code":"Module"},{"type":"text","text":" 인스턴스들의 배열을 반환합니다."}],"type":"topic","role":"symbol","identifier":"doc:\/\/DiContainer\/documentation\/DiContainer\/RepositoryModuleFactoryProtocol\/makeAllModules()","title":"makeAllModules()","kind":"symbol","fragments":[{"text":"func","kind":"keyword"},{"text":" ","kind":"text"},{"text":"makeAllModules","kind":"identifier"},{"text":"() -> [","kind":"text"},{"text":"Module","preciseIdentifier":"s:11DiContainer6ModuleC","kind":"typeIdentifier"},{"text":"]","kind":"text"}],"defaultImplementations":1,"required":true,"url":"\/documentation\/dicontainer\/repositorymodulefactoryprotocol\/makeallmodules()"},"doc://DiContainer/documentation/DiContainer/RepositoryModuleFactory":{"abstract":[{"type":"codeVoice","code":"RepositoryModuleFactory"},{"type":"text","text":"는 "},{"type":"codeVoice","code":"RepositoryModuleFactoryProtocol"},{"type":"text","text":"을 채택하여"},{"type":"text","text":" "},{"type":"text","text":"Repository 계층의 모듈 생성 및 등록을 담당합니다."}],"type":"topic","identifier":"doc:\/\/DiContainer\/documentation\/DiContainer\/RepositoryModuleFactory","url":"\/documentation\/dicontainer\/repositorymodulefactory","title":"RepositoryModuleFactory","kind":"symbol","role":"symbol","fragments":[{"text":"struct","kind":"keyword"},{"text":" ","kind":"text"},{"text":"RepositoryModuleFactory","kind":"identifier"}],"navigatorTitle":[{"text":"RepositoryModuleFactory","kind":"identifier"}]}}}