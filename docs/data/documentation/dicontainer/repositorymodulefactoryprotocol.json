{"primaryContentSections":[{"kind":"declarations","declarations":[{"languages":["swift"],"tokens":[{"text":"protocol","kind":"keyword"},{"text":" ","kind":"text"},{"text":"RepositoryModuleFactoryProtocol","kind":"identifier"}],"platforms":["macOS"]}]},{"content":[{"anchor":"Overview","level":2,"type":"heading","text":"Overview"},{"inlineContent":[{"type":"text","text":"구현 타입은 다음을 제공합니다:"}],"type":"paragraph"},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"reference","identifier":"doc:\/\/DiContainer\/documentation\/DiContainer\/RepositoryModuleFactoryProtocol\/registerModule","isActive":true},{"text":" — Repository 모듈 생성 시 필요한 의존성 등록 헬퍼(","type":"text"},{"code":"RegisterModule","type":"codeVoice"},{"text":")","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"reference","isActive":true,"identifier":"doc:\/\/DiContainer\/documentation\/DiContainer\/RepositoryModuleFactoryProtocol\/repositoryDefinitions"},{"text":" — ","type":"text"},{"type":"codeVoice","code":"Module"},{"text":"을 생성하는 ","type":"text"},{"type":"strong","inlineContent":[{"type":"text","text":"클로저 배열"}]}]}]},{"content":[{"inlineContent":[{"identifier":"doc:\/\/DiContainer\/documentation\/DiContainer\/RepositoryModuleFactoryProtocol\/makeAllModules()","isActive":true,"type":"reference"},{"text":" — 위 클로저들을 실행해 ","type":"text"},{"inlineContent":[{"type":"codeVoice","code":"Module"},{"type":"text","text":" 인스턴스 배열"}],"type":"strong"},{"text":"을 반환","type":"text"}],"type":"paragraph"}]}],"type":"orderedList"},{"anchor":"%EC%97%AD%ED%95%A0","level":3,"type":"heading","text":"역할"},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"isActive":true,"type":"reference","identifier":"doc:\/\/DiContainer\/documentation\/DiContainer\/RepositoryModuleFactoryProtocol\/registerModule"},{"text":"를 활용해, Repository가 의존하는 다른 구성 요소를 ","type":"text"},{"inlineContent":[{"type":"text","text":"선언적으로 등록"}],"type":"strong"},{"text":"합니다.","type":"text"}]}]},{"content":[{"inlineContent":[{"type":"reference","identifier":"doc:\/\/DiContainer\/documentation\/DiContainer\/RepositoryModuleFactoryProtocol\/repositoryDefinitions","isActive":true},{"type":"text","text":"에 "},{"type":"codeVoice","code":"Module"},{"type":"text","text":" 생성 클로저를 "},{"inlineContent":[{"type":"text","text":"나열"}],"type":"strong"},{"type":"text","text":"하면, 등록 대상이 명확해지고 테스트가 쉬워집니다."}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"identifier":"doc:\/\/DiContainer\/documentation\/DiContainer\/RepositoryModuleFactoryProtocol\/makeAllModules()","type":"reference","isActive":true},{"text":"는 정의한 모든 클로저를 실행해 실제 ","type":"text"},{"code":"Module","type":"codeVoice"},{"text":" 인스턴스를 생성합니다.","type":"text"}]}]}],"type":"unorderedList"},{"anchor":"Usage","level":2,"type":"heading","text":"Usage"},{"anchor":"1-%ED%94%84%EB%A1%9C%ED%86%A0%EC%BD%9C-%EB%B0%8F-%EA%B5%AC%ED%98%84%EC%B2%B4-%EC%A0%95%EC%9D%98","level":3,"type":"heading","text":"1) 프로토콜 및 구현체 정의"},{"syntax":"swift","code":["protocol AuthRepositoryProtocol {","  func login(user: String, password: String) async -> Bool","}","","struct DefaultAuthRepository: AuthRepositoryProtocol {","  func login(user: String, password: String) async -> Bool {","    \/\/ 실제 로그인 로직","    return true","  }","}"],"type":"codeListing"},{"anchor":"2-%ED%8C%A9%ED%86%A0%EB%A6%AC-%EA%B5%AC%ED%98%84","level":3,"type":"heading","text":"2) 팩토리 구현"},{"inlineContent":[{"code":"makeDependency(_:factory:)","type":"codeVoice"},{"text":"로 ","type":"text"},{"code":"AuthRepositoryProtocol","type":"codeVoice"},{"text":" → ","type":"text"},{"code":"DefaultAuthRepository","type":"codeVoice"},{"text":" 매핑을 선언합니다.","type":"text"}],"type":"paragraph"},{"syntax":"swift","code":["struct AuthRepositoryModuleFactory: RepositoryModuleFactoryProtocol {","  let registerModule = RegisterModule() \/\/ 값 복사로 캡처 이슈 방지","","  var repositoryDefinitions: [() -> Module] {","    [","      registerModule.makeDependency(AuthRepositoryProtocol.self) {","        DefaultAuthRepository()","      }","    ]","  }","}"],"type":"codeListing"},{"anchor":"3-%EC%BB%A8%ED%85%8C%EC%9D%B4%EB%84%88%EC%97%90-%EC%9D%BC%EA%B4%84-%EB%93%B1%EB%A1%9D","level":3,"type":"heading","text":"3) 컨테이너에 일괄 등록"},{"syntax":"swift","code":["extension AppDIContainer {","  public func registerAuthRepository() async {","    var factoryCopy = AuthRepositoryModuleFactory() \/\/ 값 복사 권장","    await registerDependencies { container in","      for module in factoryCopy.makeAllModules() {","        await container.register(module)","      }","    }","  }","}"],"type":"codeListing"},{"anchor":"4-%EC%95%B1-%EC%B4%88%EA%B8%B0%ED%99%94-SwiftUI--UIKit","level":3,"type":"heading","text":"4) 앱 초기화 (SwiftUI \/ UIKit)"},{"syntax":"swift","code":["\/\/ SwiftUI","@main","struct MyApp: App {","  @UIApplicationDelegateAdaptor(AppDelegate.self) var appDelegate","","  init() {","    Task { await AppDIContainer.shared.registerAuthRepository() }","  }","","  var body: some Scene { WindowGroup { ContentView() } }","}"],"type":"codeListing"},{"syntax":"swift","code":["\/\/ UIKit AppDelegate","@main","class AppDelegate: UIResponder, UIApplicationDelegate {","  func application(_ application: UIApplication,","                  didFinishLaunchingWithOptions launchOptions: [UIApplication.LaunchOptionsKey: Any]?) -> Bool {","    Task { await AppDIContainer.shared.registerAuthRepository() }","    return true","  }","}"],"type":"codeListing"},{"anchor":"Best-Practices","level":2,"type":"heading","text":"Best Practices"},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"inlineContent":[{"text":"정의\/등록 분리:","type":"text"}],"type":"strong"},{"text":" 팩토리는 “정의”, 컨테이너는 “등록”에 집중하세요.","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"inlineContent":[{"type":"text","text":"캡처 최소화:"}],"type":"strong"},{"text":" ","type":"text"},{"code":"let helper = registerModule","type":"codeVoice"},{"text":"처럼 값 복사를 활용하면 클로저 캡처 문제를 줄일 수 있습니다.","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"inlineContent":[{"type":"text","text":"병렬 등록 고려:"}],"type":"strong"},{"type":"text","text":" 컨테이너가 스레드 세이프\/actor라면, 여러 "},{"code":"Module","type":"codeVoice"},{"type":"text","text":"을 병렬 등록하여 부트 시간 단축."}]}]},{"content":[{"inlineContent":[{"inlineContent":[{"text":"레거시\/테스트:","type":"text"}],"type":"strong"},{"type":"text","text":" 동일한 팩토리에서 구현체만 바꿔 Mock\/Live를 손쉽게 스위칭하십시오."}],"type":"paragraph"}]}],"type":"unorderedList"}],"kind":"content"}],"variants":[{"paths":["\/documentation\/dicontainer\/repositorymodulefactoryprotocol"],"traits":[{"interfaceLanguage":"swift"}]}],"seeAlsoSections":[{"anchor":"Related-Documentation","identifiers":["doc:\/\/DiContainer\/documentation\/DiContainer\/RegisterModule","doc:\/\/DiContainer\/documentation\/DiContainer\/Module","doc:\/\/DiContainer\/documentation\/DiContainer\/UseCaseModuleFactoryProtocol"],"title":"Related Documentation"}],"metadata":{"externalID":"s:11DiContainer31RepositoryModuleFactoryProtocolP","roleHeading":"Protocol","modules":[{"name":"DiContainer"}],"navigatorTitle":[{"kind":"identifier","text":"RepositoryModuleFactoryProtocol"}],"fragments":[{"kind":"keyword","text":"protocol"},{"kind":"text","text":" "},{"kind":"identifier","text":"RepositoryModuleFactoryProtocol"}],"symbolKind":"protocol","title":"RepositoryModuleFactoryProtocol","role":"symbol"},"topicSections":[{"anchor":"Instance-Properties","identifiers":["doc:\/\/DiContainer\/documentation\/DiContainer\/RepositoryModuleFactoryProtocol\/registerModule","doc:\/\/DiContainer\/documentation\/DiContainer\/RepositoryModuleFactoryProtocol\/repositoryDefinitions"],"generated":true,"title":"Instance Properties"},{"anchor":"Instance-Methods","identifiers":["doc:\/\/DiContainer\/documentation\/DiContainer\/RepositoryModuleFactoryProtocol\/makeAllModules()"],"generated":true,"title":"Instance Methods"}],"kind":"symbol","abstract":[{"type":"text","text":"Repository 계층의 모듈(의존성)을 "},{"type":"strong","inlineContent":[{"type":"text","text":"생성"}]},{"type":"text","text":"하고 "},{"type":"strong","inlineContent":[{"text":"등록","type":"text"}]},{"type":"text","text":"하기 위한 표준 인터페이스입니다."}],"sections":[],"hierarchy":{"paths":[["doc:\/\/DiContainer\/documentation\/DiContainer"]]},"relationshipsSections":[{"type":"conformingTypes","identifiers":["doc:\/\/DiContainer\/documentation\/DiContainer\/RepositoryModuleFactory"],"kind":"relationships","title":"Conforming Types"}],"identifier":{"interfaceLanguage":"swift","url":"doc:\/\/DiContainer\/documentation\/DiContainer\/RepositoryModuleFactoryProtocol"},"schemaVersion":{"patch":0,"major":0,"minor":3},"references":{"doc://DiContainer/documentation/DiContainer/RepositoryModuleFactoryProtocol":{"abstract":[{"text":"Repository 계층의 모듈(의존성)을 ","type":"text"},{"inlineContent":[{"type":"text","text":"생성"}],"type":"strong"},{"text":"하고 ","type":"text"},{"inlineContent":[{"type":"text","text":"등록"}],"type":"strong"},{"text":"하기 위한 표준 인터페이스입니다.","type":"text"}],"identifier":"doc:\/\/DiContainer\/documentation\/DiContainer\/RepositoryModuleFactoryProtocol","kind":"symbol","title":"RepositoryModuleFactoryProtocol","url":"\/documentation\/dicontainer\/repositorymodulefactoryprotocol","type":"topic","role":"symbol","fragments":[{"kind":"keyword","text":"protocol"},{"kind":"text","text":" "},{"kind":"identifier","text":"RepositoryModuleFactoryProtocol"}],"navigatorTitle":[{"kind":"identifier","text":"RepositoryModuleFactoryProtocol"}]},"doc://DiContainer/documentation/DiContainer/UseCaseModuleFactoryProtocol":{"fragments":[{"text":"protocol","kind":"keyword"},{"text":" ","kind":"text"},{"text":"UseCaseModuleFactoryProtocol","kind":"identifier"}],"identifier":"doc:\/\/DiContainer\/documentation\/DiContainer\/UseCaseModuleFactoryProtocol","abstract":[{"type":"text","text":"Use Case 계층의 모듈을 "},{"type":"strong","inlineContent":[{"type":"text","text":"생성"}]},{"type":"text","text":"하고 "},{"type":"strong","inlineContent":[{"type":"text","text":"등록"}]},{"type":"text","text":"하기 위한 표준 인터페이스입니다."},{"type":"text","text":" "},{"type":"text","text":"구현 타입은 다음을 제공합니다:"}],"kind":"symbol","url":"\/documentation\/dicontainer\/usecasemodulefactoryprotocol","type":"topic","title":"UseCaseModuleFactoryProtocol","navigatorTitle":[{"text":"UseCaseModuleFactoryProtocol","kind":"identifier"}],"role":"symbol"},"doc://DiContainer/documentation/DiContainer":{"title":"DiContainer","type":"topic","abstract":[],"role":"collection","identifier":"doc:\/\/DiContainer\/documentation\/DiContainer","url":"\/documentation\/dicontainer","kind":"symbol"},"doc://DiContainer/documentation/DiContainer/RegisterModule":{"title":"RegisterModule","kind":"symbol","type":"topic","fragments":[{"text":"struct","kind":"keyword"},{"text":" ","kind":"text"},{"text":"RegisterModule","kind":"identifier"}],"identifier":"doc:\/\/DiContainer\/documentation\/DiContainer\/RegisterModule","url":"\/documentation\/dicontainer\/registermodule","navigatorTitle":[{"kind":"identifier","text":"RegisterModule"}],"abstract":[{"code":"RegisterModule","type":"codeVoice"},{"type":"text","text":"은 Repository 및 UseCase 모듈을 생성하고,"},{"type":"text","text":" "},{"type":"text","text":"의존성을 DI 컨테이너에 등록하는 공통 로직을 제공합니다."}],"role":"symbol"},"doc://DiContainer/documentation/DiContainer/Module":{"identifier":"doc:\/\/DiContainer\/documentation\/DiContainer\/Module","type":"topic","url":"\/documentation\/dicontainer\/module","kind":"symbol","title":"Module","role":"symbol","abstract":[{"code":"Module","type":"codeVoice"},{"text":"은 DI(의존성 주입)를 위한 ","type":"text"},{"type":"strong","inlineContent":[{"type":"text","text":"단일 모듈"}]},{"text":"을 나타내는 구조체입니다.","type":"text"}],"fragments":[{"text":"actor","kind":"keyword"},{"text":" ","kind":"text"},{"text":"Module","kind":"identifier"}],"navigatorTitle":[{"text":"Module","kind":"identifier"}]},"doc://DiContainer/documentation/DiContainer/RepositoryModuleFactoryProtocol/makeAllModules()":{"url":"\/documentation\/dicontainer\/repositorymodulefactoryprotocol\/makeallmodules()","defaultImplementations":1,"role":"symbol","title":"makeAllModules()","kind":"symbol","type":"topic","fragments":[{"text":"func","kind":"keyword"},{"text":" ","kind":"text"},{"text":"makeAllModules","kind":"identifier"},{"text":"() -> [","kind":"text"},{"text":"Module","preciseIdentifier":"s:11DiContainer6ModuleC","kind":"typeIdentifier"},{"text":"]","kind":"text"}],"abstract":[{"type":"reference","identifier":"doc:\/\/DiContainer\/documentation\/DiContainer\/RepositoryModuleFactoryProtocol\/repositoryDefinitions","isActive":true},{"type":"text","text":" 배열의 모든 클로저를 실행하여,"},{"type":"text","text":" "},{"type":"text","text":"생성된 "},{"type":"codeVoice","code":"Module"},{"type":"text","text":" 인스턴스들의 배열을 반환합니다."}],"required":true,"identifier":"doc:\/\/DiContainer\/documentation\/DiContainer\/RepositoryModuleFactoryProtocol\/makeAllModules()"},"doc://DiContainer/documentation/DiContainer/RepositoryModuleFactory":{"identifier":"doc:\/\/DiContainer\/documentation\/DiContainer\/RepositoryModuleFactory","title":"RepositoryModuleFactory","role":"symbol","kind":"symbol","url":"\/documentation\/dicontainer\/repositorymodulefactory","navigatorTitle":[{"text":"RepositoryModuleFactory","kind":"identifier"}],"fragments":[{"text":"struct","kind":"keyword"},{"text":" ","kind":"text"},{"text":"RepositoryModuleFactory","kind":"identifier"}],"type":"topic","abstract":[{"type":"codeVoice","code":"RepositoryModuleFactory"},{"type":"text","text":"는 "},{"type":"codeVoice","code":"RepositoryModuleFactoryProtocol"},{"type":"text","text":"을 채택하여"},{"type":"text","text":" "},{"type":"text","text":"Repository 계층의 모듈 생성 및 등록을 담당합니다."}]},"doc://DiContainer/documentation/DiContainer/RepositoryModuleFactoryProtocol/registerModule":{"identifier":"doc:\/\/DiContainer\/documentation\/DiContainer\/RepositoryModuleFactoryProtocol\/registerModule","title":"registerModule","role":"symbol","kind":"symbol","abstract":[{"type":"text","text":"Repository 모듈 생성 시 사용하는 의존성 등록 헬퍼("},{"type":"codeVoice","code":"RegisterModule"},{"type":"text","text":")."}],"fragments":[{"kind":"keyword","text":"var"},{"kind":"text","text":" "},{"kind":"identifier","text":"registerModule"},{"kind":"text","text":": "},{"kind":"typeIdentifier","preciseIdentifier":"s:11DiContainer14RegisterModuleV","text":"RegisterModule"}],"url":"\/documentation\/dicontainer\/repositorymodulefactoryprotocol\/registermodule","type":"topic","required":true},"doc://DiContainer/documentation/DiContainer/RepositoryModuleFactoryProtocol/repositoryDefinitions":{"url":"\/documentation\/dicontainer\/repositorymodulefactoryprotocol\/repositorydefinitions","type":"topic","required":true,"title":"repositoryDefinitions","role":"symbol","kind":"symbol","identifier":"doc:\/\/DiContainer\/documentation\/DiContainer\/RepositoryModuleFactoryProtocol\/repositoryDefinitions","fragments":[{"text":"var","kind":"keyword"},{"text":" ","kind":"text"},{"text":"repositoryDefinitions","kind":"identifier"},{"text":": [() -> ","kind":"text"},{"text":"Module","preciseIdentifier":"s:11DiContainer6ModuleC","kind":"typeIdentifier"},{"text":"]","kind":"text"}],"abstract":[{"text":"Repository 모듈을 생성하는 ","type":"text"},{"inlineContent":[{"type":"text","text":"클로저"}],"type":"strong"},{"text":"들의 배열.","type":"text"},{"text":" ","type":"text"},{"text":"각 클로저는 호출 시 ","type":"text"},{"code":"Module","type":"codeVoice"},{"text":" 인스턴스를 반환합니다.","type":"text"}]}}}