{"abstract":[{"type":"text","text":"Repository 계층의 모듈(의존성)을 "},{"type":"strong","inlineContent":[{"type":"text","text":"생성"}]},{"type":"text","text":"하고 "},{"type":"strong","inlineContent":[{"type":"text","text":"등록"}]},{"type":"text","text":"하기 위한 표준 인터페이스입니다."}],"variants":[{"traits":[{"interfaceLanguage":"swift"}],"paths":["\/documentation\/dicontainer\/repositorymodulefactoryprotocol"]}],"sections":[],"seeAlsoSections":[{"anchor":"Related-Documentation","title":"Related Documentation","identifiers":["doc:\/\/DiContainer\/documentation\/DiContainer\/RegisterModule","doc:\/\/DiContainer\/documentation\/DiContainer\/Module","doc:\/\/DiContainer\/documentation\/DiContainer\/UseCaseModuleFactoryProtocol"]}],"topicSections":[{"generated":true,"anchor":"Instance-Properties","title":"Instance Properties","identifiers":["doc:\/\/DiContainer\/documentation\/DiContainer\/RepositoryModuleFactoryProtocol\/registerModule","doc:\/\/DiContainer\/documentation\/DiContainer\/RepositoryModuleFactoryProtocol\/repositoryDefinitions"]},{"generated":true,"anchor":"Instance-Methods","title":"Instance Methods","identifiers":["doc:\/\/DiContainer\/documentation\/DiContainer\/RepositoryModuleFactoryProtocol\/makeAllModules()"]}],"hierarchy":{"paths":[["doc:\/\/DiContainer\/documentation\/DiContainer"]]},"primaryContentSections":[{"kind":"declarations","declarations":[{"languages":["swift"],"tokens":[{"text":"protocol","kind":"keyword"},{"text":" ","kind":"text"},{"text":"RepositoryModuleFactoryProtocol","kind":"identifier"}],"platforms":["macOS"]}]},{"kind":"content","content":[{"text":"Overview","level":2,"anchor":"Overview","type":"heading"},{"inlineContent":[{"type":"text","text":"구현 타입은 다음을 제공합니다:"}],"type":"paragraph"},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"identifier":"doc:\/\/DiContainer\/documentation\/DiContainer\/RepositoryModuleFactoryProtocol\/registerModule","type":"reference","isActive":true},{"text":" — Repository 모듈 생성 시 필요한 의존성 등록 헬퍼(","type":"text"},{"code":"RegisterModule","type":"codeVoice"},{"text":")","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"reference","identifier":"doc:\/\/DiContainer\/documentation\/DiContainer\/RepositoryModuleFactoryProtocol\/repositoryDefinitions","isActive":true},{"type":"text","text":" — "},{"type":"codeVoice","code":"Module"},{"type":"text","text":"을 생성하는 "},{"inlineContent":[{"text":"클로저 배열","type":"text"}],"type":"strong"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"reference","identifier":"doc:\/\/DiContainer\/documentation\/DiContainer\/RepositoryModuleFactoryProtocol\/makeAllModules()","isActive":true},{"type":"text","text":" — 위 클로저들을 실행해 "},{"type":"strong","inlineContent":[{"code":"Module","type":"codeVoice"},{"text":" 인스턴스 배열","type":"text"}]},{"type":"text","text":"을 반환"}]}]}],"type":"orderedList"},{"type":"heading","level":3,"text":"역할","anchor":"%EC%97%AD%ED%95%A0"},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"reference","identifier":"doc:\/\/DiContainer\/documentation\/DiContainer\/RepositoryModuleFactoryProtocol\/registerModule","isActive":true},{"type":"text","text":"를 활용해, Repository가 의존하는 다른 구성 요소를 "},{"type":"strong","inlineContent":[{"type":"text","text":"선언적으로 등록"}]},{"type":"text","text":"합니다."}]}]},{"content":[{"type":"paragraph","inlineContent":[{"identifier":"doc:\/\/DiContainer\/documentation\/DiContainer\/RepositoryModuleFactoryProtocol\/repositoryDefinitions","isActive":true,"type":"reference"},{"text":"에 ","type":"text"},{"type":"codeVoice","code":"Module"},{"text":" 생성 클로저를 ","type":"text"},{"type":"strong","inlineContent":[{"type":"text","text":"나열"}]},{"text":"하면, 등록 대상이 명확해지고 테스트가 쉬워집니다.","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"isActive":true,"identifier":"doc:\/\/DiContainer\/documentation\/DiContainer\/RepositoryModuleFactoryProtocol\/makeAllModules()","type":"reference"},{"text":"는 정의한 모든 클로저를 실행해 실제 ","type":"text"},{"type":"codeVoice","code":"Module"},{"type":"text","text":" 인스턴스를 생성합니다."}]}]}],"type":"unorderedList"},{"text":"Usage","type":"heading","level":2,"anchor":"Usage"},{"text":"1) 프로토콜 및 구현체 정의","type":"heading","level":3,"anchor":"1-%ED%94%84%EB%A1%9C%ED%86%A0%EC%BD%9C-%EB%B0%8F-%EA%B5%AC%ED%98%84%EC%B2%B4-%EC%A0%95%EC%9D%98"},{"type":"codeListing","code":["protocol AuthRepositoryProtocol {","  func login(user: String, password: String) async -> Bool","}","","struct DefaultAuthRepository: AuthRepositoryProtocol {","  func login(user: String, password: String) async -> Bool {","    \/\/ 실제 로그인 로직","    return true","  }","}"],"syntax":"swift"},{"text":"2) 팩토리 구현","type":"heading","level":3,"anchor":"2-%ED%8C%A9%ED%86%A0%EB%A6%AC-%EA%B5%AC%ED%98%84"},{"inlineContent":[{"type":"codeVoice","code":"makeDependency(_:factory:)"},{"type":"text","text":"로 "},{"type":"codeVoice","code":"AuthRepositoryProtocol"},{"type":"text","text":" → "},{"type":"codeVoice","code":"DefaultAuthRepository"},{"type":"text","text":" 매핑을 선언합니다."}],"type":"paragraph"},{"type":"codeListing","code":["struct AuthRepositoryModuleFactory: RepositoryModuleFactoryProtocol {","  let registerModule = RegisterModule() \/\/ 값 복사로 캡처 이슈 방지","","  var repositoryDefinitions: [() -> Module] {","    [","      registerModule.makeDependency(AuthRepositoryProtocol.self) {","        DefaultAuthRepository()","      }","    ]","  }","}"],"syntax":"swift"},{"text":"3) 컨테이너에 일괄 등록","type":"heading","level":3,"anchor":"3-%EC%BB%A8%ED%85%8C%EC%9D%B4%EB%84%88%EC%97%90-%EC%9D%BC%EA%B4%84-%EB%93%B1%EB%A1%9D"},{"type":"codeListing","code":["extension AppDIContainer {","  public func registerAuthRepository() async {","    var factoryCopy = AuthRepositoryModuleFactory() \/\/ 값 복사 권장","    await registerDependencies { container in","      for module in factoryCopy.makeAllModules() {","        await container.register(module)","      }","    }","  }","}"],"syntax":"swift"},{"text":"4) 앱 초기화 (SwiftUI \/ UIKit)","type":"heading","level":3,"anchor":"4-%EC%95%B1-%EC%B4%88%EA%B8%B0%ED%99%94-SwiftUI--UIKit"},{"type":"codeListing","code":["\/\/ SwiftUI","@main","struct MyApp: App {","  @UIApplicationDelegateAdaptor(AppDelegate.self) var appDelegate","","  init() {","    Task { await AppDIContainer.shared.registerAuthRepository() }","  }","","  var body: some Scene { WindowGroup { ContentView() } }","}"],"syntax":"swift"},{"type":"codeListing","code":["\/\/ UIKit AppDelegate","@main","class AppDelegate: UIResponder, UIApplicationDelegate {","  func application(_ application: UIApplication,","                  didFinishLaunchingWithOptions launchOptions: [UIApplication.LaunchOptionsKey: Any]?) -> Bool {","    Task { await AppDIContainer.shared.registerAuthRepository() }","    return true","  }","}"],"syntax":"swift"},{"text":"Best Practices","type":"heading","level":2,"anchor":"Best-Practices"},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"inlineContent":[{"type":"text","text":"정의\/등록 분리:"}],"type":"strong"},{"text":" 팩토리는 “정의”, 컨테이너는 “등록”에 집중하세요.","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"inlineContent":[{"type":"text","text":"캡처 최소화:"}],"type":"strong"},{"text":" ","type":"text"},{"code":"let helper = registerModule","type":"codeVoice"},{"text":"처럼 값 복사를 활용하면 클로저 캡처 문제를 줄일 수 있습니다.","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"strong","inlineContent":[{"type":"text","text":"병렬 등록 고려:"}]},{"type":"text","text":" 컨테이너가 스레드 세이프\/actor라면, 여러 "},{"type":"codeVoice","code":"Module"},{"type":"text","text":"을 병렬 등록하여 부트 시간 단축."}]}]},{"content":[{"inlineContent":[{"type":"strong","inlineContent":[{"text":"레거시\/테스트:","type":"text"}]},{"type":"text","text":" 동일한 팩토리에서 구현체만 바꿔 Mock\/Live를 손쉽게 스위칭하십시오."}],"type":"paragraph"}]}]}]}],"relationshipsSections":[{"kind":"relationships","type":"conformingTypes","title":"Conforming Types","identifiers":["doc:\/\/DiContainer\/documentation\/DiContainer\/RepositoryModuleFactory"]}],"kind":"symbol","identifier":{"interfaceLanguage":"swift","url":"doc:\/\/DiContainer\/documentation\/DiContainer\/RepositoryModuleFactoryProtocol"},"schemaVersion":{"major":0,"minor":3,"patch":0},"metadata":{"symbolKind":"protocol","role":"symbol","fragments":[{"kind":"keyword","text":"protocol"},{"kind":"text","text":" "},{"kind":"identifier","text":"RepositoryModuleFactoryProtocol"}],"navigatorTitle":[{"kind":"identifier","text":"RepositoryModuleFactoryProtocol"}],"externalID":"s:11DiContainer31RepositoryModuleFactoryProtocolP","title":"RepositoryModuleFactoryProtocol","roleHeading":"Protocol","modules":[{"name":"DiContainer"}]},"references":{"doc://DiContainer/documentation/DiContainer/RepositoryModuleFactoryProtocol/registerModule":{"role":"symbol","fragments":[{"text":"var","kind":"keyword"},{"text":" ","kind":"text"},{"text":"registerModule","kind":"identifier"},{"text":": ","kind":"text"},{"text":"RegisterModule","preciseIdentifier":"s:11DiContainer14RegisterModuleV","kind":"typeIdentifier"}],"required":true,"identifier":"doc:\/\/DiContainer\/documentation\/DiContainer\/RepositoryModuleFactoryProtocol\/registerModule","type":"topic","url":"\/documentation\/dicontainer\/repositorymodulefactoryprotocol\/registermodule","abstract":[{"text":"Repository 모듈 생성 시 사용하는 의존성 등록 헬퍼(","type":"text"},{"code":"RegisterModule","type":"codeVoice"},{"text":").","type":"text"}],"kind":"symbol","title":"registerModule"},"doc://DiContainer/documentation/DiContainer":{"abstract":[],"url":"\/documentation\/dicontainer","kind":"symbol","type":"topic","title":"DiContainer","identifier":"doc:\/\/DiContainer\/documentation\/DiContainer","role":"collection"},"doc://DiContainer/documentation/DiContainer/RepositoryModuleFactoryProtocol/makeAllModules()":{"type":"topic","title":"makeAllModules()","role":"symbol","identifier":"doc:\/\/DiContainer\/documentation\/DiContainer\/RepositoryModuleFactoryProtocol\/makeAllModules()","kind":"symbol","url":"\/documentation\/dicontainer\/repositorymodulefactoryprotocol\/makeallmodules()","required":true,"fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"makeAllModules"},{"kind":"text","text":"() -> ["},{"kind":"typeIdentifier","text":"Module","preciseIdentifier":"s:11DiContainer6ModuleC"},{"kind":"text","text":"]"}],"defaultImplementations":1,"abstract":[{"type":"reference","identifier":"doc:\/\/DiContainer\/documentation\/DiContainer\/RepositoryModuleFactoryProtocol\/repositoryDefinitions","isActive":true},{"type":"text","text":" 배열의 모든 클로저를 실행하여,"},{"type":"text","text":" "},{"type":"text","text":"생성된 "},{"type":"codeVoice","code":"Module"},{"type":"text","text":" 인스턴스들의 배열을 반환합니다."}]},"doc://DiContainer/documentation/DiContainer/RepositoryModuleFactoryProtocol/repositoryDefinitions":{"fragments":[{"text":"var","kind":"keyword"},{"text":" ","kind":"text"},{"text":"repositoryDefinitions","kind":"identifier"},{"text":": [() -> ","kind":"text"},{"text":"Module","kind":"typeIdentifier","preciseIdentifier":"s:11DiContainer6ModuleC"},{"text":"]","kind":"text"}],"abstract":[{"type":"text","text":"Repository 모듈을 생성하는 "},{"type":"strong","inlineContent":[{"type":"text","text":"클로저"}]},{"type":"text","text":"들의 배열."},{"type":"text","text":" "},{"type":"text","text":"각 클로저는 호출 시 "},{"type":"codeVoice","code":"Module"},{"type":"text","text":" 인스턴스를 반환합니다."}],"required":true,"role":"symbol","type":"topic","title":"repositoryDefinitions","url":"\/documentation\/dicontainer\/repositorymodulefactoryprotocol\/repositorydefinitions","identifier":"doc:\/\/DiContainer\/documentation\/DiContainer\/RepositoryModuleFactoryProtocol\/repositoryDefinitions","kind":"symbol"},"doc://DiContainer/documentation/DiContainer/Module":{"navigatorTitle":[{"text":"Module","kind":"identifier"}],"url":"\/documentation\/dicontainer\/module","identifier":"doc:\/\/DiContainer\/documentation\/DiContainer\/Module","fragments":[{"text":"actor","kind":"keyword"},{"text":" ","kind":"text"},{"text":"Module","kind":"identifier"}],"type":"topic","role":"symbol","kind":"symbol","title":"Module","abstract":[{"type":"codeVoice","code":"Module"},{"type":"text","text":"은 DI(의존성 주입)를 위한 "},{"type":"strong","inlineContent":[{"type":"text","text":"단일 모듈"}]},{"type":"text","text":"을 나타내는 구조체입니다."}]},"doc://DiContainer/documentation/DiContainer/RepositoryModuleFactoryProtocol":{"kind":"symbol","fragments":[{"text":"protocol","kind":"keyword"},{"text":" ","kind":"text"},{"text":"RepositoryModuleFactoryProtocol","kind":"identifier"}],"abstract":[{"text":"Repository 계층의 모듈(의존성)을 ","type":"text"},{"inlineContent":[{"type":"text","text":"생성"}],"type":"strong"},{"text":"하고 ","type":"text"},{"inlineContent":[{"text":"등록","type":"text"}],"type":"strong"},{"text":"하기 위한 표준 인터페이스입니다.","type":"text"}],"type":"topic","identifier":"doc:\/\/DiContainer\/documentation\/DiContainer\/RepositoryModuleFactoryProtocol","url":"\/documentation\/dicontainer\/repositorymodulefactoryprotocol","role":"symbol","title":"RepositoryModuleFactoryProtocol","navigatorTitle":[{"text":"RepositoryModuleFactoryProtocol","kind":"identifier"}]},"doc://DiContainer/documentation/DiContainer/RegisterModule":{"kind":"symbol","identifier":"doc:\/\/DiContainer\/documentation\/DiContainer\/RegisterModule","abstract":[],"role":"symbol","type":"topic","fragments":[{"kind":"keyword","text":"struct"},{"kind":"text","text":" "},{"kind":"identifier","text":"RegisterModule"}],"navigatorTitle":[{"kind":"identifier","text":"RegisterModule"}],"url":"\/documentation\/dicontainer\/registermodule","title":"RegisterModule"},"doc://DiContainer/documentation/DiContainer/RepositoryModuleFactory":{"identifier":"doc:\/\/DiContainer\/documentation\/DiContainer\/RepositoryModuleFactory","url":"\/documentation\/dicontainer\/repositorymodulefactory","navigatorTitle":[{"kind":"identifier","text":"RepositoryModuleFactory"}],"type":"topic","fragments":[{"kind":"keyword","text":"struct"},{"kind":"text","text":" "},{"kind":"identifier","text":"RepositoryModuleFactory"}],"kind":"symbol","role":"symbol","title":"RepositoryModuleFactory","abstract":[{"type":"codeVoice","code":"RepositoryModuleFactory"},{"type":"text","text":"는 "},{"type":"codeVoice","code":"RepositoryModuleFactoryProtocol"},{"type":"text","text":"을 채택하여"},{"type":"text","text":" "},{"type":"text","text":"Repository 계층의 모듈 생성 및 등록을 담당합니다."}]},"doc://DiContainer/documentation/DiContainer/UseCaseModuleFactoryProtocol":{"url":"\/documentation\/dicontainer\/usecasemodulefactoryprotocol","fragments":[{"text":"protocol","kind":"keyword"},{"text":" ","kind":"text"},{"text":"UseCaseModuleFactoryProtocol","kind":"identifier"}],"role":"symbol","type":"topic","abstract":[{"type":"text","text":"Use Case 계층의 모듈을 "},{"type":"strong","inlineContent":[{"text":"생성","type":"text"}]},{"type":"text","text":"하고 "},{"type":"strong","inlineContent":[{"text":"등록","type":"text"}]},{"type":"text","text":"하기 위한 표준 인터페이스입니다."},{"type":"text","text":" "},{"type":"text","text":"구현 타입은 다음을 제공합니다:"}],"navigatorTitle":[{"text":"UseCaseModuleFactoryProtocol","kind":"identifier"}],"title":"UseCaseModuleFactoryProtocol","identifier":"doc:\/\/DiContainer\/documentation\/DiContainer\/UseCaseModuleFactoryProtocol","kind":"symbol"}}}