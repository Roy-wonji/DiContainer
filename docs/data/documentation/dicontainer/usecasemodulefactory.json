{"hierarchy":{"paths":[["doc:\/\/DiContainer\/documentation\/DiContainer"]]},"identifier":{"url":"doc:\/\/DiContainer\/documentation\/DiContainer\/UseCaseModuleFactory","interfaceLanguage":"swift"},"relationshipsSections":[{"type":"conformsTo","identifiers":["doc:\/\/DiContainer\/documentation\/DiContainer\/UseCaseModuleFactoryProtocol"],"kind":"relationships","title":"Conforms To"}],"schemaVersion":{"minor":3,"patch":0,"major":0},"abstract":[{"code":"UseCaseModuleFactory","type":"codeVoice"},{"text":"는 ","type":"text"},{"identifier":"doc:\/\/DiContainer\/documentation\/DiContainer\/UseCaseModuleFactoryProtocol","isActive":true,"type":"reference"},{"text":"을 채택한 ","type":"text"},{"inlineContent":[{"type":"text","text":"Use Case 계층 모듈 팩토리"}],"type":"strong"},{"text":"입니다.","type":"text"}],"sections":[],"kind":"symbol","metadata":{"externalID":"s:11DiContainer20UseCaseModuleFactoryV","navigatorTitle":[{"kind":"identifier","text":"UseCaseModuleFactory"}],"fragments":[{"kind":"keyword","text":"struct"},{"kind":"text","text":" "},{"kind":"identifier","text":"UseCaseModuleFactory"}],"symbolKind":"struct","title":"UseCaseModuleFactory","role":"symbol","roleHeading":"Structure","modules":[{"name":"DiContainer"}]},"topicSections":[{"identifiers":["doc:\/\/DiContainer\/documentation\/DiContainer\/UseCaseModuleFactory\/init()"],"generated":true,"anchor":"Initializers","title":"Initializers"},{"identifiers":["doc:\/\/DiContainer\/documentation\/DiContainer\/UseCaseModuleFactory\/registerModule","doc:\/\/DiContainer\/documentation\/DiContainer\/UseCaseModuleFactory\/useCaseDefinitions"],"generated":true,"anchor":"Instance-Properties","title":"Instance Properties"},{"identifiers":["doc:\/\/DiContainer\/documentation\/DiContainer\/UseCaseModuleFactory\/UseCaseModuleFactoryProtocol-Implementations"],"generated":true,"anchor":"Default-Implementations","title":"Default Implementations"}],"primaryContentSections":[{"kind":"declarations","declarations":[{"tokens":[{"text":"struct","kind":"keyword"},{"text":" ","kind":"text"},{"text":"UseCaseModuleFactory","kind":"identifier"}],"platforms":["macOS"],"languages":["swift"]}]},{"content":[{"text":"개요","level":1,"type":"heading","anchor":"%EA%B0%9C%EC%9A%94"},{"items":[{"content":[{"inlineContent":[{"text":"Use Case 계층의 모듈을 생성하고 DI 컨테이너에 등록하는 역할을 담당합니다.","type":"text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"registerModule"},{"type":"text","text":": Repository 등 외부 의존성을 등록하기 위한 헬퍼 객체"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"useCaseDefinitions"},{"text":": Use Case 인스턴스를 생성하는 클로저 배열","type":"text"}]},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"type":"text","text":"각 클로저는 호출 시 "},{"identifier":"doc:\/\/DiContainer\/documentation\/DiContainer\/Module","type":"reference","isActive":true},{"type":"text","text":"을 반환"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"기본 구현은 빈 배열이며, 앱 측에서 ","type":"text"},{"code":"extension","type":"codeVoice"},{"text":"을 통해 재정의해야 합니다.","type":"text"}]}]}]}]}],"type":"unorderedList"},{"text":"Concurrency","level":2,"type":"heading","anchor":"Concurrency"},{"items":[{"content":[{"inlineContent":[{"code":"actor","type":"codeVoice"},{"type":"text","text":"로 정의되어 있어, 동시성 환경에서 안전하게 호출 가능합니다."}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"text","text":"단, "},{"type":"codeVoice","code":"useCaseDefinitions"},{"type":"text","text":"는 값 복사를 통해 캡처 문제를 방지하는 것이 권장됩니다."}],"type":"paragraph"}]}],"type":"unorderedList"},{"text":"Example","level":2,"type":"heading","anchor":"Example"},{"text":"1. Use Case 프로토콜 및 구현체 정의","level":3,"type":"heading","anchor":"1-Use-Case-%ED%94%84%EB%A1%9C%ED%86%A0%EC%BD%9C-%EB%B0%8F-%EA%B5%AC%ED%98%84%EC%B2%B4-%EC%A0%95%EC%9D%98"},{"code":["protocol AuthUseCaseProtocol {","    func authenticate(user: String, password: String) async -> Bool","}","","struct DefaultAuthUseCase: AuthUseCaseProtocol {","    private let repository: AuthRepositoryProtocol","","    init(repository: AuthRepositoryProtocol) {","        self.repository = repository","    }","","    func authenticate(user: String, password: String) async -> Bool {","        await repository.login(user: user, password: password)","    }","}"],"syntax":"swift","type":"codeListing"},{"text":"2. Use Case 팩토리 확장","anchor":"2-Use-Case-%ED%8C%A9%ED%86%A0%EB%A6%AC-%ED%99%95%EC%9E%A5","level":3,"type":"heading"},{"code":["extension UseCaseModuleFactory {","    public var useCaseDefinitions: [() -> Module] {","        let helper = registerModule","        return [","            helper.makeUseCaseWithRepository(","                AuthUseCaseProtocol.self,","                repositoryProtocol: AuthRepositoryProtocol.self,","                repositoryFallback: DefaultAuthRepository()","            ) { repo in","                DefaultAuthUseCase(repository: repo)","            }","        ]","    }","}"],"type":"codeListing","syntax":"swift"},{"text":"3. AppDIContainer 확장","anchor":"3-AppDIContainer-%ED%99%95%EC%9E%A5","level":3,"type":"heading"},{"code":["extension AppDIContainer {","    public func registerDefaultUseCaseModules() async {","        let factoryCopy = self.useCaseFactory","","        await registerDependencies { container in","            for module in factoryCopy.makeAllModules() {","                await container.register(module)","            }","        }","    }","}"],"type":"codeListing","syntax":"swift"},{"type":"heading","anchor":"4-%EC%95%B1-%EC%B4%88%EA%B8%B0%ED%99%94-%EC%8B%9C%EC%A0%90%EC%97%90%EC%84%9C-%EB%93%B1%EB%A1%9D","level":3,"text":"4. 앱 초기화 시점에서 등록"},{"type":"codeListing","syntax":"swift","code":["@main","struct MyApp: App {","    init() {","        Task {","            await AppDIContainer.shared.registerDefaultUseCaseModules()","        }","    }","","    var body: some Scene {","        WindowGroup {","            ContentView()","        }","    }","}"]}],"kind":"content"}],"variants":[{"paths":["\/documentation\/dicontainer\/usecasemodulefactory"],"traits":[{"interfaceLanguage":"swift"}]}],"references":{"doc://DiContainer/documentation/DiContainer/UseCaseModuleFactory/useCaseDefinitions":{"role":"symbol","url":"\/documentation\/dicontainer\/usecasemodulefactory\/usecasedefinitions","kind":"symbol","abstract":[{"text":"Use Case 모듈을 생성하는 클로저 배열.","type":"text"}],"type":"topic","fragments":[{"text":"var","kind":"keyword"},{"text":" ","kind":"text"},{"text":"useCaseDefinitions","kind":"identifier"},{"text":": [() -> ","kind":"text"},{"text":"Module","kind":"typeIdentifier","preciseIdentifier":"s:11DiContainer6ModuleC"},{"text":"]","kind":"text"}],"identifier":"doc:\/\/DiContainer\/documentation\/DiContainer\/UseCaseModuleFactory\/useCaseDefinitions","title":"useCaseDefinitions"},"doc://DiContainer/documentation/DiContainer/UseCaseModuleFactoryProtocol":{"abstract":[{"text":"Use Case 계층의 모듈을 ","type":"text"},{"inlineContent":[{"type":"text","text":"생성"}],"type":"strong"},{"text":"하고 ","type":"text"},{"inlineContent":[{"text":"등록","type":"text"}],"type":"strong"},{"text":"하기 위한 표준 인터페이스입니다.","type":"text"},{"text":" ","type":"text"},{"text":"구현 타입은 다음을 제공합니다:","type":"text"}],"identifier":"doc:\/\/DiContainer\/documentation\/DiContainer\/UseCaseModuleFactoryProtocol","kind":"symbol","title":"UseCaseModuleFactoryProtocol","type":"topic","fragments":[{"kind":"keyword","text":"protocol"},{"kind":"text","text":" "},{"kind":"identifier","text":"UseCaseModuleFactoryProtocol"}],"url":"\/documentation\/dicontainer\/usecasemodulefactoryprotocol","navigatorTitle":[{"kind":"identifier","text":"UseCaseModuleFactoryProtocol"}],"role":"symbol"},"doc://DiContainer/documentation/DiContainer/Module":{"type":"topic","role":"symbol","navigatorTitle":[{"text":"Module","kind":"identifier"}],"identifier":"doc:\/\/DiContainer\/documentation\/DiContainer\/Module","kind":"symbol","abstract":[{"code":"Module","type":"codeVoice"},{"text":"은 DI(의존성 주입)를 위한 ","type":"text"},{"inlineContent":[{"text":"단일 모듈","type":"text"}],"type":"strong"},{"type":"text","text":"을 나타내는 구조체입니다."}],"url":"\/documentation\/dicontainer\/module","title":"Module","fragments":[{"text":"actor","kind":"keyword"},{"text":" ","kind":"text"},{"text":"Module","kind":"identifier"}]},"doc://DiContainer/documentation/DiContainer/UseCaseModuleFactory/registerModule":{"kind":"symbol","url":"\/documentation\/dicontainer\/usecasemodulefactory\/registermodule","identifier":"doc:\/\/DiContainer\/documentation\/DiContainer\/UseCaseModuleFactory\/registerModule","fragments":[{"text":"let","kind":"keyword"},{"text":" ","kind":"text"},{"text":"registerModule","kind":"identifier"},{"text":": ","kind":"text"},{"preciseIdentifier":"s:11DiContainer14RegisterModuleV","text":"RegisterModule","kind":"typeIdentifier"}],"role":"symbol","title":"registerModule","type":"topic","abstract":[{"text":"의존성 등록을 담당하는 헬퍼 객체.","type":"text"}]},"doc://DiContainer/documentation/DiContainer/UseCaseModuleFactory/UseCaseModuleFactoryProtocol-Implementations":{"type":"topic","title":"UseCaseModuleFactoryProtocol Implementations","abstract":[],"url":"\/documentation\/dicontainer\/usecasemodulefactory\/usecasemodulefactoryprotocol-implementations","kind":"article","identifier":"doc:\/\/DiContainer\/documentation\/DiContainer\/UseCaseModuleFactory\/UseCaseModuleFactoryProtocol-Implementations","role":"collectionGroup"},"doc://DiContainer/documentation/DiContainer/UseCaseModuleFactory":{"role":"symbol","type":"topic","navigatorTitle":[{"text":"UseCaseModuleFactory","kind":"identifier"}],"title":"UseCaseModuleFactory","url":"\/documentation\/dicontainer\/usecasemodulefactory","identifier":"doc:\/\/DiContainer\/documentation\/DiContainer\/UseCaseModuleFactory","fragments":[{"text":"struct","kind":"keyword"},{"text":" ","kind":"text"},{"text":"UseCaseModuleFactory","kind":"identifier"}],"kind":"symbol","abstract":[{"type":"codeVoice","code":"UseCaseModuleFactory"},{"type":"text","text":"는 "},{"identifier":"doc:\/\/DiContainer\/documentation\/DiContainer\/UseCaseModuleFactoryProtocol","type":"reference","isActive":true},{"type":"text","text":"을 채택한 "},{"type":"strong","inlineContent":[{"type":"text","text":"Use Case 계층 모듈 팩토리"}]},{"type":"text","text":"입니다."}]},"doc://DiContainer/documentation/DiContainer":{"identifier":"doc:\/\/DiContainer\/documentation\/DiContainer","kind":"symbol","type":"topic","title":"DiContainer","abstract":[],"role":"collection","url":"\/documentation\/dicontainer"},"doc://DiContainer/documentation/DiContainer/UseCaseModuleFactory/init()":{"type":"topic","identifier":"doc:\/\/DiContainer\/documentation\/DiContainer\/UseCaseModuleFactory\/init()","title":"init()","fragments":[{"text":"init","kind":"identifier"},{"text":"()","kind":"text"}],"kind":"symbol","role":"symbol","abstract":[{"text":"기본 생성자.","type":"text"}],"url":"\/documentation\/dicontainer\/usecasemodulefactory\/init()"}}}