{"topicSections":[{"anchor":"Instance-Properties","generated":true,"title":"Instance Properties","identifiers":["doc:\/\/DiContainer\/documentation\/DiContainer\/UseCaseModuleFactoryProtocol\/registerModule","doc:\/\/DiContainer\/documentation\/DiContainer\/UseCaseModuleFactoryProtocol\/useCaseDefinitions"]},{"anchor":"Instance-Methods","generated":true,"title":"Instance Methods","identifiers":["doc:\/\/DiContainer\/documentation\/DiContainer\/UseCaseModuleFactoryProtocol\/makeAllModules()"]}],"seeAlsoSections":[{"anchor":"Related-Documentation","title":"Related Documentation","identifiers":["doc:\/\/DiContainer\/documentation\/DiContainer\/RegisterModule","doc:\/\/DiContainer\/documentation\/DiContainer\/Module"]}],"abstract":[{"text":"Use Case 계층의 모듈을 ","type":"text"},{"type":"strong","inlineContent":[{"text":"생성","type":"text"}]},{"text":"하고 ","type":"text"},{"type":"strong","inlineContent":[{"type":"text","text":"등록"}]},{"text":"하기 위한 표준 인터페이스입니다.","type":"text"},{"text":" ","type":"text"},{"text":"구현 타입은 다음을 제공합니다:","type":"text"}],"kind":"symbol","sections":[],"metadata":{"externalID":"s:11DiContainer28UseCaseModuleFactoryProtocolP","role":"symbol","fragments":[{"text":"protocol","kind":"keyword"},{"text":" ","kind":"text"},{"text":"UseCaseModuleFactoryProtocol","kind":"identifier"}],"navigatorTitle":[{"text":"UseCaseModuleFactoryProtocol","kind":"identifier"}],"modules":[{"name":"DiContainer"}],"roleHeading":"Protocol","title":"UseCaseModuleFactoryProtocol","symbolKind":"protocol"},"schemaVersion":{"major":0,"minor":3,"patch":0},"relationshipsSections":[{"identifiers":["doc:\/\/DiContainer\/documentation\/DiContainer\/UseCaseModuleFactory"],"type":"conformingTypes","title":"Conforming Types","kind":"relationships"}],"primaryContentSections":[{"declarations":[{"tokens":[{"text":"protocol","kind":"keyword"},{"text":" ","kind":"text"},{"text":"UseCaseModuleFactoryProtocol","kind":"identifier"}],"languages":["swift"],"platforms":["macOS"]}],"kind":"declarations"},{"content":[{"anchor":"overview","text":"Overview","level":2,"type":"heading"},{"items":[{"content":[{"inlineContent":[{"type":"reference","identifier":"doc:\/\/DiContainer\/documentation\/DiContainer\/UseCaseModuleFactoryProtocol\/registerModule","isActive":true},{"type":"text","text":": Use Case 모듈 생성 시 필요한 의존성을 등록하는 헬퍼("},{"code":"RegisterModule","type":"codeVoice"},{"type":"text","text":")"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"isActive":true,"identifier":"doc:\/\/DiContainer\/documentation\/DiContainer\/UseCaseModuleFactoryProtocol\/useCaseDefinitions","type":"reference"},{"text":": ","type":"text"},{"code":"Module","type":"codeVoice"},{"text":" 생성 ","type":"text"},{"inlineContent":[{"text":"클로저","type":"text"}],"type":"strong"},{"text":"의 목록","type":"text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"identifier":"doc:\/\/DiContainer\/documentation\/DiContainer\/UseCaseModuleFactoryProtocol\/makeAllModules()","type":"reference","isActive":true},{"text":": 위 클로저들을 실행해 ","type":"text"},{"inlineContent":[{"type":"codeVoice","code":"Module"},{"type":"text","text":" 인스턴스 배열"}],"type":"strong"},{"text":"을 반환","type":"text"}]}]}],"type":"orderedList"},{"anchor":"Overview","text":"Overview","level":2,"type":"heading"},{"items":[{"content":[{"inlineContent":[{"code":"registerModule","type":"codeVoice"},{"text":"을 통해, Use Case가 의존하는 Repository 등을 ","type":"text"},{"inlineContent":[{"type":"text","text":"DI 컨테이너에 선언적으로 등록"}],"type":"strong"},{"text":"할 수 있습니다.","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"codeVoice","code":"useCaseDefinitions"},{"text":"에 모듈을 ","type":"text"},{"type":"strong","inlineContent":[{"text":"목록 형태","type":"text"}]},{"text":"로 정의하면, 팩토리의 책임과 의존성 구성이 명확해집니다.","type":"text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"reference","identifier":"doc:\/\/DiContainer\/documentation\/DiContainer\/UseCaseModuleFactoryProtocol\/makeAllModules()","isActive":true},{"text":"는 정의된 모든 모듈을 ","type":"text"},{"type":"strong","inlineContent":[{"type":"text","text":"실제 인스턴스"}]},{"text":"로 변환하여, 등록 루프에서 바로 사용할 수 있게 합니다.","type":"text"}]}]}],"type":"unorderedList"},{"anchor":"Usage","text":"Usage","level":2,"type":"heading"},{"anchor":"1-Use-CaseRepository-%EC%A0%95%EC%9D%98","text":"1) Use Case\/Repository 정의","level":3,"type":"heading"},{"code":["protocol AuthUseCaseProtocol {","  func authenticate(user: String, password: String) async -> Bool","}","","struct DefaultAuthUseCase: AuthUseCaseProtocol {","  private let repository: AuthRepositoryProtocol","  init(repository: AuthRepositoryProtocol) { self.repository = repository }","","  func authenticate(user: String, password: String) async -> Bool {","    await repository.login(user: user, password: password)","  }","}"],"syntax":"swift","type":"codeListing"},{"anchor":"2-%ED%8C%A9%ED%86%A0%EB%A6%AC%EC%97%90%EC%84%9C-%EB%AA%A8%EB%93%88-%EC%A0%95%EC%9D%98","text":"2) 팩토리에서 모듈 정의","level":3,"type":"heading"},{"inlineContent":[{"code":"RegisterModule.makeUseCaseWithRepository","type":"codeVoice"},{"type":"text","text":"를 이용해 "},{"type":"strong","inlineContent":[{"type":"text","text":"Repository 자동 주입"}]},{"type":"text","text":":"}],"type":"paragraph"},{"code":["extension UseCaseModuleFactory {","  public var useCaseDefinitions: [() -> Module] {","    let helper = registerModule \/\/ self 직접 캡처 회피","    return [","      helper.makeUseCaseWithRepository(","        AuthUseCaseProtocol.self,","        repositoryProtocol: AuthRepositoryProtocol.self,","        repositoryFallback: DefaultAuthRepository() \/\/ (선택) 미등록 시 기본 Repo","      ) { repo in","        DefaultAuthUseCase(repository: repo)","      }","    ]","  }","}"],"syntax":"swift","type":"codeListing"},{"name":"Tip","style":"tip","content":[{"type":"paragraph","inlineContent":[{"text":"","type":"text"},{"code":"repositoryFallback","type":"codeVoice"},{"text":"이 ","type":"text"},{"inlineContent":[{"type":"text","text":"없어도"}],"type":"strong"},{"text":" 동작하게 구성하려면,","type":"text"},{"text":" ","type":"text"},{"code":"RegisterModule","type":"codeVoice"},{"text":"의 ","type":"text"},{"code":"MissingRepoStrategy","type":"codeVoice"},{"text":"를 ","type":"text"},{"code":".useNoOp { ... }","type":"codeVoice"},{"text":" 또는","type":"text"},{"text":" ","type":"text"},{"code":".skipRegistration()","type":"codeVoice"},{"text":"으로 사용하세요(크래시 없이 안전한 부트스트랩).","type":"text"}]}],"type":"aside"},{"anchor":"3-%EC%BB%A8%ED%85%8C%EC%9D%B4%EB%84%88%EC%97%90-%EC%9D%BC%EA%B4%84-%EB%93%B1%EB%A1%9D","text":"3) 컨테이너에 일괄 등록","level":3,"type":"heading"},{"code":["extension AppDIContainer {","  public func registerDefaultUseCaseModules() async {","    let factoryCopy = self.useCaseFactory \/\/ 값 복사로 캡처 문제 방지","    await registerDependencies { container in","      for module in factoryCopy.makeAllModules() {","        await container.register(module)","      }","    }","  }","}"],"syntax":"swift","type":"codeListing"},{"anchor":"4-%EC%95%B1-%EC%B4%88%EA%B8%B0%ED%99%94-SwiftUI--UIKit","text":"4) 앱 초기화 (SwiftUI \/ UIKit)","level":3,"type":"heading"},{"code":["\/\/ SwiftUI","@main","struct MyApp: App {","  init() {","    Task { await AppDIContainer.shared.registerDefaultUseCaseModules() }","  }","  var body: some Scene { WindowGroup { ContentView() } }","}"],"syntax":"swift","type":"codeListing"},{"code":["\/\/ UIKit AppDelegate","@main","class AppDelegate: UIResponder, UIApplicationDelegate {","  func application(_ application: UIApplication,","                   didFinishLaunchingWithOptions launchOptions: [UIApplication.LaunchOptionsKey: Any]?) -> Bool {","    Task { await AppDIContainer.shared.registerDefaultUseCaseModules() }","    return true","  }","}"],"syntax":"swift","type":"codeListing"},{"anchor":"Best-Practices","text":"Best Practices","level":2,"type":"heading"},{"items":[{"content":[{"inlineContent":[{"inlineContent":[{"text":"정의와 등록 분리","type":"text"}],"type":"strong"},{"text":": 팩토리에서 “정의”, 컨테이너에서 “등록”을 수행해 책임을 분리하세요.","type":"text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"inlineContent":[{"type":"text","text":"캡처 주의"}],"type":"strong"},{"text":": ","type":"text"},{"code":"useCaseDefinitions","type":"codeVoice"},{"text":" 내부에서 ","type":"text"},{"code":"self","type":"codeVoice"},{"text":"를 직접 캡처하지 말고 ","type":"text"},{"code":"let helper = registerModule","type":"codeVoice"},{"text":"처럼 ","type":"text"},{"inlineContent":[{"type":"text","text":"값 복사"}],"type":"strong"},{"text":"를 권장합니다.","type":"text"}]}]},{"content":[{"inlineContent":[{"inlineContent":[{"text":"안전한 부트스트랩","type":"text"}],"type":"strong"},{"text":": 필수 Repo가 미등록일 수 있다면, ","type":"text"},{"code":"MissingRepoStrategy","type":"codeVoice"},{"text":"로","type":"text"},{"text":" ","type":"text"},{"code":".useNoOp","type":"codeVoice"},{"text":" 또는 ","type":"text"},{"code":".skipRegistration","type":"codeVoice"},{"text":"을 사용해 앱 중단 없이 진행하세요.","type":"text"}],"type":"paragraph"}]}],"type":"unorderedList"}],"kind":"content"}],"variants":[{"paths":["\/documentation\/dicontainer\/usecasemodulefactoryprotocol"],"traits":[{"interfaceLanguage":"swift"}]}],"identifier":{"url":"doc:\/\/DiContainer\/documentation\/DiContainer\/UseCaseModuleFactoryProtocol","interfaceLanguage":"swift"},"hierarchy":{"paths":[["doc:\/\/DiContainer\/documentation\/DiContainer"]]},"references":{"doc://DiContainer/documentation/DiContainer/Module":{"url":"\/documentation\/dicontainer\/module","role":"symbol","fragments":[{"text":"actor","kind":"keyword"},{"text":" ","kind":"text"},{"text":"Module","kind":"identifier"}],"type":"topic","kind":"symbol","identifier":"doc:\/\/DiContainer\/documentation\/DiContainer\/Module","navigatorTitle":[{"text":"Module","kind":"identifier"}],"abstract":[{"code":"Module","type":"codeVoice"},{"text":"은 DI(의존성 주입)를 위한 ","type":"text"},{"inlineContent":[{"text":"단일 모듈","type":"text"}],"type":"strong"},{"text":"을 나타내는 구조체입니다.","type":"text"}],"title":"Module"},"doc://DiContainer/documentation/DiContainer":{"identifier":"doc:\/\/DiContainer\/documentation\/DiContainer","abstract":[],"type":"topic","kind":"symbol","title":"DiContainer","url":"\/documentation\/dicontainer","role":"collection"},"doc://DiContainer/documentation/DiContainer/UseCaseModuleFactoryProtocol/registerModule":{"type":"topic","identifier":"doc:\/\/DiContainer\/documentation\/DiContainer\/UseCaseModuleFactoryProtocol\/registerModule","fragments":[{"kind":"keyword","text":"var"},{"kind":"text","text":" "},{"kind":"identifier","text":"registerModule"},{"kind":"text","text":": "},{"kind":"typeIdentifier","preciseIdentifier":"s:11DiContainer14RegisterModuleV","text":"RegisterModule"}],"title":"registerModule","required":true,"abstract":[{"text":"Use Case 모듈 생성 시 필요한 의존성을 등록하기 위한 헬퍼(","type":"text"},{"code":"RegisterModule","type":"codeVoice"},{"text":").","type":"text"}],"url":"\/documentation\/dicontainer\/usecasemodulefactoryprotocol\/registermodule","role":"symbol","kind":"symbol"},"doc://DiContainer/documentation/DiContainer/UseCaseModuleFactoryProtocol/useCaseDefinitions":{"identifier":"doc:\/\/DiContainer\/documentation\/DiContainer\/UseCaseModuleFactoryProtocol\/useCaseDefinitions","title":"useCaseDefinitions","abstract":[{"type":"text","text":"Use Case 모듈을 생성하는 "},{"type":"strong","inlineContent":[{"type":"text","text":"클로저"}]},{"type":"text","text":"들의 배열."},{"type":"text","text":" "},{"type":"text","text":"각 클로저는 호출 시 "},{"type":"codeVoice","code":"Module"},{"type":"text","text":" 인스턴스를 반환합니다."}],"required":true,"role":"symbol","fragments":[{"text":"var","kind":"keyword"},{"text":" ","kind":"text"},{"text":"useCaseDefinitions","kind":"identifier"},{"text":": [() -> ","kind":"text"},{"text":"Module","kind":"typeIdentifier","preciseIdentifier":"s:11DiContainer6ModuleC"},{"text":"]","kind":"text"}],"kind":"symbol","type":"topic","url":"\/documentation\/dicontainer\/usecasemodulefactoryprotocol\/usecasedefinitions"},"doc://DiContainer/documentation/DiContainer/UseCaseModuleFactoryProtocol":{"navigatorTitle":[{"text":"UseCaseModuleFactoryProtocol","kind":"identifier"}],"url":"\/documentation\/dicontainer\/usecasemodulefactoryprotocol","identifier":"doc:\/\/DiContainer\/documentation\/DiContainer\/UseCaseModuleFactoryProtocol","role":"symbol","fragments":[{"text":"protocol","kind":"keyword"},{"text":" ","kind":"text"},{"text":"UseCaseModuleFactoryProtocol","kind":"identifier"}],"kind":"symbol","abstract":[{"type":"text","text":"Use Case 계층의 모듈을 "},{"type":"strong","inlineContent":[{"text":"생성","type":"text"}]},{"type":"text","text":"하고 "},{"type":"strong","inlineContent":[{"text":"등록","type":"text"}]},{"type":"text","text":"하기 위한 표준 인터페이스입니다."},{"type":"text","text":" "},{"type":"text","text":"구현 타입은 다음을 제공합니다:"}],"type":"topic","title":"UseCaseModuleFactoryProtocol"},"doc://DiContainer/documentation/DiContainer/RegisterModule":{"abstract":[{"type":"codeVoice","code":"RegisterModule"},{"text":"은 Repository 및 UseCase 모듈을 생성하고,","type":"text"},{"text":" ","type":"text"},{"text":"의존성을 DI 컨테이너에 등록하는 공통 로직을 제공합니다.","type":"text"}],"url":"\/documentation\/dicontainer\/registermodule","title":"RegisterModule","type":"topic","navigatorTitle":[{"kind":"identifier","text":"RegisterModule"}],"fragments":[{"kind":"keyword","text":"struct"},{"kind":"text","text":" "},{"kind":"identifier","text":"RegisterModule"}],"kind":"symbol","identifier":"doc:\/\/DiContainer\/documentation\/DiContainer\/RegisterModule","role":"symbol"},"doc://DiContainer/documentation/DiContainer/UseCaseModuleFactory":{"url":"\/documentation\/dicontainer\/usecasemodulefactory","role":"symbol","fragments":[{"text":"struct","kind":"keyword"},{"text":" ","kind":"text"},{"text":"UseCaseModuleFactory","kind":"identifier"}],"navigatorTitle":[{"text":"UseCaseModuleFactory","kind":"identifier"}],"identifier":"doc:\/\/DiContainer\/documentation\/DiContainer\/UseCaseModuleFactory","title":"UseCaseModuleFactory","kind":"symbol","type":"topic","abstract":[{"type":"codeVoice","code":"UseCaseModuleFactory"},{"type":"text","text":"는 "},{"type":"reference","isActive":true,"identifier":"doc:\/\/DiContainer\/documentation\/DiContainer\/UseCaseModuleFactoryProtocol"},{"type":"text","text":"을 채택한 "},{"type":"strong","inlineContent":[{"text":"Use Case 계층 모듈 팩토리","type":"text"}]},{"type":"text","text":"입니다."}]},"doc://DiContainer/documentation/DiContainer/UseCaseModuleFactoryProtocol/makeAllModules()":{"identifier":"doc:\/\/DiContainer\/documentation\/DiContainer\/UseCaseModuleFactoryProtocol\/makeAllModules()","title":"makeAllModules()","abstract":[{"isActive":true,"type":"reference","identifier":"doc:\/\/DiContainer\/documentation\/DiContainer\/UseCaseModuleFactoryProtocol\/useCaseDefinitions"},{"type":"text","text":" 배열의 모든 클로저를 실행하여,"},{"type":"text","text":" "},{"type":"text","text":"생성된 "},{"type":"codeVoice","code":"Module"},{"type":"text","text":" 인스턴스들의 배열을 반환합니다."}],"defaultImplementations":1,"required":true,"role":"symbol","fragments":[{"text":"func","kind":"keyword"},{"text":" ","kind":"text"},{"text":"makeAllModules","kind":"identifier"},{"text":"() -> [","kind":"text"},{"preciseIdentifier":"s:11DiContainer6ModuleC","text":"Module","kind":"typeIdentifier"},{"text":"]","kind":"text"}],"kind":"symbol","type":"topic","url":"\/documentation\/dicontainer\/usecasemodulefactoryprotocol\/makeallmodules()"}}}