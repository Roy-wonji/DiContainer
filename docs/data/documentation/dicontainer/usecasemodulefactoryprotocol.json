{"metadata":{"title":"UseCaseModuleFactoryProtocol","externalID":"s:11DiContainer28UseCaseModuleFactoryProtocolP","navigatorTitle":[{"kind":"identifier","text":"UseCaseModuleFactoryProtocol"}],"symbolKind":"protocol","modules":[{"name":"DiContainer"}],"role":"symbol","roleHeading":"Protocol","fragments":[{"kind":"keyword","text":"protocol"},{"kind":"text","text":" "},{"kind":"identifier","text":"UseCaseModuleFactoryProtocol"}]},"abstract":[{"text":"Use Case 계층의 모듈을 ","type":"text"},{"type":"strong","inlineContent":[{"type":"text","text":"생성"}]},{"text":"하고 ","type":"text"},{"type":"strong","inlineContent":[{"type":"text","text":"등록"}]},{"text":"하기 위한 표준 인터페이스입니다.","type":"text"},{"text":" ","type":"text"},{"text":"구현 타입은 다음을 제공합니다:","type":"text"}],"schemaVersion":{"major":0,"patch":0,"minor":3},"seeAlsoSections":[{"identifiers":["doc:\/\/DiContainer\/documentation\/DiContainer\/RegisterModule","doc:\/\/DiContainer\/documentation\/DiContainer\/Module"],"title":"Related Documentation","anchor":"Related-Documentation"}],"relationshipsSections":[{"identifiers":["doc:\/\/DiContainer\/documentation\/DiContainer\/UseCaseModuleFactory"],"kind":"relationships","title":"Conforming Types","type":"conformingTypes"}],"sections":[],"kind":"symbol","topicSections":[{"identifiers":["doc:\/\/DiContainer\/documentation\/DiContainer\/UseCaseModuleFactoryProtocol\/registerModule","doc:\/\/DiContainer\/documentation\/DiContainer\/UseCaseModuleFactoryProtocol\/useCaseDefinitions"],"title":"Instance Properties","anchor":"Instance-Properties","generated":true},{"identifiers":["doc:\/\/DiContainer\/documentation\/DiContainer\/UseCaseModuleFactoryProtocol\/makeAllModules()"],"title":"Instance Methods","anchor":"Instance-Methods","generated":true}],"primaryContentSections":[{"declarations":[{"tokens":[{"kind":"keyword","text":"protocol"},{"kind":"text","text":" "},{"kind":"identifier","text":"UseCaseModuleFactoryProtocol"}],"platforms":["macOS"],"languages":["swift"]}],"kind":"declarations"},{"kind":"content","content":[{"level":2,"type":"heading","text":"Overview","anchor":"overview"},{"type":"orderedList","items":[{"content":[{"inlineContent":[{"isActive":true,"identifier":"doc:\/\/DiContainer\/documentation\/DiContainer\/UseCaseModuleFactoryProtocol\/registerModule","type":"reference"},{"text":": Use Case 모듈 생성 시 필요한 의존성을 등록하는 헬퍼(","type":"text"},{"code":"RegisterModule","type":"codeVoice"},{"text":")","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"reference","isActive":true,"identifier":"doc:\/\/DiContainer\/documentation\/DiContainer\/UseCaseModuleFactoryProtocol\/useCaseDefinitions"},{"type":"text","text":": "},{"type":"codeVoice","code":"Module"},{"type":"text","text":" 생성 "},{"type":"strong","inlineContent":[{"text":"클로저","type":"text"}]},{"type":"text","text":"의 목록"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"reference","identifier":"doc:\/\/DiContainer\/documentation\/DiContainer\/UseCaseModuleFactoryProtocol\/makeAllModules()","isActive":true},{"type":"text","text":": 위 클로저들을 실행해 "},{"type":"strong","inlineContent":[{"type":"codeVoice","code":"Module"},{"type":"text","text":" 인스턴스 배열"}]},{"type":"text","text":"을 반환"}]}]}]},{"level":2,"type":"heading","text":"Overview","anchor":"Overview"},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"type":"codeVoice","code":"registerModule"},{"text":"을 통해, Use Case가 의존하는 Repository 등을 ","type":"text"},{"inlineContent":[{"type":"text","text":"DI 컨테이너에 선언적으로 등록"}],"type":"strong"},{"text":"할 수 있습니다.","type":"text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"code":"useCaseDefinitions","type":"codeVoice"},{"type":"text","text":"에 모듈을 "},{"type":"strong","inlineContent":[{"text":"목록 형태","type":"text"}]},{"type":"text","text":"로 정의하면, 팩토리의 책임과 의존성 구성이 명확해집니다."}]}]},{"content":[{"inlineContent":[{"identifier":"doc:\/\/DiContainer\/documentation\/DiContainer\/UseCaseModuleFactoryProtocol\/makeAllModules()","isActive":true,"type":"reference"},{"text":"는 정의된 모든 모듈을 ","type":"text"},{"inlineContent":[{"type":"text","text":"실제 인스턴스"}],"type":"strong"},{"text":"로 변환하여, 등록 루프에서 바로 사용할 수 있게 합니다.","type":"text"}],"type":"paragraph"}]}]},{"level":2,"type":"heading","text":"Usage","anchor":"Usage"},{"level":3,"type":"heading","text":"1) Use Case\/Repository 정의","anchor":"1-Use-CaseRepository-%EC%A0%95%EC%9D%98"},{"type":"codeListing","syntax":"swift","code":["protocol AuthUseCaseProtocol {","  func authenticate(user: String, password: String) async -> Bool","}","","struct DefaultAuthUseCase: AuthUseCaseProtocol {","  private let repository: AuthRepositoryProtocol","  init(repository: AuthRepositoryProtocol) { self.repository = repository }","","  func authenticate(user: String, password: String) async -> Bool {","    await repository.login(user: user, password: password)","  }","}"]},{"level":3,"type":"heading","text":"2) 팩토리에서 모듈 정의","anchor":"2-%ED%8C%A9%ED%86%A0%EB%A6%AC%EC%97%90%EC%84%9C-%EB%AA%A8%EB%93%88-%EC%A0%95%EC%9D%98"},{"type":"paragraph","inlineContent":[{"code":"RegisterModule.makeUseCaseWithRepository","type":"codeVoice"},{"type":"text","text":"를 이용해 "},{"type":"strong","inlineContent":[{"text":"Repository 자동 주입","type":"text"}]},{"type":"text","text":":"}]},{"type":"codeListing","code":["extension UseCaseModuleFactory {","  public var useCaseDefinitions: [() -> Module] {","    let helper = registerModule \/\/ self 직접 캡처 회피","    return [","      helper.makeUseCaseWithRepository(","        AuthUseCaseProtocol.self,","        repositoryProtocol: AuthRepositoryProtocol.self,","        repositoryFallback: DefaultAuthRepository() \/\/ (선택) 미등록 시 기본 Repo","      ) { repo in","        DefaultAuthUseCase(repository: repo)","      }","    ]","  }","}"],"syntax":"swift"},{"content":[{"inlineContent":[{"type":"text","text":""},{"type":"codeVoice","code":"repositoryFallback"},{"type":"text","text":"이 "},{"type":"strong","inlineContent":[{"type":"text","text":"없어도"}]},{"type":"text","text":" 동작하게 구성하려면,"},{"type":"text","text":" "},{"type":"codeVoice","code":"RegisterModule"},{"type":"text","text":"의 "},{"type":"codeVoice","code":"MissingRepoStrategy"},{"type":"text","text":"를 "},{"type":"codeVoice","code":".useNoOp { ... }"},{"type":"text","text":" 또는"},{"type":"text","text":" "},{"code":".skipRegistration()","type":"codeVoice"},{"type":"text","text":"으로 사용하세요(크래시 없이 안전한 부트스트랩)."}],"type":"paragraph"}],"type":"aside","style":"tip","name":"Tip"},{"text":"3) 컨테이너에 일괄 등록","anchor":"3-%EC%BB%A8%ED%85%8C%EC%9D%B4%EB%84%88%EC%97%90-%EC%9D%BC%EA%B4%84-%EB%93%B1%EB%A1%9D","type":"heading","level":3},{"code":["extension AppDIContainer {","  public func registerDefaultUseCaseModules() async {","    let factoryCopy = self.useCaseFactory \/\/ 값 복사로 캡처 문제 방지","    await registerDependencies { container in","      for module in factoryCopy.makeAllModules() {","        await container.register(module)","      }","    }","  }","}"],"type":"codeListing","syntax":"swift"},{"type":"heading","level":3,"anchor":"4-%EC%95%B1-%EC%B4%88%EA%B8%B0%ED%99%94-SwiftUI--UIKit","text":"4) 앱 초기화 (SwiftUI \/ UIKit)"},{"type":"codeListing","code":["\/\/ SwiftUI","@main","struct MyApp: App {","  init() {","    Task { await AppDIContainer.shared.registerDefaultUseCaseModules() }","  }","  var body: some Scene { WindowGroup { ContentView() } }","}"],"syntax":"swift"},{"type":"codeListing","code":["\/\/ UIKit AppDelegate","@main","class AppDelegate: UIResponder, UIApplicationDelegate {","  func application(_ application: UIApplication,","                   didFinishLaunchingWithOptions launchOptions: [UIApplication.LaunchOptionsKey: Any]?) -> Bool {","    Task { await AppDIContainer.shared.registerDefaultUseCaseModules() }","    return true","  }","}"],"syntax":"swift"},{"type":"heading","level":2,"anchor":"Best-Practices","text":"Best Practices"},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"strong","inlineContent":[{"type":"text","text":"정의와 등록 분리"}]},{"type":"text","text":": 팩토리에서 “정의”, 컨테이너에서 “등록”을 수행해 책임을 분리하세요."}]}]},{"content":[{"inlineContent":[{"inlineContent":[{"type":"text","text":"캡처 주의"}],"type":"strong"},{"type":"text","text":": "},{"type":"codeVoice","code":"useCaseDefinitions"},{"type":"text","text":" 내부에서 "},{"type":"codeVoice","code":"self"},{"type":"text","text":"를 직접 캡처하지 말고 "},{"type":"codeVoice","code":"let helper = registerModule"},{"type":"text","text":"처럼 "},{"inlineContent":[{"text":"값 복사","type":"text"}],"type":"strong"},{"type":"text","text":"를 권장합니다."}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"strong","inlineContent":[{"text":"안전한 부트스트랩","type":"text"}]},{"type":"text","text":": 필수 Repo가 미등록일 수 있다면, "},{"type":"codeVoice","code":"MissingRepoStrategy"},{"type":"text","text":"로"},{"type":"text","text":" "},{"type":"codeVoice","code":".useNoOp"},{"type":"text","text":" 또는 "},{"type":"codeVoice","code":".skipRegistration"},{"type":"text","text":"을 사용해 앱 중단 없이 진행하세요."}],"type":"paragraph"}]}],"type":"unorderedList"}]}],"variants":[{"paths":["\/documentation\/dicontainer\/usecasemodulefactoryprotocol"],"traits":[{"interfaceLanguage":"swift"}]}],"hierarchy":{"paths":[["doc:\/\/DiContainer\/documentation\/DiContainer"]]},"identifier":{"interfaceLanguage":"swift","url":"doc:\/\/DiContainer\/documentation\/DiContainer\/UseCaseModuleFactoryProtocol"},"references":{"doc://DiContainer/documentation/DiContainer/UseCaseModuleFactoryProtocol":{"url":"\/documentation\/dicontainer\/usecasemodulefactoryprotocol","fragments":[{"text":"protocol","kind":"keyword"},{"text":" ","kind":"text"},{"text":"UseCaseModuleFactoryProtocol","kind":"identifier"}],"role":"symbol","type":"topic","abstract":[{"type":"text","text":"Use Case 계층의 모듈을 "},{"type":"strong","inlineContent":[{"text":"생성","type":"text"}]},{"type":"text","text":"하고 "},{"type":"strong","inlineContent":[{"text":"등록","type":"text"}]},{"type":"text","text":"하기 위한 표준 인터페이스입니다."},{"type":"text","text":" "},{"type":"text","text":"구현 타입은 다음을 제공합니다:"}],"navigatorTitle":[{"text":"UseCaseModuleFactoryProtocol","kind":"identifier"}],"title":"UseCaseModuleFactoryProtocol","identifier":"doc:\/\/DiContainer\/documentation\/DiContainer\/UseCaseModuleFactoryProtocol","kind":"symbol"},"doc://DiContainer/documentation/DiContainer/UseCaseModuleFactoryProtocol/makeAllModules()":{"title":"makeAllModules()","identifier":"doc:\/\/DiContainer\/documentation\/DiContainer\/UseCaseModuleFactoryProtocol\/makeAllModules()","type":"topic","url":"\/documentation\/dicontainer\/usecasemodulefactoryprotocol\/makeallmodules()","kind":"symbol","required":true,"defaultImplementations":1,"fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"makeAllModules"},{"kind":"text","text":"() -> ["},{"preciseIdentifier":"s:11DiContainer6ModuleC","kind":"typeIdentifier","text":"Module"},{"kind":"text","text":"]"}],"abstract":[{"type":"reference","isActive":true,"identifier":"doc:\/\/DiContainer\/documentation\/DiContainer\/UseCaseModuleFactoryProtocol\/useCaseDefinitions"},{"type":"text","text":" 배열의 모든 클로저를 실행하여,"},{"type":"text","text":" "},{"type":"text","text":"생성된 "},{"type":"codeVoice","code":"Module"},{"type":"text","text":" 인스턴스들의 배열을 반환합니다."}],"role":"symbol"},"doc://DiContainer/documentation/DiContainer/UseCaseModuleFactory":{"url":"\/documentation\/dicontainer\/usecasemodulefactory","role":"symbol","navigatorTitle":[{"text":"UseCaseModuleFactory","kind":"identifier"}],"type":"topic","fragments":[{"text":"struct","kind":"keyword"},{"text":" ","kind":"text"},{"text":"UseCaseModuleFactory","kind":"identifier"}],"abstract":[{"code":"UseCaseModuleFactory","type":"codeVoice"},{"type":"text","text":"는 "},{"type":"reference","identifier":"doc:\/\/DiContainer\/documentation\/DiContainer\/UseCaseModuleFactoryProtocol","isActive":true},{"type":"text","text":"을 채택한 "},{"inlineContent":[{"text":"Use Case 계층 모듈 팩토리","type":"text"}],"type":"strong"},{"type":"text","text":"입니다."}],"identifier":"doc:\/\/DiContainer\/documentation\/DiContainer\/UseCaseModuleFactory","title":"UseCaseModuleFactory","kind":"symbol"},"doc://DiContainer/documentation/DiContainer/RegisterModule":{"kind":"symbol","identifier":"doc:\/\/DiContainer\/documentation\/DiContainer\/RegisterModule","abstract":[],"role":"symbol","type":"topic","fragments":[{"kind":"keyword","text":"struct"},{"kind":"text","text":" "},{"kind":"identifier","text":"RegisterModule"}],"navigatorTitle":[{"kind":"identifier","text":"RegisterModule"}],"url":"\/documentation\/dicontainer\/registermodule","title":"RegisterModule"},"doc://DiContainer/documentation/DiContainer/Module":{"navigatorTitle":[{"text":"Module","kind":"identifier"}],"url":"\/documentation\/dicontainer\/module","identifier":"doc:\/\/DiContainer\/documentation\/DiContainer\/Module","fragments":[{"text":"actor","kind":"keyword"},{"text":" ","kind":"text"},{"text":"Module","kind":"identifier"}],"type":"topic","role":"symbol","kind":"symbol","title":"Module","abstract":[{"type":"codeVoice","code":"Module"},{"type":"text","text":"은 DI(의존성 주입)를 위한 "},{"type":"strong","inlineContent":[{"type":"text","text":"단일 모듈"}]},{"type":"text","text":"을 나타내는 구조체입니다."}]},"doc://DiContainer/documentation/DiContainer/UseCaseModuleFactoryProtocol/useCaseDefinitions":{"title":"useCaseDefinitions","kind":"symbol","role":"symbol","url":"\/documentation\/dicontainer\/usecasemodulefactoryprotocol\/usecasedefinitions","type":"topic","fragments":[{"kind":"keyword","text":"var"},{"kind":"text","text":" "},{"kind":"identifier","text":"useCaseDefinitions"},{"kind":"text","text":": [() -> "},{"kind":"typeIdentifier","text":"Module","preciseIdentifier":"s:11DiContainer6ModuleC"},{"kind":"text","text":"]"}],"required":true,"identifier":"doc:\/\/DiContainer\/documentation\/DiContainer\/UseCaseModuleFactoryProtocol\/useCaseDefinitions","abstract":[{"text":"Use Case 모듈을 생성하는 ","type":"text"},{"type":"strong","inlineContent":[{"type":"text","text":"클로저"}]},{"text":"들의 배열.","type":"text"},{"text":" ","type":"text"},{"text":"각 클로저는 호출 시 ","type":"text"},{"type":"codeVoice","code":"Module"},{"text":" 인스턴스를 반환합니다.","type":"text"}]},"doc://DiContainer/documentation/DiContainer/UseCaseModuleFactoryProtocol/registerModule":{"kind":"symbol","identifier":"doc:\/\/DiContainer\/documentation\/DiContainer\/UseCaseModuleFactoryProtocol\/registerModule","abstract":[{"type":"text","text":"Use Case 모듈 생성 시 필요한 의존성을 등록하기 위한 헬퍼("},{"code":"RegisterModule","type":"codeVoice"},{"type":"text","text":")."}],"title":"registerModule","url":"\/documentation\/dicontainer\/usecasemodulefactoryprotocol\/registermodule","required":true,"type":"topic","role":"symbol","fragments":[{"text":"var","kind":"keyword"},{"text":" ","kind":"text"},{"text":"registerModule","kind":"identifier"},{"text":": ","kind":"text"},{"text":"RegisterModule","kind":"typeIdentifier","preciseIdentifier":"s:11DiContainer14RegisterModuleV"}]},"doc://DiContainer/documentation/DiContainer":{"abstract":[],"url":"\/documentation\/dicontainer","kind":"symbol","type":"topic","title":"DiContainer","identifier":"doc:\/\/DiContainer\/documentation\/DiContainer","role":"collection"}}}