{"relationshipsSections":[{"title":"Conforms To","identifiers":["doc:\/\/DiContainer\/s8SendableP","doc:\/\/DiContainer\/ScA"],"kind":"relationships","type":"conformsTo"}],"variants":[{"traits":[{"interfaceLanguage":"swift"}],"paths":["\/documentation\/dicontainer\/module"]}],"identifier":{"url":"doc:\/\/DiContainer\/documentation\/DiContainer\/Module","interfaceLanguage":"swift"},"seeAlsoSections":[{"title":"Related Documentation","identifiers":["doc:\/\/DiContainer\/documentation\/DiContainer\/DependencyContainer"],"anchor":"Related-Documentation"}],"kind":"symbol","abstract":[{"code":"Module","type":"codeVoice"},{"text":"은 DI(의존성 주입)를 위한 ","type":"text"},{"type":"strong","inlineContent":[{"type":"text","text":"단일 모듈"}]},{"type":"text","text":"을 나타내는 구조체입니다."}],"primaryContentSections":[{"declarations":[{"tokens":[{"kind":"keyword","text":"actor"},{"kind":"text","text":" "},{"kind":"identifier","text":"Module"}],"platforms":["macOS"],"languages":["swift"]}],"kind":"declarations"},{"parameters":[{"content":[{"inlineContent":[{"text":"등록할 의존성 타입 (예: ","type":"text"},{"type":"codeVoice","code":"AuthRepositoryProtocol.self"},{"text":")","type":"text"}],"type":"paragraph"}],"name":"type"},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"해당 타입의 인스턴스를 생성하는 클로저. "},{"type":"codeVoice","code":"@Sendable"},{"type":"text","text":" 필수."}]}],"name":"factory"}],"kind":"parameters"},{"content":[{"anchor":"overview","type":"heading","level":2,"text":"Overview"},{"type":"paragraph","inlineContent":[{"text":"이 타입을 사용하면, 특정 타입의 인스턴스를 ","type":"text"},{"code":"DependencyContainer","type":"codeVoice"},{"text":"에","type":"text"},{"text":" ","type":"text"},{"type":"strong","inlineContent":[{"type":"text","text":"비동기적으로 등록"}]},{"text":"하는 작업을 하나의 객체로 캡슐화할 수 있습니다.","type":"text"}]},{"anchor":"Declaration","type":"heading","level":2,"text":"Declaration"},{"syntax":"swift","code":["public struct Module: Sendable {","    public init<T>(","        _ type: T.Type,","        factory: @escaping @Sendable () -> T","    )","","    public func register() async","}"],"type":"codeListing"},{"style":"note","name":"Note","type":"aside","content":[{"type":"paragraph","inlineContent":[{"text":"","type":"text"},{"code":"factory","type":"codeVoice"},{"text":" 파라미터는 반드시 ","type":"text"},{"code":"@Sendable","type":"codeVoice"},{"text":"로 선언하여 스레드 안정성을 보장해야 합니다.","type":"text"}]}]},{"anchor":"Stored-Properties","type":"heading","level":2,"text":"Stored Properties"},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"code":"registrationClosure","type":"codeVoice"},{"text":":","type":"text"},{"text":" ","type":"text"},{"text":"내부에 저장된 비동기 클로저로, ","type":"text"},{"code":"register()","type":"codeVoice"},{"text":" 호출 시 실행됩니다.","type":"text"},{"text":" ","type":"text"},{"text":"생성 시 전달받은 ","type":"text"},{"code":"(type, factory)","type":"codeVoice"},{"text":" 정보를 기반으로","type":"text"},{"text":" ","type":"text"},{"type":"codeVoice","code":"DependencyContainer.live.register(type, build: factory)"},{"type":"text","text":"를 호출하도록 구성됩니다."}],"type":"paragraph"}]}]},{"anchor":"Initializers","type":"heading","level":2,"text":"Initializers"},{"anchor":"initfactory","type":"heading","level":3,"text":"`init(_:factory:)`"},{"type":"paragraph","inlineContent":[{"type":"text","text":"주어진 타입과 팩토리 클로저를 사용해 "},{"type":"codeVoice","code":"Module"},{"type":"text","text":" 인스턴스를 초기화합니다."}]},{"syntax":"swift","code":["public init<T>(","    _ type: T.Type,","    factory: @escaping @Sendable () -> T",")"],"type":"codeListing"},{"content":[{"inlineContent":[{"type":"text","text":"생성된 "},{"type":"codeVoice","code":"Module"},{"type":"text","text":"은 "},{"type":"codeVoice","code":"register()"},{"type":"text","text":"를 호출해야만 DI 컨테이너에 등록됩니다."}],"type":"paragraph"}],"style":"important","type":"aside","name":"Important"},{"level":2,"anchor":"Instance-Methods","text":"Instance Methods","type":"heading"},{"level":3,"anchor":"register","text":"`register()`","type":"heading"},{"inlineContent":[{"text":"저장된 ","type":"text"},{"type":"codeVoice","code":"registrationClosure"},{"text":"를 실행하여 DI 컨테이너에 의존성을 등록합니다.","type":"text"}],"type":"paragraph"},{"syntax":"swift","type":"codeListing","code":["public func register() async"]},{"items":[{"content":[{"inlineContent":[{"type":"text","text":"Concurrency: 비동기 메서드이므로 호출 간 다른 작업이 스케줄링될 수 있습니다."}],"type":"paragraph"}]}],"type":"unorderedList"},{"style":"important","content":[{"inlineContent":[{"text":"반드시 ","type":"text"},{"code":"await","type":"codeVoice"},{"text":" 키워드와 함께 호출해야 하며,","type":"text"},{"type":"text","text":" "},{"type":"text","text":"등록이 완료될 때까지 비동기적으로 대기합니다."}],"type":"paragraph"}],"type":"aside","name":"Important"},{"type":"heading","level":4,"text":"Example","anchor":"Example"},{"code":["\/\/ 1) Module 생성","let networkModule = Module(","    NetworkServiceProtocol.self,","    factory: { DefaultNetworkService() }",")","","\/\/ 2) Module 등록","Task {","    await networkModule.register()","    \/\/ 이후 의존성 사용","    let service: NetworkServiceProtocol =","        DependencyContainer.live.resolve(NetworkServiceProtocol.self)!","    await service.request(...)","}"],"type":"codeListing","syntax":"swift"},{"type":"heading","level":2,"text":"Example – 전체 흐름","anchor":"Example-%EC%A0%84%EC%B2%B4-%ED%9D%90%EB%A6%84"},{"inlineContent":[{"text":"아래는 ","type":"text"},{"code":"UserServiceProtocol","type":"codeVoice"},{"text":" 타입을 DI 컨테이너에 등록하는 예시입니다.","type":"text"}],"type":"paragraph"},{"code":["import DiContainer","","protocol UserServiceProtocol {","    func fetchUser(id: String) async -> User?","}","","struct DefaultUserService: UserServiceProtocol {","    func fetchUser(id: String) async -> User? {","        return User(id: id, name: \"Test User\")","    }","}","","extension AppDIContainer {","    public func registerUserServiceModule() async {","        let userServiceModule = Module(","            UserServiceProtocol.self,","            factory: { DefaultUserService() }","        )","","        await registerDependencies { container in","            await container.register(userServiceModule)","        }","    }","}","","import SwiftUI","","@main","struct MyApp: App {","    init() {","        Task {","            await AppDIContainer.shared.registerUserServiceModule()","        }","    }","","    var body: some Scene {","        WindowGroup {","            ContentView()","        }","    }","}"],"type":"codeListing","syntax":"swift"},{"type":"heading","level":2,"text":"Relationships","anchor":"Relationships"},{"items":[{"content":[{"inlineContent":[{"type":"text","text":"Conforms to: "},{"type":"codeVoice","code":"Sendable"}],"type":"paragraph"}]}],"type":"unorderedList"}],"kind":"content"}],"sections":[],"metadata":{"title":"Module","role":"symbol","modules":[{"name":"DiContainer"}],"externalID":"s:11DiContainer6ModuleC","roleHeading":"Class","symbolKind":"class","navigatorTitle":[{"text":"Module","kind":"identifier"}],"fragments":[{"text":"actor","kind":"keyword"},{"text":" ","kind":"text"},{"text":"Module","kind":"identifier"}]},"schemaVersion":{"minor":3,"major":0,"patch":0},"hierarchy":{"paths":[["doc:\/\/DiContainer\/documentation\/DiContainer"]]},"topicSections":[{"title":"Initializers","generated":true,"identifiers":["doc:\/\/DiContainer\/documentation\/DiContainer\/Module\/init(_:factory:)"],"anchor":"Initializers"},{"title":"Instance Methods","generated":true,"identifiers":["doc:\/\/DiContainer\/documentation\/DiContainer\/Module\/register()"],"anchor":"Instance-Methods"},{"title":"Default Implementations","generated":true,"identifiers":["doc:\/\/DiContainer\/documentation\/DiContainer\/Module\/Actor-Implementations"],"anchor":"Default-Implementations"}],"references":{"doc://DiContainer/documentation/DiContainer/Module/init(_:factory:)":{"role":"symbol","type":"topic","abstract":[{"text":"Module 생성자","type":"text"}],"url":"\/documentation\/dicontainer\/module\/init(_:factory:)","identifier":"doc:\/\/DiContainer\/documentation\/DiContainer\/Module\/init(_:factory:)","title":"init(_:factory:)","fragments":[{"text":"init","kind":"identifier"},{"text":"<","kind":"text"},{"text":"T","kind":"genericParameter"},{"text":">(","kind":"text"},{"text":"T","kind":"typeIdentifier"},{"text":".Type, ","kind":"text"},{"text":"factory","kind":"externalParam"},{"kind":"text","text":": () -> "},{"kind":"typeIdentifier","text":"T"},{"kind":"text","text":")"}],"kind":"symbol"},"doc://DiContainer/ScA":{"identifier":"doc:\/\/DiContainer\/ScA","title":"_Concurrency.Actor","type":"unresolvable"},"doc://DiContainer/s8SendableP":{"identifier":"doc:\/\/DiContainer\/s8SendableP","title":"Swift.Sendable","type":"unresolvable"},"doc://DiContainer/documentation/DiContainer":{"abstract":[],"url":"\/documentation\/dicontainer","kind":"symbol","type":"topic","title":"DiContainer","identifier":"doc:\/\/DiContainer\/documentation\/DiContainer","role":"collection"},"doc://DiContainer/documentation/DiContainer/Module/Actor-Implementations":{"identifier":"doc:\/\/DiContainer\/documentation\/DiContainer\/Module\/Actor-Implementations","role":"collectionGroup","kind":"article","abstract":[],"title":"Actor Implementations","url":"\/documentation\/dicontainer\/module\/actor-implementations","type":"topic"},"doc://DiContainer/documentation/DiContainer/Module/register()":{"identifier":"doc:\/\/DiContainer\/documentation\/DiContainer\/Module\/register()","role":"symbol","abstract":[{"text":"저장된 ","type":"text"},{"code":"registrationClosure","type":"codeVoice"},{"text":"를 실행하여, 비동기적으로 의존성을 DI 컨테이너에 등록합니다.","type":"text"}],"type":"topic","url":"\/documentation\/dicontainer\/module\/register()","kind":"symbol","title":"register()","fragments":[{"text":"func","kind":"keyword"},{"text":" ","kind":"text"},{"text":"register","kind":"identifier"},{"text":"() ","kind":"text"},{"text":"async","kind":"keyword"}]},"doc://DiContainer/documentation/DiContainer/DependencyContainer":{"role":"symbol","url":"\/documentation\/dicontainer\/dependencycontainer","fragments":[{"text":"class","kind":"keyword"},{"text":" ","kind":"text"},{"text":"DependencyContainer","kind":"identifier"}],"identifier":"doc:\/\/DiContainer\/documentation\/DiContainer\/DependencyContainer","kind":"symbol","type":"topic","abstract":[],"navigatorTitle":[{"text":"DependencyContainer","kind":"identifier"}],"title":"DependencyContainer"},"doc://DiContainer/documentation/DiContainer/Module":{"navigatorTitle":[{"text":"Module","kind":"identifier"}],"url":"\/documentation\/dicontainer\/module","identifier":"doc:\/\/DiContainer\/documentation\/DiContainer\/Module","fragments":[{"text":"actor","kind":"keyword"},{"text":" ","kind":"text"},{"text":"Module","kind":"identifier"}],"type":"topic","role":"symbol","kind":"symbol","title":"Module","abstract":[{"type":"codeVoice","code":"Module"},{"type":"text","text":"은 DI(의존성 주입)를 위한 "},{"type":"strong","inlineContent":[{"type":"text","text":"단일 모듈"}]},{"type":"text","text":"을 나타내는 구조체입니다."}]}}}