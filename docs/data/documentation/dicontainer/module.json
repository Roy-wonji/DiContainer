{"seeAlsoSections":[{"anchor":"Related-Documentation","title":"Related Documentation","identifiers":["doc:\/\/DiContainer\/documentation\/DiContainer\/DependencyContainer"]}],"kind":"symbol","schemaVersion":{"patch":0,"major":0,"minor":3},"hierarchy":{"paths":[["doc:\/\/DiContainer\/documentation\/DiContainer"]]},"identifier":{"url":"doc:\/\/DiContainer\/documentation\/DiContainer\/Module","interfaceLanguage":"swift"},"sections":[],"abstract":[{"type":"codeVoice","code":"Module"},{"type":"text","text":"은 DI(의존성 주입)를 위한 "},{"type":"strong","inlineContent":[{"type":"text","text":"단일 모듈"}]},{"type":"text","text":"을 나타내는 구조체입니다."}],"topicSections":[{"generated":true,"identifiers":["doc:\/\/DiContainer\/documentation\/DiContainer\/Module\/init(_:factory:)"],"title":"Initializers","anchor":"Initializers"},{"generated":true,"anchor":"Instance-Methods","title":"Instance Methods","identifiers":["doc:\/\/DiContainer\/documentation\/DiContainer\/Module\/register()"]},{"anchor":"Default-Implementations","generated":true,"title":"Default Implementations","identifiers":["doc:\/\/DiContainer\/documentation\/DiContainer\/Module\/Actor-Implementations"]}],"relationshipsSections":[{"kind":"relationships","type":"conformsTo","title":"Conforms To","identifiers":["doc:\/\/DiContainer\/s8SendableP","doc:\/\/DiContainer\/ScA"]}],"primaryContentSections":[{"declarations":[{"tokens":[{"kind":"keyword","text":"actor"},{"kind":"text","text":" "},{"kind":"identifier","text":"Module"}],"platforms":["macOS"],"languages":["swift"]}],"kind":"declarations"},{"kind":"parameters","parameters":[{"name":"type","content":[{"inlineContent":[{"type":"text","text":"등록할 의존성 타입 (예: "},{"code":"AuthRepositoryProtocol.self","type":"codeVoice"},{"type":"text","text":")"}],"type":"paragraph"}]},{"name":"factory","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"해당 타입의 인스턴스를 생성하는 클로저. "},{"type":"codeVoice","code":"@Sendable"},{"type":"text","text":" 필수."}]}]}]},{"kind":"content","content":[{"level":2,"type":"heading","text":"Overview","anchor":"overview"},{"inlineContent":[{"text":"이 타입을 사용하면, 특정 타입의 인스턴스를 ","type":"text"},{"type":"codeVoice","code":"DependencyContainer"},{"text":"에","type":"text"},{"text":" ","type":"text"},{"inlineContent":[{"type":"text","text":"비동기적으로 등록"}],"type":"strong"},{"text":"하는 작업을 하나의 객체로 캡슐화할 수 있습니다.","type":"text"}],"type":"paragraph"},{"level":2,"type":"heading","text":"Declaration","anchor":"Declaration"},{"syntax":"swift","type":"codeListing","code":["public struct Module: Sendable {","    public init<T>(","        _ type: T.Type,","        factory: @escaping @Sendable () -> T","    )","","    public func register() async","}"]},{"name":"Note","style":"note","type":"aside","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":""},{"type":"codeVoice","code":"factory"},{"type":"text","text":" 파라미터는 반드시 "},{"type":"codeVoice","code":"@Sendable"},{"type":"text","text":"로 선언하여 스레드 안정성을 보장해야 합니다."}]}]},{"level":2,"type":"heading","text":"Stored Properties","anchor":"Stored-Properties"},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"registrationClosure"},{"type":"text","text":":"},{"type":"text","text":" "},{"type":"text","text":"내부에 저장된 비동기 클로저로, "},{"type":"codeVoice","code":"register()"},{"type":"text","text":" 호출 시 실행됩니다."},{"type":"text","text":" "},{"type":"text","text":"생성 시 전달받은 "},{"type":"codeVoice","code":"(type, factory)"},{"type":"text","text":" 정보를 기반으로"},{"type":"text","text":" "},{"type":"codeVoice","code":"DependencyContainer.live.register(type, build: factory)"},{"type":"text","text":"를 호출하도록 구성됩니다."}]}]}]},{"level":2,"type":"heading","text":"Initializers","anchor":"Initializers"},{"level":3,"type":"heading","text":"`init(_:factory:)`","anchor":"initfactory"},{"inlineContent":[{"text":"주어진 타입과 팩토리 클로저를 사용해 ","type":"text"},{"type":"codeVoice","code":"Module"},{"text":" 인스턴스를 초기화합니다.","type":"text"}],"type":"paragraph"},{"syntax":"swift","type":"codeListing","code":["public init<T>(","    _ type: T.Type,","    factory: @escaping @Sendable () -> T",")"]},{"name":"Important","style":"important","type":"aside","content":[{"type":"paragraph","inlineContent":[{"text":"생성된 ","type":"text"},{"type":"codeVoice","code":"Module"},{"text":"은 ","type":"text"},{"type":"codeVoice","code":"register()"},{"text":"를 호출해야만 DI 컨테이너에 등록됩니다.","type":"text"}]}]},{"level":2,"type":"heading","text":"Instance Methods","anchor":"Instance-Methods"},{"level":3,"type":"heading","text":"`register()`","anchor":"register"},{"inlineContent":[{"text":"저장된 ","type":"text"},{"type":"codeVoice","code":"registrationClosure"},{"text":"를 실행하여 DI 컨테이너에 의존성을 등록합니다.","type":"text"}],"type":"paragraph"},{"syntax":"swift","type":"codeListing","code":["public func register() async"]},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"text":"Concurrency: 비동기 메서드이므로 호출 간 다른 작업이 스케줄링될 수 있습니다.","type":"text"}]}]}]},{"name":"Important","style":"important","type":"aside","content":[{"inlineContent":[{"type":"text","text":"반드시 "},{"type":"codeVoice","code":"await"},{"type":"text","text":" 키워드와 함께 호출해야 하며,"},{"type":"text","text":" "},{"type":"text","text":"등록이 완료될 때까지 비동기적으로 대기합니다."}],"type":"paragraph"}]},{"level":4,"type":"heading","text":"Example","anchor":"Example"},{"syntax":"swift","type":"codeListing","code":["\/\/ 1) Module 생성","let networkModule = Module(","    NetworkServiceProtocol.self,","    factory: { DefaultNetworkService() }",")","","\/\/ 2) Module 등록","Task {","    await networkModule.register()","    \/\/ 이후 의존성 사용","    let service: NetworkServiceProtocol =","        DependencyContainer.live.resolve(NetworkServiceProtocol.self)!","    await service.request(...)","}"]},{"level":2,"type":"heading","text":"Example – 전체 흐름","anchor":"Example-%EC%A0%84%EC%B2%B4-%ED%9D%90%EB%A6%84"},{"inlineContent":[{"text":"아래는 ","type":"text"},{"code":"UserServiceProtocol","type":"codeVoice"},{"text":" 타입을 DI 컨테이너에 등록하는 예시입니다.","type":"text"}],"type":"paragraph"},{"syntax":"swift","type":"codeListing","code":["import DiContainer","","protocol UserServiceProtocol {","    func fetchUser(id: String) async -> User?","}","","struct DefaultUserService: UserServiceProtocol {","    func fetchUser(id: String) async -> User? {","        return User(id: id, name: \"Test User\")","    }","}","","extension AppDIContainer {","    public func registerUserServiceModule() async {","        let userServiceModule = Module(","            UserServiceProtocol.self,","            factory: { DefaultUserService() }","        )","","        await registerDependencies { container in","            await container.register(userServiceModule)","        }","    }","}","","import SwiftUI","","@main","struct MyApp: App {","    init() {","        Task {","            await AppDIContainer.shared.registerUserServiceModule()","        }","    }","","    var body: some Scene {","        WindowGroup {","            ContentView()","        }","    }","}"]},{"level":2,"type":"heading","text":"Relationships","anchor":"Relationships"},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"text":"Conforms to: ","type":"text"},{"type":"codeVoice","code":"Sendable"}],"type":"paragraph"}]}]}]}],"metadata":{"symbolKind":"class","fragments":[{"text":"actor","kind":"keyword"},{"text":" ","kind":"text"},{"text":"Module","kind":"identifier"}],"externalID":"s:11DiContainer6ModuleC","modules":[{"name":"DiContainer"}],"title":"Module","navigatorTitle":[{"text":"Module","kind":"identifier"}],"role":"symbol","roleHeading":"Class"},"variants":[{"paths":["\/documentation\/dicontainer\/module"],"traits":[{"interfaceLanguage":"swift"}]}],"references":{"doc://DiContainer/ScA":{"type":"unresolvable","identifier":"doc:\/\/DiContainer\/ScA","title":"_Concurrency.Actor"},"doc://DiContainer/documentation/DiContainer/Module/Actor-Implementations":{"abstract":[],"type":"topic","kind":"article","url":"\/documentation\/dicontainer\/module\/actor-implementations","identifier":"doc:\/\/DiContainer\/documentation\/DiContainer\/Module\/Actor-Implementations","title":"Actor Implementations","role":"collectionGroup"},"doc://DiContainer/s8SendableP":{"type":"unresolvable","identifier":"doc:\/\/DiContainer\/s8SendableP","title":"Swift.Sendable"},"doc://DiContainer/documentation/DiContainer/Module":{"url":"\/documentation\/dicontainer\/module","role":"symbol","fragments":[{"text":"actor","kind":"keyword"},{"text":" ","kind":"text"},{"text":"Module","kind":"identifier"}],"type":"topic","kind":"symbol","identifier":"doc:\/\/DiContainer\/documentation\/DiContainer\/Module","navigatorTitle":[{"text":"Module","kind":"identifier"}],"abstract":[{"code":"Module","type":"codeVoice"},{"text":"은 DI(의존성 주입)를 위한 ","type":"text"},{"inlineContent":[{"text":"단일 모듈","type":"text"}],"type":"strong"},{"text":"을 나타내는 구조체입니다.","type":"text"}],"title":"Module"},"doc://DiContainer/documentation/DiContainer/Module/init(_:factory:)":{"type":"topic","url":"\/documentation\/dicontainer\/module\/init(_:factory:)","kind":"symbol","fragments":[{"text":"init","kind":"identifier"},{"text":"<","kind":"text"},{"text":"T","kind":"genericParameter"},{"text":">(","kind":"text"},{"text":"T","kind":"typeIdentifier"},{"text":".Type, ","kind":"text"},{"text":"factory","kind":"externalParam"},{"text":": () -> ","kind":"text"},{"text":"T","kind":"typeIdentifier"},{"text":")","kind":"text"}],"identifier":"doc:\/\/DiContainer\/documentation\/DiContainer\/Module\/init(_:factory:)","abstract":[{"type":"text","text":"Module 생성자"}],"role":"symbol","title":"init(_:factory:)"},"doc://DiContainer/documentation/DiContainer":{"identifier":"doc:\/\/DiContainer\/documentation\/DiContainer","abstract":[],"type":"topic","kind":"symbol","title":"DiContainer","url":"\/documentation\/dicontainer","role":"collection"},"doc://DiContainer/documentation/DiContainer/Module/register()":{"type":"topic","kind":"symbol","role":"symbol","title":"register()","abstract":[{"text":"저장된 ","type":"text"},{"code":"registrationClosure","type":"codeVoice"},{"text":"를 실행하여, 비동기적으로 의존성을 DI 컨테이너에 등록합니다.","type":"text"}],"url":"\/documentation\/dicontainer\/module\/register()","identifier":"doc:\/\/DiContainer\/documentation\/DiContainer\/Module\/register()","fragments":[{"text":"func","kind":"keyword"},{"text":" ","kind":"text"},{"text":"register","kind":"identifier"},{"text":"() ","kind":"text"},{"text":"async","kind":"keyword"}]},"doc://DiContainer/documentation/DiContainer/DependencyContainer":{"abstract":[{"type":"text","text":"애플리케이션 전역에서 의존성을 "},{"type":"strong","inlineContent":[{"text":"등록·조회·해제","type":"text"}]},{"type":"text","text":"할 수 있는"},{"type":"text","text":" "},{"type":"text","text":"스레드-세이프 DI 컨테이너입니다."}],"kind":"symbol","title":"DependencyContainer","role":"symbol","navigatorTitle":[{"kind":"identifier","text":"DependencyContainer"}],"type":"topic","fragments":[{"kind":"keyword","text":"class"},{"kind":"text","text":" "},{"kind":"identifier","text":"DependencyContainer"}],"url":"\/documentation\/dicontainer\/dependencycontainer","identifier":"doc:\/\/DiContainer\/documentation\/DiContainer\/DependencyContainer"}}}