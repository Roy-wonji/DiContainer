{"topicSections":[{"title":"Initializers","generated":true,"identifiers":["doc:\/\/DiContainer\/documentation\/DiContainer\/Module\/init(_:factory:)"],"anchor":"Initializers"},{"title":"Instance Methods","generated":true,"identifiers":["doc:\/\/DiContainer\/documentation\/DiContainer\/Module\/register()"],"anchor":"Instance-Methods"},{"title":"Default Implementations","generated":true,"identifiers":["doc:\/\/DiContainer\/documentation\/DiContainer\/Module\/Actor-Implementations"],"anchor":"Default-Implementations"}],"abstract":[{"code":"Module","type":"codeVoice"},{"text":"은 DI(의존성 주입)를 위한 ","type":"text"},{"inlineContent":[{"type":"text","text":"단일 모듈"}],"type":"strong"},{"text":"을 나타내는 구조체입니다.","type":"text"}],"variants":[{"traits":[{"interfaceLanguage":"swift"}],"paths":["\/documentation\/dicontainer\/module"]}],"metadata":{"title":"Module","role":"symbol","modules":[{"name":"DiContainer"}],"symbolKind":"class","externalID":"s:11DiContainer6ModuleC","roleHeading":"Class","navigatorTitle":[{"text":"Module","kind":"identifier"}],"fragments":[{"text":"actor","kind":"keyword"},{"text":" ","kind":"text"},{"text":"Module","kind":"identifier"}]},"kind":"symbol","identifier":{"url":"doc:\/\/DiContainer\/documentation\/DiContainer\/Module","interfaceLanguage":"swift"},"schemaVersion":{"major":0,"minor":3,"patch":0},"seeAlsoSections":[{"title":"Related Documentation","identifiers":["doc:\/\/DiContainer\/documentation\/DiContainer\/DependencyContainer"],"anchor":"Related-Documentation"}],"hierarchy":{"paths":[["doc:\/\/DiContainer\/documentation\/DiContainer"]]},"primaryContentSections":[{"declarations":[{"languages":["swift"],"tokens":[{"kind":"keyword","text":"actor"},{"kind":"text","text":" "},{"kind":"identifier","text":"Module"}],"platforms":["macOS"]}],"kind":"declarations"},{"kind":"parameters","parameters":[{"name":"type","content":[{"inlineContent":[{"text":"등록할 의존성 타입 (예: ","type":"text"},{"code":"AuthRepositoryProtocol.self","type":"codeVoice"},{"text":")","type":"text"}],"type":"paragraph"}]},{"name":"factory","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"해당 타입의 인스턴스를 생성하는 클로저. "},{"type":"codeVoice","code":"@Sendable"},{"type":"text","text":" 필수."}]}]}]},{"kind":"content","content":[{"type":"heading","text":"Overview","level":2,"anchor":"overview"},{"type":"paragraph","inlineContent":[{"text":"이 타입을 사용하면, 특정 타입의 인스턴스를 ","type":"text"},{"type":"codeVoice","code":"DependencyContainer"},{"text":"에","type":"text"},{"text":" ","type":"text"},{"type":"strong","inlineContent":[{"type":"text","text":"비동기적으로 등록"}]},{"text":"하는 작업을 하나의 객체로 캡슐화할 수 있습니다.","type":"text"}]},{"type":"heading","text":"Declaration","level":2,"anchor":"Declaration"},{"type":"codeListing","code":["public struct Module: Sendable {","    public init<T>(","        _ type: T.Type,","        factory: @escaping @Sendable () -> T","    )","","    public func register() async","}"],"syntax":"swift"},{"type":"aside","name":"Note","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":""},{"code":"factory","type":"codeVoice"},{"type":"text","text":" 파라미터는 반드시 "},{"code":"@Sendable","type":"codeVoice"},{"type":"text","text":"로 선언하여 스레드 안정성을 보장해야 합니다."}]}],"style":"note"},{"type":"heading","text":"Stored Properties","level":2,"anchor":"Stored-Properties"},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"registrationClosure"},{"text":":","type":"text"},{"text":" ","type":"text"},{"text":"내부에 저장된 비동기 클로저로, ","type":"text"},{"type":"codeVoice","code":"register()"},{"text":" 호출 시 실행됩니다.","type":"text"},{"text":" ","type":"text"},{"text":"생성 시 전달받은 ","type":"text"},{"type":"codeVoice","code":"(type, factory)"},{"text":" 정보를 기반으로","type":"text"},{"text":" ","type":"text"},{"code":"DependencyContainer.live.register(type, build: factory)","type":"codeVoice"},{"text":"를 호출하도록 구성됩니다.","type":"text"}]}]}]},{"type":"heading","text":"Initializers","level":2,"anchor":"Initializers"},{"type":"heading","text":"`init(_:factory:)`","level":3,"anchor":"initfactory"},{"type":"paragraph","inlineContent":[{"text":"주어진 타입과 팩토리 클로저를 사용해 ","type":"text"},{"code":"Module","type":"codeVoice"},{"text":" 인스턴스를 초기화합니다.","type":"text"}]},{"type":"codeListing","code":["public init<T>(","    _ type: T.Type,","    factory: @escaping @Sendable () -> T",")"],"syntax":"swift"},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"생성된 "},{"type":"codeVoice","code":"Module"},{"type":"text","text":"은 "},{"type":"codeVoice","code":"register()"},{"type":"text","text":"를 호출해야만 DI 컨테이너에 등록됩니다."}]}],"type":"aside","style":"important","name":"Important"},{"level":2,"text":"Instance Methods","type":"heading","anchor":"Instance-Methods"},{"level":3,"text":"`register()`","type":"heading","anchor":"register"},{"inlineContent":[{"text":"저장된 ","type":"text"},{"code":"registrationClosure","type":"codeVoice"},{"text":"를 실행하여 DI 컨테이너에 의존성을 등록합니다.","type":"text"}],"type":"paragraph"},{"code":["public func register() async"],"syntax":"swift","type":"codeListing"},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"text":"Concurrency: 비동기 메서드이므로 호출 간 다른 작업이 스케줄링될 수 있습니다.","type":"text"}],"type":"paragraph"}]}]},{"content":[{"inlineContent":[{"text":"반드시 ","type":"text"},{"code":"await","type":"codeVoice"},{"text":" 키워드와 함께 호출해야 하며,","type":"text"},{"text":" ","type":"text"},{"text":"등록이 완료될 때까지 비동기적으로 대기합니다.","type":"text"}],"type":"paragraph"}],"type":"aside","style":"important","name":"Important"},{"type":"heading","text":"Example","anchor":"Example","level":4},{"type":"codeListing","syntax":"swift","code":["\/\/ 1) Module 생성","let networkModule = Module(","    NetworkServiceProtocol.self,","    factory: { DefaultNetworkService() }",")","","\/\/ 2) Module 등록","Task {","    await networkModule.register()","    \/\/ 이후 의존성 사용","    let service: NetworkServiceProtocol =","        DependencyContainer.live.resolve(NetworkServiceProtocol.self)!","    await service.request(...)","}"]},{"type":"heading","text":"Example – 전체 흐름","anchor":"Example-%EC%A0%84%EC%B2%B4-%ED%9D%90%EB%A6%84","level":2},{"type":"paragraph","inlineContent":[{"text":"아래는 ","type":"text"},{"code":"UserServiceProtocol","type":"codeVoice"},{"text":" 타입을 DI 컨테이너에 등록하는 예시입니다.","type":"text"}]},{"type":"codeListing","syntax":"swift","code":["import DiContainer","","protocol UserServiceProtocol {","    func fetchUser(id: String) async -> User?","}","","struct DefaultUserService: UserServiceProtocol {","    func fetchUser(id: String) async -> User? {","        return User(id: id, name: \"Test User\")","    }","}","","extension AppDIContainer {","    public func registerUserServiceModule() async {","        let userServiceModule = Module(","            UserServiceProtocol.self,","            factory: { DefaultUserService() }","        )","","        await registerDependencies { container in","            await container.register(userServiceModule)","        }","    }","}","","import SwiftUI","","@main","struct MyApp: App {","    init() {","        Task {","            await AppDIContainer.shared.registerUserServiceModule()","        }","    }","","    var body: some Scene {","        WindowGroup {","            ContentView()","        }","    }","}"]},{"type":"heading","text":"Relationships","anchor":"Relationships","level":2},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"text":"Conforms to: ","type":"text"},{"code":"Sendable","type":"codeVoice"}],"type":"paragraph"}]}]}]}],"relationshipsSections":[{"title":"Conforms To","kind":"relationships","identifiers":["doc:\/\/DiContainer\/s8SendableP","doc:\/\/DiContainer\/ScA"],"type":"conformsTo"}],"sections":[],"references":{"doc://DiContainer/documentation/DiContainer/Module/Actor-Implementations":{"url":"\/documentation\/dicontainer\/module\/actor-implementations","role":"collectionGroup","identifier":"doc:\/\/DiContainer\/documentation\/DiContainer\/Module\/Actor-Implementations","type":"topic","title":"Actor Implementations","kind":"article","abstract":[]},"doc://DiContainer/s8SendableP":{"type":"unresolvable","identifier":"doc:\/\/DiContainer\/s8SendableP","title":"Swift.Sendable"},"doc://DiContainer/documentation/DiContainer/Module":{"type":"topic","role":"symbol","navigatorTitle":[{"text":"Module","kind":"identifier"}],"identifier":"doc:\/\/DiContainer\/documentation\/DiContainer\/Module","kind":"symbol","abstract":[{"code":"Module","type":"codeVoice"},{"text":"은 DI(의존성 주입)를 위한 ","type":"text"},{"inlineContent":[{"text":"단일 모듈","type":"text"}],"type":"strong"},{"type":"text","text":"을 나타내는 구조체입니다."}],"url":"\/documentation\/dicontainer\/module","title":"Module","fragments":[{"text":"actor","kind":"keyword"},{"text":" ","kind":"text"},{"text":"Module","kind":"identifier"}]},"doc://DiContainer/documentation/DiContainer":{"identifier":"doc:\/\/DiContainer\/documentation\/DiContainer","kind":"symbol","type":"topic","title":"DiContainer","abstract":[],"role":"collection","url":"\/documentation\/dicontainer"},"doc://DiContainer/documentation/DiContainer/DependencyContainer":{"url":"\/documentation\/dicontainer\/dependencycontainer","identifier":"doc:\/\/DiContainer\/documentation\/DiContainer\/DependencyContainer","kind":"symbol","fragments":[{"kind":"keyword","text":"class"},{"kind":"text","text":" "},{"kind":"identifier","text":"DependencyContainer"}],"title":"DependencyContainer","abstract":[{"type":"text","text":"애플리케이션 전역에서 의존성을 "},{"type":"strong","inlineContent":[{"text":"등록·조회·해제","type":"text"}]},{"type":"text","text":"할 수 있는"},{"type":"text","text":" "},{"type":"text","text":"스레드-세이프 DI 컨테이너입니다."}],"navigatorTitle":[{"kind":"identifier","text":"DependencyContainer"}],"type":"topic","role":"symbol"},"doc://DiContainer/ScA":{"type":"unresolvable","identifier":"doc:\/\/DiContainer\/ScA","title":"_Concurrency.Actor"},"doc://DiContainer/documentation/DiContainer/Module/register()":{"type":"topic","identifier":"doc:\/\/DiContainer\/documentation\/DiContainer\/Module\/register()","fragments":[{"text":"func","kind":"keyword"},{"text":" ","kind":"text"},{"text":"register","kind":"identifier"},{"text":"() ","kind":"text"},{"text":"async","kind":"keyword"}],"url":"\/documentation\/dicontainer\/module\/register()","kind":"symbol","abstract":[{"text":"저장된 ","type":"text"},{"code":"registrationClosure","type":"codeVoice"},{"text":"를 실행하여, 비동기적으로 의존성을 DI 컨테이너에 등록합니다.","type":"text"}],"role":"symbol","title":"register()"},"doc://DiContainer/documentation/DiContainer/Module/init(_:factory:)":{"url":"\/documentation\/dicontainer\/module\/init(_:factory:)","role":"symbol","fragments":[{"text":"init","kind":"identifier"},{"text":"<","kind":"text"},{"text":"T","kind":"genericParameter"},{"text":">(","kind":"text"},{"text":"T","kind":"typeIdentifier"},{"text":".Type, ","kind":"text"},{"text":"factory","kind":"externalParam"},{"text":": () -> ","kind":"text"},{"text":"T","kind":"typeIdentifier"},{"text":")","kind":"text"}],"title":"init(_:factory:)","abstract":[{"type":"text","text":"Module 생성자"}],"type":"topic","kind":"symbol","identifier":"doc:\/\/DiContainer\/documentation\/DiContainer\/Module\/init(_:factory:)"}}}